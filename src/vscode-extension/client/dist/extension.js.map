{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/stringify/stringifyDocument.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/api.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/typeDefinition.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack://workflow-vscode-client/external node-commonjs \"buffer\"","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/parse/line-counter.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/index.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/parse/cst-scalar.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/doc/anchors.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/utils/uuid.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/protocolWorkspaceSymbol.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/node/ril.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/textSynchronization.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js","webpack://workflow-vscode-client/external node-commonjs \"os\"","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack://workflow-vscode-client/external node-commonjs \"process\"","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/classes/comparator.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/log.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/common/seq.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/nodes/toJS.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/functions/lte.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/internal/lrucache.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/node.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/functions/satisfies.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/nodes/Scalar.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/stringify/stringifyPair.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/nodes/addPairToJSMap.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/protocolDocumentLink.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack://workflow-vscode-client/external commonjs \"vscode\"","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/resolve-block-seq.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/common/map.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/yaml-1.1/timestamp.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/json/schema.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/compose-node.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/workspaceFolder.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/compose-collection.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/parse/parser.js","webpack://workflow-vscode-client/../../../packages/workflow-graph/dist/dependencyAnalyzer.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/protocolCodeLens.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/resolve-flow-collection.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/workspaceSymbol.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/internal/identifiers.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/protocolTypeHierarchyItem.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/hover.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/diagnostic.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/core/int.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/nodes/Alias.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/public-api.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/brace-expansion@2.0.2/node_modules/brace-expansion/index.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/utils/async.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/core/bool.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/events.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/util-contains-newline.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/internal/debug.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/documentLink.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/functions/neq.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/yaml-1.1/set.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/compose-doc.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/nodes/Collection.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/minimatch@5.1.6/node_modules/minimatch/minimatch.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/balanced-match@1.0.2/node_modules/balanced-match/index.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/functions/gte.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/resolve-props.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/parse/cst-stringify.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/connection.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/composer.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/signatureHelp.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/api.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-types@3.17.5/node_modules/vscode-languageserver-types/lib/umd/main.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/protocolCallHierarchyItem.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/nodes/Pair.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/definition.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/yaml-1.1/float.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/protocolConverter.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/completion.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/nodes/Node.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/yaml-1.1/binary.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/progressPart.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/internal/re.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/utils/is.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/rename.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/ral.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/inlineCompletion.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/doc/directives.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/documentSymbol.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/is.js","webpack://workflow-vscode-client/./src/graphPanel.ts","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/reference.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/functions/parse.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/notebook.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/errors.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/yaml-1.1/merge.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/common/null.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/sharedArrayCancellation.js","webpack://workflow-vscode-client/external node-commonjs \"child_process\"","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/implementation.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/functions/cmp.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/executeCommand.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/resolve-flow-scalar.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/node/main.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/stringify/foldFlowLines.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/yaml-1.1/omap.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/util-map-includes.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/resolve-block-scalar.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/protocolCompletionItem.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/features.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/semanticTokens.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/yaml-1.1/int.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/core/float.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/parse/lexer.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/functions/eq.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/yaml-1.1/pairs.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/typeHierarchy.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/compose-scalar.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/codeAction.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/stringify/stringifyString.js","webpack://workflow-vscode-client/external node-commonjs \"path\"","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/node.js","webpack://workflow-vscode-client/external node-commonjs \"crypto\"","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/progress.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/core/schema.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/protocolDiagnostic.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/linkedEditingRange.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/selectionRange.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/parse/cst.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/inlayHint.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/util-empty-scalar-position.js","webpack://workflow-vscode-client/../../../packages/workflow-graph/dist/index.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/resolve-end.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/functions/gt.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/nodes/identity.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-types@3.17.5/node_modules/vscode-languageserver-types/lib/umd/ sync","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/inlineValue.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/doc/applyReviver.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack://workflow-vscode-client/./src/extension.ts","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/protocolCodeAction.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/doc/Document.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/stringify/stringify.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/minimatch@5.1.6/node_modules/minimatch/lib/path.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/node.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/yaml-1.1/schema.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/fileSystemWatcher.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/codeLens.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/formatting.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/stringify/stringifyCollection.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/configuration.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/visit.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/Schema.js","webpack://workflow-vscode-client/../../../packages/workflow-graph/dist/executionGraphBuilder.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineCompletion.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/resolve-block-map.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/nodes/YAMLMap.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/documentHighlight.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/foldingRange.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/messages.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/functions/lt.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/classes/range.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/fileOperations.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/internal/constants.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/doc/createNode.js","webpack://workflow-vscode-client/external node-commonjs \"util\"","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/nodes/YAMLSeq.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/common/string.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/declaration.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/stringify/stringifyComment.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/node/main.js","webpack://workflow-vscode-client/external node-commonjs \"net\"","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/node/processes.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageserver-protocol@3.17.5/node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/colorProvider.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/compose/util-flow-indent-check.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/client.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/internal/parse-options.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/callHierarchy.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/stringify/stringifyNumber.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-jsonrpc@8.2.0/node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/yaml-1.1/bool.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/schema/tags.js","webpack://workflow-vscode-client/external node-commonjs \"fs\"","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/protocolInlayHint.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/functions/compare.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/yaml@2.8.1/node_modules/yaml/dist/parse/cst-visit.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/semver@7.7.3/node_modules/semver/classes/semver.js","webpack://workflow-vscode-client/../../../node_modules/.pnpm/vscode-languageclient@9.0.1/node_modules/vscode-languageclient/lib/common/codeConverter.js","webpack://workflow-vscode-client/webpack/bootstrap","webpack://workflow-vscode-client/webpack/runtime/hasOwnProperty shorthand","webpack://workflow-vscode-client/webpack/startup"],"sourcesContent":["\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress || (exports.WorkDoneProgress = WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = WorkDoneProgressCancelNotification = {}));\n","'use strict';\n\nvar identity = require('../nodes/identity.js');\nvar stringify = require('./stringify.js');\nvar stringifyComment = require('./stringifyComment.js');\n\nfunction stringifyDocument(doc, options) {\n    const lines = [];\n    let hasDirectives = options.directives === true;\n    if (options.directives !== false && doc.directives) {\n        const dir = doc.directives.toString(doc);\n        if (dir) {\n            lines.push(dir);\n            hasDirectives = true;\n        }\n        else if (doc.directives.docStart)\n            hasDirectives = true;\n    }\n    if (hasDirectives)\n        lines.push('---');\n    const ctx = stringify.createStringifyContext(doc, options);\n    const { commentString } = ctx.options;\n    if (doc.commentBefore) {\n        if (lines.length !== 1)\n            lines.unshift('');\n        const cs = commentString(doc.commentBefore);\n        lines.unshift(stringifyComment.indentComment(cs, ''));\n    }\n    let chompKeep = false;\n    let contentComment = null;\n    if (doc.contents) {\n        if (identity.isNode(doc.contents)) {\n            if (doc.contents.spaceBefore && hasDirectives)\n                lines.push('');\n            if (doc.contents.commentBefore) {\n                const cs = commentString(doc.contents.commentBefore);\n                lines.push(stringifyComment.indentComment(cs, ''));\n            }\n            // top-level block scalars need to be indented if followed by a comment\n            ctx.forceBlockIndent = !!doc.comment;\n            contentComment = doc.contents.comment;\n        }\n        const onChompKeep = contentComment ? undefined : () => (chompKeep = true);\n        let body = stringify.stringify(doc.contents, ctx, () => (contentComment = null), onChompKeep);\n        if (contentComment)\n            body += stringifyComment.lineComment(body, '', commentString(contentComment));\n        if ((body[0] === '|' || body[0] === '>') &&\n            lines[lines.length - 1] === '---') {\n            // Top-level block scalars with a preceding doc marker ought to use the\n            // same line for their header.\n            lines[lines.length - 1] = `--- ${body}`;\n        }\n        else\n            lines.push(body);\n    }\n    else {\n        lines.push(stringify.stringify(doc.contents, ctx));\n    }\n    if (doc.directives?.docEnd) {\n        if (doc.comment) {\n            const cs = commentString(doc.comment);\n            if (cs.includes('\\n')) {\n                lines.push('...');\n                lines.push(stringifyComment.indentComment(cs, ''));\n            }\n            else {\n                lines.push(`... ${cs}`);\n            }\n        }\n        else {\n            lines.push('...');\n        }\n    }\n    else {\n        let dc = doc.comment;\n        if (dc && chompKeep)\n            dc = dc.replace(/^\\n+/, '');\n        if (dc) {\n            if ((!chompKeep || contentComment) && lines[lines.length - 1] !== '')\n                lines.push('');\n            lines.push(stringifyComment.indentComment(commentString(dc), ''));\n        }\n    }\n    return lines.join('\\n') + '\\n';\n}\n\nexports.stringifyDocument = stringifyDocument;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type {@link InlayHintsParams}, the response is of type\n * {@link InlayHint InlayHint[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest || (exports.InlayHintRequest = InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type {@link InlayHint}, the response is\n * of type {@link InlayHint} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest || (exports.InlayHintResolveRequest = InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = InlayHintRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.AbstractMessageBuffer = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst sharedArrayCancellation_1 = require(\"./sharedArrayCancellation\");\nObject.defineProperty(exports, \"SharedArraySenderStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArraySenderStrategy; } });\nObject.defineProperty(exports, \"SharedArrayReceiverStrategy\", { enumerable: true, get: function () { return sharedArrayCancellation_1.SharedArrayReceiverStrategy; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst messageBuffer_1 = require(\"./messageBuffer\");\nObject.defineProperty(exports, \"AbstractMessageBuffer\", { enumerable: true, get: function () { return messageBuffer_1.AbstractMessageBuffer; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nObject.defineProperty(exports, \"MessageStrategy\", { enumerable: true, get: function () { return connection_1.MessageStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass TypeDefinitionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\n        let typeDefinitionSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeDefinition');\n        typeDefinitionSupport.dynamicRegistration = true;\n        typeDefinitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.typeDefinitionProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideTypeDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideTypeDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideTypeDefinition\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\n                    : provideTypeDefinition(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n","module.exports = require(\"buffer\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest || (exports.ImplementationRequest = ImplementationRequest = {}));\n","'use strict';\n\n/**\n * Tracks newlines during parsing in order to provide an efficient API for\n * determining the one-indexed `{ line, col }` position for any offset\n * within the input.\n */\nclass LineCounter {\n    constructor() {\n        this.lineStarts = [];\n        /**\n         * Should be called in ascending order. Otherwise, call\n         * `lineCounter.lineStarts.sort()` before calling `linePos()`.\n         */\n        this.addNewLine = (offset) => this.lineStarts.push(offset);\n        /**\n         * Performs a binary search and returns the 1-indexed { line, col }\n         * position of `offset`. If `line === 0`, `addNewLine` has never been\n         * called or `offset` is before the first known newline.\n         */\n        this.linePos = (offset) => {\n            let low = 0;\n            let high = this.lineStarts.length;\n            while (low < high) {\n                const mid = (low + high) >> 1; // Math.floor((low + high) / 2)\n                if (this.lineStarts[mid] < offset)\n                    low = mid + 1;\n                else\n                    high = mid;\n            }\n            if (this.lineStarts[low] === offset)\n                return { line: low + 1, col: 1 };\n            if (low === 0)\n                return { line: 0, col: offset };\n            const start = this.lineStarts[low - 1];\n            return { line: low, col: offset - start + 1 };\n        };\n    }\n}\n\nexports.LineCounter = LineCounter;\n","'use strict';\n\nvar composer = require('./compose/composer.js');\nvar Document = require('./doc/Document.js');\nvar Schema = require('./schema/Schema.js');\nvar errors = require('./errors.js');\nvar Alias = require('./nodes/Alias.js');\nvar identity = require('./nodes/identity.js');\nvar Pair = require('./nodes/Pair.js');\nvar Scalar = require('./nodes/Scalar.js');\nvar YAMLMap = require('./nodes/YAMLMap.js');\nvar YAMLSeq = require('./nodes/YAMLSeq.js');\nvar cst = require('./parse/cst.js');\nvar lexer = require('./parse/lexer.js');\nvar lineCounter = require('./parse/line-counter.js');\nvar parser = require('./parse/parser.js');\nvar publicApi = require('./public-api.js');\nvar visit = require('./visit.js');\n\n\n\nexports.Composer = composer.Composer;\nexports.Document = Document.Document;\nexports.Schema = Schema.Schema;\nexports.YAMLError = errors.YAMLError;\nexports.YAMLParseError = errors.YAMLParseError;\nexports.YAMLWarning = errors.YAMLWarning;\nexports.Alias = Alias.Alias;\nexports.isAlias = identity.isAlias;\nexports.isCollection = identity.isCollection;\nexports.isDocument = identity.isDocument;\nexports.isMap = identity.isMap;\nexports.isNode = identity.isNode;\nexports.isPair = identity.isPair;\nexports.isScalar = identity.isScalar;\nexports.isSeq = identity.isSeq;\nexports.Pair = Pair.Pair;\nexports.Scalar = Scalar.Scalar;\nexports.YAMLMap = YAMLMap.YAMLMap;\nexports.YAMLSeq = YAMLSeq.YAMLSeq;\nexports.CST = cst;\nexports.Lexer = lexer.Lexer;\nexports.LineCounter = lineCounter.LineCounter;\nexports.Parser = parser.Parser;\nexports.parse = publicApi.parse;\nexports.parseAllDocuments = publicApi.parseAllDocuments;\nexports.parseDocument = publicApi.parseDocument;\nexports.stringify = publicApi.stringify;\nexports.visit = visit.visit;\nexports.visitAsync = visit.visitAsync;\n","'use strict';\n\nvar resolveBlockScalar = require('../compose/resolve-block-scalar.js');\nvar resolveFlowScalar = require('../compose/resolve-flow-scalar.js');\nvar errors = require('../errors.js');\nvar stringifyString = require('../stringify/stringifyString.js');\n\nfunction resolveAsScalar(token, strict = true, onError) {\n    if (token) {\n        const _onError = (pos, code, message) => {\n            const offset = typeof pos === 'number' ? pos : Array.isArray(pos) ? pos[0] : pos.offset;\n            if (onError)\n                onError(offset, code, message);\n            else\n                throw new errors.YAMLParseError([offset, offset + 1], code, message);\n        };\n        switch (token.type) {\n            case 'scalar':\n            case 'single-quoted-scalar':\n            case 'double-quoted-scalar':\n                return resolveFlowScalar.resolveFlowScalar(token, strict, _onError);\n            case 'block-scalar':\n                return resolveBlockScalar.resolveBlockScalar({ options: { strict } }, token, _onError);\n        }\n    }\n    return null;\n}\n/**\n * Create a new scalar token with `value`\n *\n * Values that represent an actual string but may be parsed as a different type should use a `type` other than `'PLAIN'`,\n * as this function does not support any schema operations and won't check for such conflicts.\n *\n * @param value The string representation of the value, which will have its content properly indented.\n * @param context.end Comments and whitespace after the end of the value, or after the block scalar header. If undefined, a newline will be added.\n * @param context.implicitKey Being within an implicit key may affect the resolved type of the token's value.\n * @param context.indent The indent level of the token.\n * @param context.inFlow Is this scalar within a flow collection? This may affect the resolved type of the token's value.\n * @param context.offset The offset position of the token.\n * @param context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `'PLAIN'`.\n */\nfunction createScalarToken(value, context) {\n    const { implicitKey = false, indent, inFlow = false, offset = -1, type = 'PLAIN' } = context;\n    const source = stringifyString.stringifyString({ type, value }, {\n        implicitKey,\n        indent: indent > 0 ? ' '.repeat(indent) : '',\n        inFlow,\n        options: { blockQuote: true, lineWidth: -1 }\n    });\n    const end = context.end ?? [\n        { type: 'newline', offset: -1, indent, source: '\\n' }\n    ];\n    switch (source[0]) {\n        case '|':\n        case '>': {\n            const he = source.indexOf('\\n');\n            const head = source.substring(0, he);\n            const body = source.substring(he + 1) + '\\n';\n            const props = [\n                { type: 'block-scalar-header', offset, indent, source: head }\n            ];\n            if (!addEndtoBlockProps(props, end))\n                props.push({ type: 'newline', offset: -1, indent, source: '\\n' });\n            return { type: 'block-scalar', offset, indent, props, source: body };\n        }\n        case '\"':\n            return { type: 'double-quoted-scalar', offset, indent, source, end };\n        case \"'\":\n            return { type: 'single-quoted-scalar', offset, indent, source, end };\n        default:\n            return { type: 'scalar', offset, indent, source, end };\n    }\n}\n/**\n * Set the value of `token` to the given string `value`, overwriting any previous contents and type that it may have.\n *\n * Best efforts are made to retain any comments previously associated with the `token`,\n * though all contents within a collection's `items` will be overwritten.\n *\n * Values that represent an actual string but may be parsed as a different type should use a `type` other than `'PLAIN'`,\n * as this function does not support any schema operations and won't check for such conflicts.\n *\n * @param token Any token. If it does not include an `indent` value, the value will be stringified as if it were an implicit key.\n * @param value The string representation of the value, which will have its content properly indented.\n * @param context.afterKey In most cases, values after a key should have an additional level of indentation.\n * @param context.implicitKey Being within an implicit key may affect the resolved type of the token's value.\n * @param context.inFlow Being within a flow collection may affect the resolved type of the token's value.\n * @param context.type The preferred type of the scalar token. If undefined, the previous type of the `token` will be used, defaulting to `'PLAIN'`.\n */\nfunction setScalarValue(token, value, context = {}) {\n    let { afterKey = false, implicitKey = false, inFlow = false, type } = context;\n    let indent = 'indent' in token ? token.indent : null;\n    if (afterKey && typeof indent === 'number')\n        indent += 2;\n    if (!type)\n        switch (token.type) {\n            case 'single-quoted-scalar':\n                type = 'QUOTE_SINGLE';\n                break;\n            case 'double-quoted-scalar':\n                type = 'QUOTE_DOUBLE';\n                break;\n            case 'block-scalar': {\n                const header = token.props[0];\n                if (header.type !== 'block-scalar-header')\n                    throw new Error('Invalid block scalar header');\n                type = header.source[0] === '>' ? 'BLOCK_FOLDED' : 'BLOCK_LITERAL';\n                break;\n            }\n            default:\n                type = 'PLAIN';\n        }\n    const source = stringifyString.stringifyString({ type, value }, {\n        implicitKey: implicitKey || indent === null,\n        indent: indent !== null && indent > 0 ? ' '.repeat(indent) : '',\n        inFlow,\n        options: { blockQuote: true, lineWidth: -1 }\n    });\n    switch (source[0]) {\n        case '|':\n        case '>':\n            setBlockScalarValue(token, source);\n            break;\n        case '\"':\n            setFlowScalarValue(token, source, 'double-quoted-scalar');\n            break;\n        case \"'\":\n            setFlowScalarValue(token, source, 'single-quoted-scalar');\n            break;\n        default:\n            setFlowScalarValue(token, source, 'scalar');\n    }\n}\nfunction setBlockScalarValue(token, source) {\n    const he = source.indexOf('\\n');\n    const head = source.substring(0, he);\n    const body = source.substring(he + 1) + '\\n';\n    if (token.type === 'block-scalar') {\n        const header = token.props[0];\n        if (header.type !== 'block-scalar-header')\n            throw new Error('Invalid block scalar header');\n        header.source = head;\n        token.source = body;\n    }\n    else {\n        const { offset } = token;\n        const indent = 'indent' in token ? token.indent : -1;\n        const props = [\n            { type: 'block-scalar-header', offset, indent, source: head }\n        ];\n        if (!addEndtoBlockProps(props, 'end' in token ? token.end : undefined))\n            props.push({ type: 'newline', offset: -1, indent, source: '\\n' });\n        for (const key of Object.keys(token))\n            if (key !== 'type' && key !== 'offset')\n                delete token[key];\n        Object.assign(token, { type: 'block-scalar', indent, props, source: body });\n    }\n}\n/** @returns `true` if last token is a newline */\nfunction addEndtoBlockProps(props, end) {\n    if (end)\n        for (const st of end)\n            switch (st.type) {\n                case 'space':\n                case 'comment':\n                    props.push(st);\n                    break;\n                case 'newline':\n                    props.push(st);\n                    return true;\n            }\n    return false;\n}\nfunction setFlowScalarValue(token, source, type) {\n    switch (token.type) {\n        case 'scalar':\n        case 'double-quoted-scalar':\n        case 'single-quoted-scalar':\n            token.type = type;\n            token.source = source;\n            break;\n        case 'block-scalar': {\n            const end = token.props.slice(1);\n            let oa = source.length;\n            if (token.props[0].type === 'block-scalar-header')\n                oa -= token.props[0].source.length;\n            for (const tok of end)\n                tok.offset += oa;\n            delete token.props;\n            Object.assign(token, { type, source, end });\n            break;\n        }\n        case 'block-map':\n        case 'block-seq': {\n            const offset = token.offset + source.length;\n            const nl = { type: 'newline', offset, indent: token.indent, source: '\\n' };\n            delete token.items;\n            Object.assign(token, { type, source, end: [nl] });\n            break;\n        }\n        default: {\n            const indent = 'indent' in token ? token.indent : -1;\n            const end = 'end' in token && Array.isArray(token.end)\n                ? token.end.filter(st => st.type === 'space' ||\n                    st.type === 'comment' ||\n                    st.type === 'newline')\n                : [];\n            for (const key of Object.keys(token))\n                if (key !== 'type' && key !== 'offset')\n                    delete token[key];\n            Object.assign(token, { type, indent, source, end });\n        }\n    }\n}\n\nexports.createScalarToken = createScalarToken;\nexports.resolveAsScalar = resolveAsScalar;\nexports.setScalarValue = setScalarValue;\n","'use strict';\n\nvar identity = require('../nodes/identity.js');\nvar visit = require('../visit.js');\n\n/**\n * Verify that the input string is a valid anchor.\n *\n * Will throw on errors.\n */\nfunction anchorIsValid(anchor) {\n    if (/[\\x00-\\x19\\s,[\\]{}]/.test(anchor)) {\n        const sa = JSON.stringify(anchor);\n        const msg = `Anchor must not contain whitespace or control characters: ${sa}`;\n        throw new Error(msg);\n    }\n    return true;\n}\nfunction anchorNames(root) {\n    const anchors = new Set();\n    visit.visit(root, {\n        Value(_key, node) {\n            if (node.anchor)\n                anchors.add(node.anchor);\n        }\n    });\n    return anchors;\n}\n/** Find a new anchor name with the given `prefix` and a one-indexed suffix. */\nfunction findNewAnchor(prefix, exclude) {\n    for (let i = 1; true; ++i) {\n        const name = `${prefix}${i}`;\n        if (!exclude.has(name))\n            return name;\n    }\n}\nfunction createNodeAnchors(doc, prefix) {\n    const aliasObjects = [];\n    const sourceObjects = new Map();\n    let prevAnchors = null;\n    return {\n        onAnchor: (source) => {\n            aliasObjects.push(source);\n            prevAnchors ?? (prevAnchors = anchorNames(doc));\n            const anchor = findNewAnchor(prefix, prevAnchors);\n            prevAnchors.add(anchor);\n            return anchor;\n        },\n        /**\n         * With circular references, the source node is only resolved after all\n         * of its child nodes are. This is why anchors are set only after all of\n         * the nodes have been created.\n         */\n        setAnchors: () => {\n            for (const source of aliasObjects) {\n                const ref = sourceObjects.get(source);\n                if (typeof ref === 'object' &&\n                    ref.anchor &&\n                    (identity.isScalar(ref.node) || identity.isCollection(ref.node))) {\n                    ref.node.anchor = ref.anchor;\n                }\n                else {\n                    const error = new Error('Failed to resolve repeated object (this should not happen)');\n                    error.source = source;\n                    throw error;\n                }\n            }\n        },\n        sourceObjects\n    };\n}\n\nexports.anchorIsValid = anchorIsValid;\nexports.anchorNames = anchorNames;\nexports.createNodeAnchors = createNodeAnchors;\nexports.findNewAnchor = findNewAnchor;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass WorkspaceSymbol extends code.SymbolInformation {\n    constructor(name, kind, containerName, locationOrUri, data) {\n        const hasRange = !(locationOrUri instanceof code.Uri);\n        super(name, kind, containerName, hasRange ? locationOrUri : new code.Location(locationOrUri, new code.Range(0, 0, 0, 0)));\n        this.hasRange = hasRange;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = WorkspaceSymbol;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst util_1 = require(\"util\");\nconst api_1 = require(\"../common/api\");\nclass MessageBuffer extends api_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return api_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return api_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return api_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return api_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        api_1.RAL.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidSaveTextDocumentFeature = exports.WillSaveWaitUntilFeature = exports.WillSaveFeature = exports.DidChangeTextDocumentFeature = exports.DidCloseTextDocumentFeature = exports.DidOpenTextDocumentFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DidOpenTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client, syncedDocuments) {\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, () => client.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._syncedDocuments = syncedDocuments;\n    }\n    get openDocuments() {\n        return this._syncedDocuments.values();\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\n    }\n    register(data) {\n        super.register(data);\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        const documentSelector = this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector);\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\n            const uri = textDocument.uri.toString();\n            if (this._syncedDocuments.has(uri)) {\n                return;\n            }\n            if (vscode_1.languages.match(documentSelector, textDocument) > 0 && !this._client.hasDedicatedTextSynchronizationFeature(textDocument)) {\n                const middleware = this._client.middleware;\n                const didOpen = (textDocument) => {\n                    return this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                (middleware.didOpen ? middleware.didOpen(textDocument, didOpen) : didOpen(textDocument)).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed`, error);\n                });\n                this._syncedDocuments.set(uri, textDocument);\n            }\n        });\n    }\n    getTextDocument(data) {\n        return data;\n    }\n    notificationSent(textDocument, type, params) {\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\n        super.notificationSent(textDocument, type, params);\n    }\n}\nexports.DidOpenTextDocumentFeature = DidOpenTextDocumentFeature;\nclass DidCloseTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client, syncedDocuments, pendingTextDocumentChanges) {\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, () => client.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._syncedDocuments = syncedDocuments;\n        this._pendingTextDocumentChanges = pendingTextDocumentChanges;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    async callback(data) {\n        await super.callback(data);\n        this._pendingTextDocumentChanges.delete(data.uri.toString());\n    }\n    getTextDocument(data) {\n        return data;\n    }\n    notificationSent(textDocument, type, params) {\n        this._syncedDocuments.delete(textDocument.uri.toString());\n        super.notificationSent(textDocument, type, params);\n    }\n    unregister(id) {\n        const selector = this._selectors.get(id);\n        // The super call removed the selector from the map\n        // of selectors.\n        super.unregister(id);\n        const selectors = this._selectors.values();\n        this._syncedDocuments.forEach((textDocument) => {\n            if (vscode_1.languages.match(selector, textDocument) > 0 && !this._selectorFilter(selectors, textDocument) && !this._client.hasDedicatedTextSynchronizationFeature(textDocument)) {\n                let middleware = this._client.middleware;\n                let didClose = (textDocument) => {\n                    return this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                this._syncedDocuments.delete(textDocument.uri.toString());\n                (middleware.didClose ? middleware.didClose(textDocument, didClose) : didClose(textDocument)).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed`, error);\n                });\n            }\n        });\n    }\n}\nexports.DidCloseTextDocumentFeature = DidCloseTextDocumentFeature;\nclass DidChangeTextDocumentFeature extends features_1.DynamicDocumentFeature {\n    constructor(client, pendingTextDocumentChanges) {\n        super(client);\n        this._changeData = new Map();\n        this._onNotificationSent = new vscode_1.EventEmitter();\n        this._onPendingChangeAdded = new vscode_1.EventEmitter();\n        this._pendingTextDocumentChanges = pendingTextDocumentChanges;\n        this._syncKind = vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n    }\n    get onNotificationSent() {\n        return this._onNotificationSent.event;\n    }\n    get onPendingChangeAdded() {\n        return this._onPendingChangeAdded.event;\n    }\n    get syncKind() {\n        return this._syncKind;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== undefined && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\n        }\n        this._changeData.set(data.id, {\n            syncKind: data.registerOptions.syncKind,\n            documentSelector: this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector),\n        });\n        this.updateSyncKind(data.registerOptions.syncKind);\n    }\n    *getDocumentSelectors() {\n        for (const data of this._changeData.values()) {\n            yield data.documentSelector;\n        }\n    }\n    async callback(event) {\n        // Text document changes are send for dirty changes as well. We don't\n        // have dirty / un-dirty events in the LSP so we ignore content changes\n        // with length zero.\n        if (event.contentChanges.length === 0) {\n            return;\n        }\n        // We need to capture the URI and version here since they might change on the text document\n        // until we reach did `didChange` call since the middleware support async execution.\n        const uri = event.document.uri;\n        const version = event.document.version;\n        const promises = [];\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, event.document) > 0 && !this._client.hasDedicatedTextSynchronizationFeature(event.document)) {\n                const middleware = this._client.middleware;\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\n                    const didChange = async (event) => {\n                        const params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event, uri, version);\n                        await this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                        this.notificationSent(event.document, vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                    };\n                    promises.push(middleware.didChange ? middleware.didChange(event, event => didChange(event)) : didChange(event));\n                }\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n                    const didChange = async (event) => {\n                        const eventUri = event.document.uri.toString();\n                        this._pendingTextDocumentChanges.set(eventUri, event.document);\n                        this._onPendingChangeAdded.fire();\n                    };\n                    promises.push(middleware.didChange ? middleware.didChange(event, event => didChange(event)) : didChange(event));\n                }\n            }\n        }\n        return Promise.all(promises).then(undefined, (error) => {\n            this._client.error(`Sending document notification ${vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method} failed`, error);\n            throw error;\n        });\n    }\n    notificationSent(textDocument, type, params) {\n        this._onNotificationSent.fire({ textDocument, type, params });\n    }\n    unregister(id) {\n        this._changeData.delete(id);\n        if (this._changeData.size === 0) {\n            if (this._listener) {\n                this._listener.dispose();\n                this._listener = undefined;\n            }\n            this._syncKind = vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n        }\n        else {\n            this._syncKind = vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n            for (const changeData of this._changeData.values()) {\n                this.updateSyncKind(changeData.syncKind);\n                if (this._syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n                    break;\n                }\n            }\n        }\n    }\n    clear() {\n        this._pendingTextDocumentChanges.clear();\n        this._changeData.clear();\n        this._syncKind = vscode_languageserver_protocol_1.TextDocumentSyncKind.None;\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getPendingDocumentChanges(excludes) {\n        if (this._pendingTextDocumentChanges.size === 0) {\n            return [];\n        }\n        let result;\n        if (excludes.size === 0) {\n            result = Array.from(this._pendingTextDocumentChanges.values());\n            this._pendingTextDocumentChanges.clear();\n        }\n        else {\n            result = [];\n            for (const entry of this._pendingTextDocumentChanges) {\n                if (!excludes.has(entry[0])) {\n                    result.push(entry[1]);\n                    this._pendingTextDocumentChanges.delete(entry[0]);\n                }\n            }\n        }\n        return result;\n    }\n    getProvider(document) {\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, document) > 0) {\n                return {\n                    send: (event) => {\n                        return this.callback(event);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n    updateSyncKind(syncKind) {\n        if (this._syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n            return;\n        }\n        switch (syncKind) {\n            case vscode_languageserver_protocol_1.TextDocumentSyncKind.Full:\n                this._syncKind = syncKind;\n                break;\n            case vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental:\n                if (this._syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n                    this._syncKind = vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental;\n                }\n                break;\n        }\n    }\n}\nexports.DidChangeTextDocumentFeature = DidChangeTextDocumentFeature;\nclass WillSaveFeature extends features_1.TextDocumentEventFeature {\n    constructor(client) {\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, () => client.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (event) => event.document, (selectors, willSaveEvent) => features_1.TextDocumentEventFeature.textDocumentFilter(selectors, willSaveEvent.document));\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization');\n        value.willSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n    getTextDocument(data) {\n        return data.document;\n    }\n}\nexports.WillSaveFeature = WillSaveFeature;\nclass WillSaveWaitUntilFeature extends features_1.DynamicDocumentFeature {\n    constructor(client) {\n        super(client);\n        this._selectors = new Map();\n    }\n    getDocumentSelectors() {\n        return this._selectors.values();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization');\n        value.willSaveWaitUntil = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\n        }\n        this._selectors.set(data.id, this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector));\n    }\n    callback(event) {\n        if (features_1.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(), event.document) && !this._client.hasDedicatedTextSynchronizationFeature(event.document)) {\n            let middleware = this._client.middleware;\n            let willSaveWaitUntil = (event) => {\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then(async (edits) => {\n                    let vEdits = await this._client.protocol2CodeConverter.asTextEdits(edits);\n                    return vEdits === undefined ? [] : vEdits;\n                });\n            };\n            event.waitUntil(middleware.willSaveWaitUntil\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\n                : willSaveWaitUntil(event));\n        }\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    clear() {\n        this._selectors.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n}\nexports.WillSaveWaitUntilFeature = WillSaveWaitUntilFeature;\nclass DidSaveTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client) {\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, () => client.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._includeText = false;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').didSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\n            const saveOptions = typeof textDocumentSyncOptions.save === 'boolean'\n                ? { includeText: false }\n                : { includeText: !!textDocumentSyncOptions.save.includeText };\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, saveOptions)\n            });\n        }\n    }\n    register(data) {\n        this._includeText = !!data.registerOptions.includeText;\n        super.register(data);\n    }\n    getTextDocument(data) {\n        return data;\n    }\n}\nexports.DidSaveTextDocumentFeature = DidSaveTextDocumentFeature;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type {@link InlineValueParams}, the response is of type\n * {@link InlineValue InlineValue[]} or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest || (exports.InlineValueRequest = InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = InlineValueRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind || (exports.NotebookCellKind = NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary || (exports.ExecutionSummary = ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell || (exports.NotebookCell = NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument || (exports.NotebookDocument = NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange || (exports.NotebookCellArrayChange = NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = DidCloseNotebookDocumentNotification = {}));\n","module.exports = require(\"os\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangesFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.InlineCompletionRequest = exports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nObject.defineProperty(exports, \"FoldingRangeRefreshRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRefreshRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\nconst protocol_inlineCompletion_1 = require(\"./protocol.inlineCompletion\");\nObject.defineProperty(exports, \"InlineCompletionRequest\", { enumerable: true, get: function () { return protocol_inlineCompletion_1.InlineCompletionRequest; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * {@link TextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate) || (Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter || (exports.TextDocumentFilter = TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * {@link NotebookDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter || (exports.NotebookDocumentFilter = NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * {@link NotebookCellTextDocumentFilter} literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * {@link DocumentSelector}s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector || (exports.DocumentSelector = DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest || (exports.RegistrationRequest = RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest || (exports.UnregistrationRequest = UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind || (exports.ResourceOperationKind = ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind || (exports.FailureHandlingKind = FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units (e.g. bytes).\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode codepoints,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind || (exports.PositionEncodingKind = PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * {@link StaticRegistrationOptions} literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions || (exports.StaticRegistrationOptions = StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * {@link TextDocumentRegistrationOptions} literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * {@link WorkDoneProgressOptions} literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type {@link InitializeParams}\n * the response if of type {@link InitializeResult} of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest || (exports.InitializeRequest = InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes || (exports.InitializeErrorCodes = InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification || (exports.InitializedNotification = InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest || (exports.ShutdownRequest = ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification || (exports.ExitNotification = ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n    /**\n     * A debug message.\n     *\n     * @since 3.18.0\n     */\n    MessageType.Debug = 5;\n})(MessageType || (exports.MessageType = MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification || (exports.ShowMessageNotification = ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest || (exports.ShowMessageRequest = ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification || (exports.LogMessageNotification = LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification || (exports.TelemetryEventNotification = TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind || (exports.TextDocumentSyncKind = TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason || (exports.TextDocumentSaveReason = TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType || (exports.FileChangeType = FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern || (exports.RelativePattern = RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind || (exports.WatchKind = WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind || (exports.CompletionTriggerKind = CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response\n * is of type {@link CompletionItem CompletionItem[]} or {@link CompletionList}\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the {@link CompletionItem.detail `detail`}\n * and {@link CompletionItem.documentation `documentation`} properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest || (exports.CompletionRequest = CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type {@link CompletionItem} the response\n * is of type {@link CompletionItem} or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest || (exports.CompletionResolveRequest = CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type {@link TextDocumentPosition} the response is of\n * type {@link Hover} or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest || (exports.HoverRequest = HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest || (exports.SignatureHelpRequest = SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPosition}\n * the response is of either type {@link Definition} or a typed array of\n * {@link DefinitionLink} or a Thenable that resolves to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest || (exports.DefinitionRequest = DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type {@link ReferenceParams} the response is of type\n * {@link Location Location[]} or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest || (exports.ReferencesRequest = ReferencesRequest = {}));\n/**\n * Request to resolve a {@link DocumentHighlight} for a given\n * text document position. The request's parameter is of type {@link TextDocumentPosition}\n * the request response is an array of type {@link DocumentHighlight}\n * or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest || (exports.DocumentHighlightRequest = DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type {@link TextDocumentIdentifier} the\n * response is of type {@link SymbolInformation SymbolInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest || (exports.DocumentSymbolRequest = DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest || (exports.CodeActionRequest = CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type {@link CodeAction} the response\n * is of type {@link CodeAction} or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest || (exports.CodeActionResolveRequest = CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the {@link WorkspaceSymbolParams}. The response is\n * of type {@link SymbolInformation SymbolInformation[]} or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest || (exports.CodeLensRequest = CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest || (exports.CodeLensResolveRequest = CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest || (exports.DocumentLinkRequest = DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type {@link DocumentLink} the response\n * is of type {@link DocumentLink} or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = DocumentLinkResolveRequest = {}));\n/**\n * A request to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest || (exports.DocumentFormattingRequest = DocumentFormattingRequest = {}));\n/**\n * A request to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = DocumentRangeFormattingRequest = {}));\n/**\n * A request to format ranges in a document.\n *\n * @since 3.18.0\n * @proposed\n */\nvar DocumentRangesFormattingRequest;\n(function (DocumentRangesFormattingRequest) {\n    DocumentRangesFormattingRequest.method = 'textDocument/rangesFormatting';\n    DocumentRangesFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangesFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangesFormattingRequest.method);\n})(DocumentRangesFormattingRequest || (exports.DocumentRangesFormattingRequest = DocumentRangesFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest || (exports.RenameRequest = RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest || (exports.PrepareRenameRequest = PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest || (exports.ExecuteCommandRequest = ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = ApplyWorkspaceEditRequest = {}));\n","module.exports = require(\"process\");","'use strict'\n\nconst ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    comp = comp.trim().split(/\\s+/).join(' ')\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    options = parseOptions(options)\n\n    // Special cases where nothing can possibly be lower\n    if (options.includePrerelease &&\n      (this.value === '<0.0.0-0' || comp.value === '<0.0.0-0')) {\n      return false\n    }\n    if (!options.includePrerelease &&\n      (this.value.startsWith('<0.0.0') || comp.value.startsWith('<0.0.0'))) {\n      return false\n    }\n\n    // Same direction increasing (> or >=)\n    if (this.operator.startsWith('>') && comp.operator.startsWith('>')) {\n      return true\n    }\n    // Same direction decreasing (< or <=)\n    if (this.operator.startsWith('<') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // same SemVer and both sides are inclusive (<= or >=)\n    if (\n      (this.semver.version === comp.semver.version) &&\n      this.operator.includes('=') && comp.operator.includes('=')) {\n      return true\n    }\n    // opposite directions less than\n    if (cmp(this.semver, '<', comp.semver, options) &&\n      this.operator.startsWith('>') && comp.operator.startsWith('<')) {\n      return true\n    }\n    // opposite directions greater than\n    if (cmp(this.semver, '>', comp.semver, options) &&\n      this.operator.startsWith('<') && comp.operator.startsWith('>')) {\n      return true\n    }\n    return false\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst { safeRe: re, t } = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","'use strict';\n\nvar node_process = require('process');\n\nfunction debug(logLevel, ...messages) {\n    if (logLevel === 'debug')\n        console.log(...messages);\n}\nfunction warn(logLevel, warning) {\n    if (logLevel === 'debug' || logLevel === 'warn') {\n        if (typeof node_process.emitWarning === 'function')\n            node_process.emitWarning(warning);\n        else\n            console.warn(warning);\n    }\n}\n\nexports.debug = debug;\nexports.warn = warn;\n","'use strict';\n\nvar identity = require('../../nodes/identity.js');\nvar YAMLSeq = require('../../nodes/YAMLSeq.js');\n\nconst seq = {\n    collection: 'seq',\n    default: true,\n    nodeClass: YAMLSeq.YAMLSeq,\n    tag: 'tag:yaml.org,2002:seq',\n    resolve(seq, onError) {\n        if (!identity.isSeq(seq))\n            onError('Expected a sequence for this tag');\n        return seq;\n    },\n    createNode: (schema, obj, ctx) => YAMLSeq.YAMLSeq.from(schema, obj, ctx)\n};\n\nexports.seq = seq;\n","'use strict';\n\nvar identity = require('./identity.js');\n\n/**\n * Recursively convert any node or its contents to native JavaScript\n *\n * @param value - The input value\n * @param arg - If `value` defines a `toJSON()` method, use this\n *   as its first argument\n * @param ctx - Conversion context, originally set in Document#toJS(). If\n *   `{ keep: true }` is not set, output should be suitable for JSON\n *   stringification.\n */\nfunction toJS(value, arg, ctx) {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-return\n    if (Array.isArray(value))\n        return value.map((v, i) => toJS(v, String(i), ctx));\n    if (value && typeof value.toJSON === 'function') {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n        if (!ctx || !identity.hasAnchor(value))\n            return value.toJSON(arg, ctx);\n        const data = { aliasCount: 0, count: 1, res: undefined };\n        ctx.anchors.set(value, data);\n        ctx.onCreate = res => {\n            data.res = res;\n            delete ctx.onCreate;\n        };\n        const res = value.toJSON(arg, ctx);\n        if (ctx.onCreate)\n            ctx.onCreate(res);\n        return res;\n    }\n    if (typeof value === 'bigint' && !ctx?.keep)\n        return Number(value);\n    return value;\n}\n\nexports.toJS = toJS;\n","'use strict'\n\nconst compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","'use strict'\n\nclass LRUCache {\n  constructor () {\n    this.max = 1000\n    this.map = new Map()\n  }\n\n  get (key) {\n    const value = this.map.get(key)\n    if (value === undefined) {\n      return undefined\n    } else {\n      // Remove the key from the map and add it to the end\n      this.map.delete(key)\n      this.map.set(key, value)\n      return value\n    }\n  }\n\n  delete (key) {\n    return this.map.delete(key)\n  }\n\n  set (key, value) {\n    const deleted = this.delete(key)\n\n    if (!deleted && value !== undefined) {\n      // If cache is full, delete the least recently used item\n      if (this.map.size >= this.max) {\n        const firstKey = this.map.keys().next().value\n        this.delete(firstKey)\n      }\n\n      this.map.set(key, value)\n    }\n\n    return this\n  }\n}\n\nmodule.exports = LRUCache\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","'use strict'\n\nconst Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","'use strict';\n\nvar identity = require('./identity.js');\nvar Node = require('./Node.js');\nvar toJS = require('./toJS.js');\n\nconst isScalarValue = (value) => !value || (typeof value !== 'function' && typeof value !== 'object');\nclass Scalar extends Node.NodeBase {\n    constructor(value) {\n        super(identity.SCALAR);\n        this.value = value;\n    }\n    toJSON(arg, ctx) {\n        return ctx?.keep ? this.value : toJS.toJS(this.value, arg, ctx);\n    }\n    toString() {\n        return String(this.value);\n    }\n}\nScalar.BLOCK_FOLDED = 'BLOCK_FOLDED';\nScalar.BLOCK_LITERAL = 'BLOCK_LITERAL';\nScalar.PLAIN = 'PLAIN';\nScalar.QUOTE_DOUBLE = 'QUOTE_DOUBLE';\nScalar.QUOTE_SINGLE = 'QUOTE_SINGLE';\n\nexports.Scalar = Scalar;\nexports.isScalarValue = isScalarValue;\n","'use strict';\n\nvar identity = require('../nodes/identity.js');\nvar Scalar = require('../nodes/Scalar.js');\nvar stringify = require('./stringify.js');\nvar stringifyComment = require('./stringifyComment.js');\n\nfunction stringifyPair({ key, value }, ctx, onComment, onChompKeep) {\n    const { allNullValues, doc, indent, indentStep, options: { commentString, indentSeq, simpleKeys } } = ctx;\n    let keyComment = (identity.isNode(key) && key.comment) || null;\n    if (simpleKeys) {\n        if (keyComment) {\n            throw new Error('With simple keys, key nodes cannot have comments');\n        }\n        if (identity.isCollection(key) || (!identity.isNode(key) && typeof key === 'object')) {\n            const msg = 'With simple keys, collection cannot be used as a key value';\n            throw new Error(msg);\n        }\n    }\n    let explicitKey = !simpleKeys &&\n        (!key ||\n            (keyComment && value == null && !ctx.inFlow) ||\n            identity.isCollection(key) ||\n            (identity.isScalar(key)\n                ? key.type === Scalar.Scalar.BLOCK_FOLDED || key.type === Scalar.Scalar.BLOCK_LITERAL\n                : typeof key === 'object'));\n    ctx = Object.assign({}, ctx, {\n        allNullValues: false,\n        implicitKey: !explicitKey && (simpleKeys || !allNullValues),\n        indent: indent + indentStep\n    });\n    let keyCommentDone = false;\n    let chompKeep = false;\n    let str = stringify.stringify(key, ctx, () => (keyCommentDone = true), () => (chompKeep = true));\n    if (!explicitKey && !ctx.inFlow && str.length > 1024) {\n        if (simpleKeys)\n            throw new Error('With simple keys, single line scalar must not span more than 1024 characters');\n        explicitKey = true;\n    }\n    if (ctx.inFlow) {\n        if (allNullValues || value == null) {\n            if (keyCommentDone && onComment)\n                onComment();\n            return str === '' ? '?' : explicitKey ? `? ${str}` : str;\n        }\n    }\n    else if ((allNullValues && !simpleKeys) || (value == null && explicitKey)) {\n        str = `? ${str}`;\n        if (keyComment && !keyCommentDone) {\n            str += stringifyComment.lineComment(str, ctx.indent, commentString(keyComment));\n        }\n        else if (chompKeep && onChompKeep)\n            onChompKeep();\n        return str;\n    }\n    if (keyCommentDone)\n        keyComment = null;\n    if (explicitKey) {\n        if (keyComment)\n            str += stringifyComment.lineComment(str, ctx.indent, commentString(keyComment));\n        str = `? ${str}\\n${indent}:`;\n    }\n    else {\n        str = `${str}:`;\n        if (keyComment)\n            str += stringifyComment.lineComment(str, ctx.indent, commentString(keyComment));\n    }\n    let vsb, vcb, valueComment;\n    if (identity.isNode(value)) {\n        vsb = !!value.spaceBefore;\n        vcb = value.commentBefore;\n        valueComment = value.comment;\n    }\n    else {\n        vsb = false;\n        vcb = null;\n        valueComment = null;\n        if (value && typeof value === 'object')\n            value = doc.createNode(value);\n    }\n    ctx.implicitKey = false;\n    if (!explicitKey && !keyComment && identity.isScalar(value))\n        ctx.indentAtStart = str.length + 1;\n    chompKeep = false;\n    if (!indentSeq &&\n        indentStep.length >= 2 &&\n        !ctx.inFlow &&\n        !explicitKey &&\n        identity.isSeq(value) &&\n        !value.flow &&\n        !value.tag &&\n        !value.anchor) {\n        // If indentSeq === false, consider '- ' as part of indentation where possible\n        ctx.indent = ctx.indent.substring(2);\n    }\n    let valueCommentDone = false;\n    const valueStr = stringify.stringify(value, ctx, () => (valueCommentDone = true), () => (chompKeep = true));\n    let ws = ' ';\n    if (keyComment || vsb || vcb) {\n        ws = vsb ? '\\n' : '';\n        if (vcb) {\n            const cs = commentString(vcb);\n            ws += `\\n${stringifyComment.indentComment(cs, ctx.indent)}`;\n        }\n        if (valueStr === '' && !ctx.inFlow) {\n            if (ws === '\\n')\n                ws = '\\n\\n';\n        }\n        else {\n            ws += `\\n${ctx.indent}`;\n        }\n    }\n    else if (!explicitKey && identity.isCollection(value)) {\n        const vs0 = valueStr[0];\n        const nl0 = valueStr.indexOf('\\n');\n        const hasNewline = nl0 !== -1;\n        const flow = ctx.inFlow ?? value.flow ?? value.items.length === 0;\n        if (hasNewline || !flow) {\n            let hasPropsLine = false;\n            if (hasNewline && (vs0 === '&' || vs0 === '!')) {\n                let sp0 = valueStr.indexOf(' ');\n                if (vs0 === '&' &&\n                    sp0 !== -1 &&\n                    sp0 < nl0 &&\n                    valueStr[sp0 + 1] === '!') {\n                    sp0 = valueStr.indexOf(' ', sp0 + 1);\n                }\n                if (sp0 === -1 || nl0 < sp0)\n                    hasPropsLine = true;\n            }\n            if (!hasPropsLine)\n                ws = `\\n${ctx.indent}`;\n        }\n    }\n    else if (valueStr === '' || valueStr[0] === '\\n') {\n        ws = '';\n    }\n    str += ws + valueStr;\n    if (ctx.inFlow) {\n        if (valueCommentDone && onComment)\n            onComment();\n    }\n    else if (valueComment && !valueCommentDone) {\n        str += stringifyComment.lineComment(str, ctx.indent, commentString(valueComment));\n    }\n    else if (chompKeep && onChompKeep) {\n        onChompKeep();\n    }\n    return str;\n}\n\nexports.stringifyPair = stringifyPair;\n","'use strict';\n\nvar log = require('../log.js');\nvar merge = require('../schema/yaml-1.1/merge.js');\nvar stringify = require('../stringify/stringify.js');\nvar identity = require('./identity.js');\nvar toJS = require('./toJS.js');\n\nfunction addPairToJSMap(ctx, map, { key, value }) {\n    if (identity.isNode(key) && key.addToJSMap)\n        key.addToJSMap(ctx, map, value);\n    // TODO: Should drop this special case for bare << handling\n    else if (merge.isMergeKey(ctx, key))\n        merge.addMergeToJSMap(ctx, map, value);\n    else {\n        const jsKey = toJS.toJS(key, '', ctx);\n        if (map instanceof Map) {\n            map.set(jsKey, toJS.toJS(value, jsKey, ctx));\n        }\n        else if (map instanceof Set) {\n            map.add(jsKey);\n        }\n        else {\n            const stringKey = stringifyKey(key, jsKey, ctx);\n            const jsValue = toJS.toJS(value, stringKey, ctx);\n            if (stringKey in map)\n                Object.defineProperty(map, stringKey, {\n                    value: jsValue,\n                    writable: true,\n                    enumerable: true,\n                    configurable: true\n                });\n            else\n                map[stringKey] = jsValue;\n        }\n    }\n    return map;\n}\nfunction stringifyKey(key, jsKey, ctx) {\n    if (jsKey === null)\n        return '';\n    // eslint-disable-next-line @typescript-eslint/no-base-to-string\n    if (typeof jsKey !== 'object')\n        return String(jsKey);\n    if (identity.isNode(key) && ctx?.doc) {\n        const strCtx = stringify.createStringifyContext(ctx.doc, {});\n        strCtx.anchors = new Set();\n        for (const node of ctx.anchors.keys())\n            strCtx.anchors.add(node.anchor);\n        strCtx.inFlow = true;\n        strCtx.inStringifyKey = true;\n        const strKey = key.toString(strCtx);\n        if (!ctx.mapKeyWarned) {\n            let jsonStr = JSON.stringify(strKey);\n            if (jsonStr.length > 40)\n                jsonStr = jsonStr.substring(0, 36) + '...\"';\n            log.warn(ctx.doc.options.logLevel, `Keys with collection values will be stringified due to JS Object restrictions: ${jsonStr}. Set mapAsMap: true to use object keys.`);\n            ctx.mapKeyWarned = true;\n        }\n        return strKey;\n    }\n    return JSON.stringify(jsKey);\n}\n\nexports.addPairToJSMap = addPairToJSMap;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolDocumentLink extends code.DocumentLink {\n    constructor(range, target) {\n        super(range, target);\n    }\n}\nexports.default = ProtocolDocumentLink;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n","module.exports = require(\"vscode\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Declaration} or a typed array of {@link DeclarationLink}\n * or a Thenable that resolves to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest || (exports.DeclarationRequest = DeclarationRequest = {}));\n","'use strict';\n\nvar YAMLSeq = require('../nodes/YAMLSeq.js');\nvar resolveProps = require('./resolve-props.js');\nvar utilFlowIndentCheck = require('./util-flow-indent-check.js');\n\nfunction resolveBlockSeq({ composeNode, composeEmptyNode }, ctx, bs, onError, tag) {\n    const NodeClass = tag?.nodeClass ?? YAMLSeq.YAMLSeq;\n    const seq = new NodeClass(ctx.schema);\n    if (ctx.atRoot)\n        ctx.atRoot = false;\n    if (ctx.atKey)\n        ctx.atKey = false;\n    let offset = bs.offset;\n    let commentEnd = null;\n    for (const { start, value } of bs.items) {\n        const props = resolveProps.resolveProps(start, {\n            indicator: 'seq-item-ind',\n            next: value,\n            offset,\n            onError,\n            parentIndent: bs.indent,\n            startOnNewline: true\n        });\n        if (!props.found) {\n            if (props.anchor || props.tag || value) {\n                if (value && value.type === 'block-seq')\n                    onError(props.end, 'BAD_INDENT', 'All sequence items must start at the same column');\n                else\n                    onError(offset, 'MISSING_CHAR', 'Sequence item without - indicator');\n            }\n            else {\n                commentEnd = props.end;\n                if (props.comment)\n                    seq.comment = props.comment;\n                continue;\n            }\n        }\n        const node = value\n            ? composeNode(ctx, value, props, onError)\n            : composeEmptyNode(ctx, props.end, start, null, props, onError);\n        if (ctx.schema.compat)\n            utilFlowIndentCheck.flowIndentCheck(bs.indent, value, onError);\n        offset = node.range[2];\n        seq.items.push(node);\n    }\n    seq.range = [bs.offset, offset, commentEnd ?? offset];\n    return seq;\n}\n\nexports.resolveBlockSeq = resolveBlockSeq;\n","'use strict';\n\nvar identity = require('../../nodes/identity.js');\nvar YAMLMap = require('../../nodes/YAMLMap.js');\n\nconst map = {\n    collection: 'map',\n    default: true,\n    nodeClass: YAMLMap.YAMLMap,\n    tag: 'tag:yaml.org,2002:map',\n    resolve(map, onError) {\n        if (!identity.isMap(map))\n            onError('Expected a mapping for this tag');\n        return map;\n    },\n    createNode: (schema, obj, ctx) => YAMLMap.YAMLMap.from(schema, obj, ctx)\n};\n\nexports.map = map;\n","'use strict';\n\nvar stringifyNumber = require('../../stringify/stringifyNumber.js');\n\n/** Internal types handle bigint as number, because TS can't figure it out. */\nfunction parseSexagesimal(str, asBigInt) {\n    const sign = str[0];\n    const parts = sign === '-' || sign === '+' ? str.substring(1) : str;\n    const num = (n) => asBigInt ? BigInt(n) : Number(n);\n    const res = parts\n        .replace(/_/g, '')\n        .split(':')\n        .reduce((res, p) => res * num(60) + num(p), num(0));\n    return (sign === '-' ? num(-1) * res : res);\n}\n/**\n * hhhh:mm:ss.sss\n *\n * Internal types handle bigint as number, because TS can't figure it out.\n */\nfunction stringifySexagesimal(node) {\n    let { value } = node;\n    let num = (n) => n;\n    if (typeof value === 'bigint')\n        num = n => BigInt(n);\n    else if (isNaN(value) || !isFinite(value))\n        return stringifyNumber.stringifyNumber(node);\n    let sign = '';\n    if (value < 0) {\n        sign = '-';\n        value *= num(-1);\n    }\n    const _60 = num(60);\n    const parts = [value % _60]; // seconds, including ms\n    if (value < 60) {\n        parts.unshift(0); // at least one : is required\n    }\n    else {\n        value = (value - parts[0]) / _60;\n        parts.unshift(value % _60); // minutes\n        if (value >= 60) {\n            value = (value - parts[0]) / _60;\n            parts.unshift(value); // hours\n        }\n    }\n    return (sign +\n        parts\n            .map(n => String(n).padStart(2, '0'))\n            .join(':')\n            .replace(/000000\\d*$/, '') // % 60 may introduce error\n    );\n}\nconst intTime = {\n    identify: value => typeof value === 'bigint' || Number.isInteger(value),\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'TIME',\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,\n    resolve: (str, _onError, { intAsBigInt }) => parseSexagesimal(str, intAsBigInt),\n    stringify: stringifySexagesimal\n};\nconst floatTime = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'TIME',\n    test: /^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\\.[0-9_]*$/,\n    resolve: str => parseSexagesimal(str, false),\n    stringify: stringifySexagesimal\n};\nconst timestamp = {\n    identify: value => value instanceof Date,\n    default: true,\n    tag: 'tag:yaml.org,2002:timestamp',\n    // If the time zone is omitted, the timestamp is assumed to be specified in UTC. The time part\n    // may be omitted altogether, resulting in a date format. In such a case, the time part is\n    // assumed to be 00:00:00Z (start of day, UTC).\n    test: RegExp('^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})' + // YYYY-Mm-Dd\n        '(?:' + // time is optional\n        '(?:t|T|[ \\\\t]+)' + // t | T | whitespace\n        '([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\\\.[0-9]+)?)' + // Hh:Mm:Ss(.ss)?\n        '(?:[ \\\\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?' + // Z | +5 | -03:30\n        ')?$'),\n    resolve(str) {\n        const match = str.match(timestamp.test);\n        if (!match)\n            throw new Error('!!timestamp expects a date, starting with yyyy-mm-dd');\n        const [, year, month, day, hour, minute, second] = match.map(Number);\n        const millisec = match[7] ? Number((match[7] + '00').substr(1, 3)) : 0;\n        let date = Date.UTC(year, month - 1, day, hour || 0, minute || 0, second || 0, millisec);\n        const tz = match[8];\n        if (tz && tz !== 'Z') {\n            let d = parseSexagesimal(tz, false);\n            if (Math.abs(d) < 30)\n                d *= 60;\n            date -= 60000 * d;\n        }\n        return new Date(date);\n    },\n    stringify: ({ value }) => value?.toISOString().replace(/(T00:00:00)?\\.000Z$/, '') ?? ''\n};\n\nexports.floatTime = floatTime;\nexports.intTime = intTime;\nexports.timestamp = timestamp;\n","'use strict';\n\nvar Scalar = require('../../nodes/Scalar.js');\nvar map = require('../common/map.js');\nvar seq = require('../common/seq.js');\n\nfunction intIdentify(value) {\n    return typeof value === 'bigint' || Number.isInteger(value);\n}\nconst stringifyJSON = ({ value }) => JSON.stringify(value);\nconst jsonScalars = [\n    {\n        identify: value => typeof value === 'string',\n        default: true,\n        tag: 'tag:yaml.org,2002:str',\n        resolve: str => str,\n        stringify: stringifyJSON\n    },\n    {\n        identify: value => value == null,\n        createNode: () => new Scalar.Scalar(null),\n        default: true,\n        tag: 'tag:yaml.org,2002:null',\n        test: /^null$/,\n        resolve: () => null,\n        stringify: stringifyJSON\n    },\n    {\n        identify: value => typeof value === 'boolean',\n        default: true,\n        tag: 'tag:yaml.org,2002:bool',\n        test: /^true$|^false$/,\n        resolve: str => str === 'true',\n        stringify: stringifyJSON\n    },\n    {\n        identify: intIdentify,\n        default: true,\n        tag: 'tag:yaml.org,2002:int',\n        test: /^-?(?:0|[1-9][0-9]*)$/,\n        resolve: (str, _onError, { intAsBigInt }) => intAsBigInt ? BigInt(str) : parseInt(str, 10),\n        stringify: ({ value }) => intIdentify(value) ? value.toString() : JSON.stringify(value)\n    },\n    {\n        identify: value => typeof value === 'number',\n        default: true,\n        tag: 'tag:yaml.org,2002:float',\n        test: /^-?(?:0|[1-9][0-9]*)(?:\\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,\n        resolve: str => parseFloat(str),\n        stringify: stringifyJSON\n    }\n];\nconst jsonError = {\n    default: true,\n    tag: '',\n    test: /^/,\n    resolve(str, onError) {\n        onError(`Unresolved plain scalar ${JSON.stringify(str)}`);\n        return str;\n    }\n};\nconst schema = [map.map, seq.seq].concat(jsonScalars, jsonError);\n\nexports.schema = schema;\n","'use strict';\n\nvar Alias = require('../nodes/Alias.js');\nvar identity = require('../nodes/identity.js');\nvar composeCollection = require('./compose-collection.js');\nvar composeScalar = require('./compose-scalar.js');\nvar resolveEnd = require('./resolve-end.js');\nvar utilEmptyScalarPosition = require('./util-empty-scalar-position.js');\n\nconst CN = { composeNode, composeEmptyNode };\nfunction composeNode(ctx, token, props, onError) {\n    const atKey = ctx.atKey;\n    const { spaceBefore, comment, anchor, tag } = props;\n    let node;\n    let isSrcToken = true;\n    switch (token.type) {\n        case 'alias':\n            node = composeAlias(ctx, token, onError);\n            if (anchor || tag)\n                onError(token, 'ALIAS_PROPS', 'An alias node must not specify any properties');\n            break;\n        case 'scalar':\n        case 'single-quoted-scalar':\n        case 'double-quoted-scalar':\n        case 'block-scalar':\n            node = composeScalar.composeScalar(ctx, token, tag, onError);\n            if (anchor)\n                node.anchor = anchor.source.substring(1);\n            break;\n        case 'block-map':\n        case 'block-seq':\n        case 'flow-collection':\n            node = composeCollection.composeCollection(CN, ctx, token, props, onError);\n            if (anchor)\n                node.anchor = anchor.source.substring(1);\n            break;\n        default: {\n            const message = token.type === 'error'\n                ? token.message\n                : `Unsupported token (type: ${token.type})`;\n            onError(token, 'UNEXPECTED_TOKEN', message);\n            node = composeEmptyNode(ctx, token.offset, undefined, null, props, onError);\n            isSrcToken = false;\n        }\n    }\n    if (anchor && node.anchor === '')\n        onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\n    if (atKey &&\n        ctx.options.stringKeys &&\n        (!identity.isScalar(node) ||\n            typeof node.value !== 'string' ||\n            (node.tag && node.tag !== 'tag:yaml.org,2002:str'))) {\n        const msg = 'With stringKeys, all keys must be strings';\n        onError(tag ?? token, 'NON_STRING_KEY', msg);\n    }\n    if (spaceBefore)\n        node.spaceBefore = true;\n    if (comment) {\n        if (token.type === 'scalar' && token.source === '')\n            node.comment = comment;\n        else\n            node.commentBefore = comment;\n    }\n    // @ts-expect-error Type checking misses meaning of isSrcToken\n    if (ctx.options.keepSourceTokens && isSrcToken)\n        node.srcToken = token;\n    return node;\n}\nfunction composeEmptyNode(ctx, offset, before, pos, { spaceBefore, comment, anchor, tag, end }, onError) {\n    const token = {\n        type: 'scalar',\n        offset: utilEmptyScalarPosition.emptyScalarPosition(offset, before, pos),\n        indent: -1,\n        source: ''\n    };\n    const node = composeScalar.composeScalar(ctx, token, tag, onError);\n    if (anchor) {\n        node.anchor = anchor.source.substring(1);\n        if (node.anchor === '')\n            onError(anchor, 'BAD_ALIAS', 'Anchor cannot be an empty string');\n    }\n    if (spaceBefore)\n        node.spaceBefore = true;\n    if (comment) {\n        node.comment = comment;\n        node.range[2] = end;\n    }\n    return node;\n}\nfunction composeAlias({ options }, { offset, source, end }, onError) {\n    const alias = new Alias.Alias(source.substring(1));\n    if (alias.source === '')\n        onError(offset, 'BAD_ALIAS', 'Alias cannot be an empty string');\n    if (alias.source.endsWith(':'))\n        onError(offset + source.length - 1, 'BAD_ALIAS', 'Alias ending in : is ambiguous', true);\n    const valueEnd = offset + source.length;\n    const re = resolveEnd.resolveEnd(end, valueEnd, options.strict, onError);\n    alias.range = [offset, valueEnd, re.offset];\n    if (re.comment)\n        alias.comment = re.comment;\n    return alias;\n}\n\nexports.composeEmptyNode = composeEmptyNode;\nexports.composeNode = composeNode;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = exports.arrayDiff = void 0;\nconst UUID = require(\"./utils/uuid\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nfunction access(target, key) {\n    if (target === undefined || target === null) {\n        return undefined;\n    }\n    return target[key];\n}\nfunction arrayDiff(left, right) {\n    return left.filter(element => right.indexOf(element) < 0);\n}\nexports.arrayDiff = arrayDiff;\nclass WorkspaceFoldersFeature {\n    constructor(client) {\n        this._client = client;\n        this._listeners = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._listeners.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\n    }\n    fillInitializeParams(params) {\n        const folders = vscode_1.workspace.workspaceFolders;\n        this.initializeWithFolders(folders);\n        if (folders === void 0) {\n            params.workspaceFolders = null;\n        }\n        else {\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\n        }\n    }\n    initializeWithFolders(currentWorkspaceFolders) {\n        this._initialFolders = currentWorkspaceFolders;\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.workspaceFolders = true;\n    }\n    initialize(capabilities) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\n            const workspaceFolders = () => {\n                const folders = vscode_1.workspace.workspaceFolders;\n                if (folders === undefined) {\n                    return null;\n                }\n                const result = folders.map((folder) => {\n                    return this.asProtocol(folder);\n                });\n                return result;\n            };\n            const middleware = client.middleware.workspace;\n            return middleware && middleware.workspaceFolders\n                ? middleware.workspaceFolders(token, workspaceFolders)\n                : workspaceFolders(token);\n        });\n        const value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\n        let id;\n        if (typeof value === 'string') {\n            id = value;\n        }\n        else if (value === true) {\n            id = UUID.generateUuid();\n        }\n        if (id) {\n            this.register({ id: id, registerOptions: undefined });\n        }\n    }\n    sendInitialEvent(currentWorkspaceFolders) {\n        let promise;\n        if (this._initialFolders && currentWorkspaceFolders) {\n            const removed = arrayDiff(this._initialFolders, currentWorkspaceFolders);\n            const added = arrayDiff(currentWorkspaceFolders, this._initialFolders);\n            if (added.length > 0 || removed.length > 0) {\n                promise = this.doSendEvent(added, removed);\n            }\n        }\n        else if (this._initialFolders) {\n            promise = this.doSendEvent([], this._initialFolders);\n        }\n        else if (currentWorkspaceFolders) {\n            promise = this.doSendEvent(currentWorkspaceFolders, []);\n        }\n        if (promise !== undefined) {\n            promise.catch((error) => {\n                this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method} failed`, error);\n            });\n        }\n    }\n    doSendEvent(addedFolders, removedFolders) {\n        let params = {\n            event: {\n                added: addedFolders.map(folder => this.asProtocol(folder)),\n                removed: removedFolders.map(folder => this.asProtocol(folder))\n            }\n        };\n        return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\n    }\n    register(data) {\n        let id = data.id;\n        let client = this._client;\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\n            let didChangeWorkspaceFolders = (event) => {\n                return this.doSendEvent(event.added, event.removed);\n            };\n            let middleware = client.middleware.workspace;\n            const promise = middleware && middleware.didChangeWorkspaceFolders\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\n                : didChangeWorkspaceFolders(event);\n            promise.catch((error) => {\n                this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method} failed`, error);\n            });\n        });\n        this._listeners.set(id, disposable);\n        this.sendInitialEvent(vscode_1.workspace.workspaceFolders);\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable === void 0) {\n            return;\n        }\n        this._listeners.delete(id);\n        disposable.dispose();\n    }\n    clear() {\n        for (let disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    asProtocol(workspaceFolder) {\n        if (workspaceFolder === void 0) {\n            return null;\n        }\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\n    }\n}\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken || (exports.CancellationToken = CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind || (exports.FileOperationPatternKind = FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * The request can return a `WorkspaceEdit` which will be applied to workspace before the\n * files are created. Hence the `WorkspaceEdit` can not manipulate the content of the file\n * to be created.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest || (exports.WillCreateFilesRequest = WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification || (exports.DidCreateFilesNotification = DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest || (exports.WillRenameFilesRequest = WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification || (exports.DidRenameFilesNotification = DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = WillDeleteFilesRequest = {}));\n","'use strict';\n\nvar identity = require('../nodes/identity.js');\nvar Scalar = require('../nodes/Scalar.js');\nvar YAMLMap = require('../nodes/YAMLMap.js');\nvar YAMLSeq = require('../nodes/YAMLSeq.js');\nvar resolveBlockMap = require('./resolve-block-map.js');\nvar resolveBlockSeq = require('./resolve-block-seq.js');\nvar resolveFlowCollection = require('./resolve-flow-collection.js');\n\nfunction resolveCollection(CN, ctx, token, onError, tagName, tag) {\n    const coll = token.type === 'block-map'\n        ? resolveBlockMap.resolveBlockMap(CN, ctx, token, onError, tag)\n        : token.type === 'block-seq'\n            ? resolveBlockSeq.resolveBlockSeq(CN, ctx, token, onError, tag)\n            : resolveFlowCollection.resolveFlowCollection(CN, ctx, token, onError, tag);\n    const Coll = coll.constructor;\n    // If we got a tagName matching the class, or the tag name is '!',\n    // then use the tagName from the node class used to create it.\n    if (tagName === '!' || tagName === Coll.tagName) {\n        coll.tag = Coll.tagName;\n        return coll;\n    }\n    if (tagName)\n        coll.tag = tagName;\n    return coll;\n}\nfunction composeCollection(CN, ctx, token, props, onError) {\n    const tagToken = props.tag;\n    const tagName = !tagToken\n        ? null\n        : ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg));\n    if (token.type === 'block-seq') {\n        const { anchor, newlineAfterProp: nl } = props;\n        const lastProp = anchor && tagToken\n            ? anchor.offset > tagToken.offset\n                ? anchor\n                : tagToken\n            : (anchor ?? tagToken);\n        if (lastProp && (!nl || nl.offset < lastProp.offset)) {\n            const message = 'Missing newline after block sequence props';\n            onError(lastProp, 'MISSING_CHAR', message);\n        }\n    }\n    const expType = token.type === 'block-map'\n        ? 'map'\n        : token.type === 'block-seq'\n            ? 'seq'\n            : token.start.source === '{'\n                ? 'map'\n                : 'seq';\n    // shortcut: check if it's a generic YAMLMap or YAMLSeq\n    // before jumping into the custom tag logic.\n    if (!tagToken ||\n        !tagName ||\n        tagName === '!' ||\n        (tagName === YAMLMap.YAMLMap.tagName && expType === 'map') ||\n        (tagName === YAMLSeq.YAMLSeq.tagName && expType === 'seq')) {\n        return resolveCollection(CN, ctx, token, onError, tagName);\n    }\n    let tag = ctx.schema.tags.find(t => t.tag === tagName && t.collection === expType);\n    if (!tag) {\n        const kt = ctx.schema.knownTags[tagName];\n        if (kt && kt.collection === expType) {\n            ctx.schema.tags.push(Object.assign({}, kt, { default: false }));\n            tag = kt;\n        }\n        else {\n            if (kt) {\n                onError(tagToken, 'BAD_COLLECTION_TYPE', `${kt.tag} used for ${expType} collection, but expects ${kt.collection ?? 'scalar'}`, true);\n            }\n            else {\n                onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, true);\n            }\n            return resolveCollection(CN, ctx, token, onError, tagName);\n        }\n    }\n    const coll = resolveCollection(CN, ctx, token, onError, tagName, tag);\n    const res = tag.resolve?.(coll, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg), ctx.options) ?? coll;\n    const node = identity.isNode(res)\n        ? res\n        : new Scalar.Scalar(res);\n    node.range = coll.range;\n    node.tag = tagName;\n    if (tag?.format)\n        node.format = tag.format;\n    return node;\n}\n\nexports.composeCollection = composeCollection;\n","'use strict';\n\nvar node_process = require('process');\nvar cst = require('./cst.js');\nvar lexer = require('./lexer.js');\n\nfunction includesToken(list, type) {\n    for (let i = 0; i < list.length; ++i)\n        if (list[i].type === type)\n            return true;\n    return false;\n}\nfunction findNonEmptyIndex(list) {\n    for (let i = 0; i < list.length; ++i) {\n        switch (list[i].type) {\n            case 'space':\n            case 'comment':\n            case 'newline':\n                break;\n            default:\n                return i;\n        }\n    }\n    return -1;\n}\nfunction isFlowToken(token) {\n    switch (token?.type) {\n        case 'alias':\n        case 'scalar':\n        case 'single-quoted-scalar':\n        case 'double-quoted-scalar':\n        case 'flow-collection':\n            return true;\n        default:\n            return false;\n    }\n}\nfunction getPrevProps(parent) {\n    switch (parent.type) {\n        case 'document':\n            return parent.start;\n        case 'block-map': {\n            const it = parent.items[parent.items.length - 1];\n            return it.sep ?? it.start;\n        }\n        case 'block-seq':\n            return parent.items[parent.items.length - 1].start;\n        /* istanbul ignore next should not happen */\n        default:\n            return [];\n    }\n}\n/** Note: May modify input array */\nfunction getFirstKeyStartProps(prev) {\n    if (prev.length === 0)\n        return [];\n    let i = prev.length;\n    loop: while (--i >= 0) {\n        switch (prev[i].type) {\n            case 'doc-start':\n            case 'explicit-key-ind':\n            case 'map-value-ind':\n            case 'seq-item-ind':\n            case 'newline':\n                break loop;\n        }\n    }\n    while (prev[++i]?.type === 'space') {\n        /* loop */\n    }\n    return prev.splice(i, prev.length);\n}\nfunction fixFlowSeqItems(fc) {\n    if (fc.start.type === 'flow-seq-start') {\n        for (const it of fc.items) {\n            if (it.sep &&\n                !it.value &&\n                !includesToken(it.start, 'explicit-key-ind') &&\n                !includesToken(it.sep, 'map-value-ind')) {\n                if (it.key)\n                    it.value = it.key;\n                delete it.key;\n                if (isFlowToken(it.value)) {\n                    if (it.value.end)\n                        Array.prototype.push.apply(it.value.end, it.sep);\n                    else\n                        it.value.end = it.sep;\n                }\n                else\n                    Array.prototype.push.apply(it.start, it.sep);\n                delete it.sep;\n            }\n        }\n    }\n}\n/**\n * A YAML concrete syntax tree (CST) parser\n *\n * ```ts\n * const src: string = ...\n * for (const token of new Parser().parse(src)) {\n *   // token: Token\n * }\n * ```\n *\n * To use the parser with a user-provided lexer:\n *\n * ```ts\n * function* parse(source: string, lexer: Lexer) {\n *   const parser = new Parser()\n *   for (const lexeme of lexer.lex(source))\n *     yield* parser.next(lexeme)\n *   yield* parser.end()\n * }\n *\n * const src: string = ...\n * const lexer = new Lexer()\n * for (const token of parse(src, lexer)) {\n *   // token: Token\n * }\n * ```\n */\nclass Parser {\n    /**\n     * @param onNewLine - If defined, called separately with the start position of\n     *   each new line (in `parse()`, including the start of input).\n     */\n    constructor(onNewLine) {\n        /** If true, space and sequence indicators count as indentation */\n        this.atNewLine = true;\n        /** If true, next token is a scalar value */\n        this.atScalar = false;\n        /** Current indentation level */\n        this.indent = 0;\n        /** Current offset since the start of parsing */\n        this.offset = 0;\n        /** On the same line with a block map key */\n        this.onKeyLine = false;\n        /** Top indicates the node that's currently being built */\n        this.stack = [];\n        /** The source of the current token, set in parse() */\n        this.source = '';\n        /** The type of the current token, set in parse() */\n        this.type = '';\n        // Must be defined after `next()`\n        this.lexer = new lexer.Lexer();\n        this.onNewLine = onNewLine;\n    }\n    /**\n     * Parse `source` as a YAML stream.\n     * If `incomplete`, a part of the last line may be left as a buffer for the next call.\n     *\n     * Errors are not thrown, but yielded as `{ type: 'error', message }` tokens.\n     *\n     * @returns A generator of tokens representing each directive, document, and other structure.\n     */\n    *parse(source, incomplete = false) {\n        if (this.onNewLine && this.offset === 0)\n            this.onNewLine(0);\n        for (const lexeme of this.lexer.lex(source, incomplete))\n            yield* this.next(lexeme);\n        if (!incomplete)\n            yield* this.end();\n    }\n    /**\n     * Advance the parser by the `source` of one lexical token.\n     */\n    *next(source) {\n        this.source = source;\n        if (node_process.env.LOG_TOKENS)\n            console.log('|', cst.prettyToken(source));\n        if (this.atScalar) {\n            this.atScalar = false;\n            yield* this.step();\n            this.offset += source.length;\n            return;\n        }\n        const type = cst.tokenType(source);\n        if (!type) {\n            const message = `Not a YAML token: ${source}`;\n            yield* this.pop({ type: 'error', offset: this.offset, message, source });\n            this.offset += source.length;\n        }\n        else if (type === 'scalar') {\n            this.atNewLine = false;\n            this.atScalar = true;\n            this.type = 'scalar';\n        }\n        else {\n            this.type = type;\n            yield* this.step();\n            switch (type) {\n                case 'newline':\n                    this.atNewLine = true;\n                    this.indent = 0;\n                    if (this.onNewLine)\n                        this.onNewLine(this.offset + source.length);\n                    break;\n                case 'space':\n                    if (this.atNewLine && source[0] === ' ')\n                        this.indent += source.length;\n                    break;\n                case 'explicit-key-ind':\n                case 'map-value-ind':\n                case 'seq-item-ind':\n                    if (this.atNewLine)\n                        this.indent += source.length;\n                    break;\n                case 'doc-mode':\n                case 'flow-error-end':\n                    return;\n                default:\n                    this.atNewLine = false;\n            }\n            this.offset += source.length;\n        }\n    }\n    /** Call at end of input to push out any remaining constructions */\n    *end() {\n        while (this.stack.length > 0)\n            yield* this.pop();\n    }\n    get sourceToken() {\n        const st = {\n            type: this.type,\n            offset: this.offset,\n            indent: this.indent,\n            source: this.source\n        };\n        return st;\n    }\n    *step() {\n        const top = this.peek(1);\n        if (this.type === 'doc-end' && (!top || top.type !== 'doc-end')) {\n            while (this.stack.length > 0)\n                yield* this.pop();\n            this.stack.push({\n                type: 'doc-end',\n                offset: this.offset,\n                source: this.source\n            });\n            return;\n        }\n        if (!top)\n            return yield* this.stream();\n        switch (top.type) {\n            case 'document':\n                return yield* this.document(top);\n            case 'alias':\n            case 'scalar':\n            case 'single-quoted-scalar':\n            case 'double-quoted-scalar':\n                return yield* this.scalar(top);\n            case 'block-scalar':\n                return yield* this.blockScalar(top);\n            case 'block-map':\n                return yield* this.blockMap(top);\n            case 'block-seq':\n                return yield* this.blockSequence(top);\n            case 'flow-collection':\n                return yield* this.flowCollection(top);\n            case 'doc-end':\n                return yield* this.documentEnd(top);\n        }\n        /* istanbul ignore next should not happen */\n        yield* this.pop();\n    }\n    peek(n) {\n        return this.stack[this.stack.length - n];\n    }\n    *pop(error) {\n        const token = error ?? this.stack.pop();\n        /* istanbul ignore if should not happen */\n        if (!token) {\n            const message = 'Tried to pop an empty stack';\n            yield { type: 'error', offset: this.offset, source: '', message };\n        }\n        else if (this.stack.length === 0) {\n            yield token;\n        }\n        else {\n            const top = this.peek(1);\n            if (token.type === 'block-scalar') {\n                // Block scalars use their parent rather than header indent\n                token.indent = 'indent' in top ? top.indent : 0;\n            }\n            else if (token.type === 'flow-collection' && top.type === 'document') {\n                // Ignore all indent for top-level flow collections\n                token.indent = 0;\n            }\n            if (token.type === 'flow-collection')\n                fixFlowSeqItems(token);\n            switch (top.type) {\n                case 'document':\n                    top.value = token;\n                    break;\n                case 'block-scalar':\n                    top.props.push(token); // error\n                    break;\n                case 'block-map': {\n                    const it = top.items[top.items.length - 1];\n                    if (it.value) {\n                        top.items.push({ start: [], key: token, sep: [] });\n                        this.onKeyLine = true;\n                        return;\n                    }\n                    else if (it.sep) {\n                        it.value = token;\n                    }\n                    else {\n                        Object.assign(it, { key: token, sep: [] });\n                        this.onKeyLine = !it.explicitKey;\n                        return;\n                    }\n                    break;\n                }\n                case 'block-seq': {\n                    const it = top.items[top.items.length - 1];\n                    if (it.value)\n                        top.items.push({ start: [], value: token });\n                    else\n                        it.value = token;\n                    break;\n                }\n                case 'flow-collection': {\n                    const it = top.items[top.items.length - 1];\n                    if (!it || it.value)\n                        top.items.push({ start: [], key: token, sep: [] });\n                    else if (it.sep)\n                        it.value = token;\n                    else\n                        Object.assign(it, { key: token, sep: [] });\n                    return;\n                }\n                /* istanbul ignore next should not happen */\n                default:\n                    yield* this.pop();\n                    yield* this.pop(token);\n            }\n            if ((top.type === 'document' ||\n                top.type === 'block-map' ||\n                top.type === 'block-seq') &&\n                (token.type === 'block-map' || token.type === 'block-seq')) {\n                const last = token.items[token.items.length - 1];\n                if (last &&\n                    !last.sep &&\n                    !last.value &&\n                    last.start.length > 0 &&\n                    findNonEmptyIndex(last.start) === -1 &&\n                    (token.indent === 0 ||\n                        last.start.every(st => st.type !== 'comment' || st.indent < token.indent))) {\n                    if (top.type === 'document')\n                        top.end = last.start;\n                    else\n                        top.items.push({ start: last.start });\n                    token.items.splice(-1, 1);\n                }\n            }\n        }\n    }\n    *stream() {\n        switch (this.type) {\n            case 'directive-line':\n                yield { type: 'directive', offset: this.offset, source: this.source };\n                return;\n            case 'byte-order-mark':\n            case 'space':\n            case 'comment':\n            case 'newline':\n                yield this.sourceToken;\n                return;\n            case 'doc-mode':\n            case 'doc-start': {\n                const doc = {\n                    type: 'document',\n                    offset: this.offset,\n                    start: []\n                };\n                if (this.type === 'doc-start')\n                    doc.start.push(this.sourceToken);\n                this.stack.push(doc);\n                return;\n            }\n        }\n        yield {\n            type: 'error',\n            offset: this.offset,\n            message: `Unexpected ${this.type} token in YAML stream`,\n            source: this.source\n        };\n    }\n    *document(doc) {\n        if (doc.value)\n            return yield* this.lineEnd(doc);\n        switch (this.type) {\n            case 'doc-start': {\n                if (findNonEmptyIndex(doc.start) !== -1) {\n                    yield* this.pop();\n                    yield* this.step();\n                }\n                else\n                    doc.start.push(this.sourceToken);\n                return;\n            }\n            case 'anchor':\n            case 'tag':\n            case 'space':\n            case 'comment':\n            case 'newline':\n                doc.start.push(this.sourceToken);\n                return;\n        }\n        const bv = this.startBlockValue(doc);\n        if (bv)\n            this.stack.push(bv);\n        else {\n            yield {\n                type: 'error',\n                offset: this.offset,\n                message: `Unexpected ${this.type} token in YAML document`,\n                source: this.source\n            };\n        }\n    }\n    *scalar(scalar) {\n        if (this.type === 'map-value-ind') {\n            const prev = getPrevProps(this.peek(2));\n            const start = getFirstKeyStartProps(prev);\n            let sep;\n            if (scalar.end) {\n                sep = scalar.end;\n                sep.push(this.sourceToken);\n                delete scalar.end;\n            }\n            else\n                sep = [this.sourceToken];\n            const map = {\n                type: 'block-map',\n                offset: scalar.offset,\n                indent: scalar.indent,\n                items: [{ start, key: scalar, sep }]\n            };\n            this.onKeyLine = true;\n            this.stack[this.stack.length - 1] = map;\n        }\n        else\n            yield* this.lineEnd(scalar);\n    }\n    *blockScalar(scalar) {\n        switch (this.type) {\n            case 'space':\n            case 'comment':\n            case 'newline':\n                scalar.props.push(this.sourceToken);\n                return;\n            case 'scalar':\n                scalar.source = this.source;\n                // block-scalar source includes trailing newline\n                this.atNewLine = true;\n                this.indent = 0;\n                if (this.onNewLine) {\n                    let nl = this.source.indexOf('\\n') + 1;\n                    while (nl !== 0) {\n                        this.onNewLine(this.offset + nl);\n                        nl = this.source.indexOf('\\n', nl) + 1;\n                    }\n                }\n                yield* this.pop();\n                break;\n            /* istanbul ignore next should not happen */\n            default:\n                yield* this.pop();\n                yield* this.step();\n        }\n    }\n    *blockMap(map) {\n        const it = map.items[map.items.length - 1];\n        // it.sep is true-ish if pair already has key or : separator\n        switch (this.type) {\n            case 'newline':\n                this.onKeyLine = false;\n                if (it.value) {\n                    const end = 'end' in it.value ? it.value.end : undefined;\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\n                    if (last?.type === 'comment')\n                        end?.push(this.sourceToken);\n                    else\n                        map.items.push({ start: [this.sourceToken] });\n                }\n                else if (it.sep) {\n                    it.sep.push(this.sourceToken);\n                }\n                else {\n                    it.start.push(this.sourceToken);\n                }\n                return;\n            case 'space':\n            case 'comment':\n                if (it.value) {\n                    map.items.push({ start: [this.sourceToken] });\n                }\n                else if (it.sep) {\n                    it.sep.push(this.sourceToken);\n                }\n                else {\n                    if (this.atIndentedComment(it.start, map.indent)) {\n                        const prev = map.items[map.items.length - 2];\n                        const end = prev?.value?.end;\n                        if (Array.isArray(end)) {\n                            Array.prototype.push.apply(end, it.start);\n                            end.push(this.sourceToken);\n                            map.items.pop();\n                            return;\n                        }\n                    }\n                    it.start.push(this.sourceToken);\n                }\n                return;\n        }\n        if (this.indent >= map.indent) {\n            const atMapIndent = !this.onKeyLine && this.indent === map.indent;\n            const atNextItem = atMapIndent &&\n                (it.sep || it.explicitKey) &&\n                this.type !== 'seq-item-ind';\n            // For empty nodes, assign newline-separated not indented empty tokens to following node\n            let start = [];\n            if (atNextItem && it.sep && !it.value) {\n                const nl = [];\n                for (let i = 0; i < it.sep.length; ++i) {\n                    const st = it.sep[i];\n                    switch (st.type) {\n                        case 'newline':\n                            nl.push(i);\n                            break;\n                        case 'space':\n                            break;\n                        case 'comment':\n                            if (st.indent > map.indent)\n                                nl.length = 0;\n                            break;\n                        default:\n                            nl.length = 0;\n                    }\n                }\n                if (nl.length >= 2)\n                    start = it.sep.splice(nl[1]);\n            }\n            switch (this.type) {\n                case 'anchor':\n                case 'tag':\n                    if (atNextItem || it.value) {\n                        start.push(this.sourceToken);\n                        map.items.push({ start });\n                        this.onKeyLine = true;\n                    }\n                    else if (it.sep) {\n                        it.sep.push(this.sourceToken);\n                    }\n                    else {\n                        it.start.push(this.sourceToken);\n                    }\n                    return;\n                case 'explicit-key-ind':\n                    if (!it.sep && !it.explicitKey) {\n                        it.start.push(this.sourceToken);\n                        it.explicitKey = true;\n                    }\n                    else if (atNextItem || it.value) {\n                        start.push(this.sourceToken);\n                        map.items.push({ start, explicitKey: true });\n                    }\n                    else {\n                        this.stack.push({\n                            type: 'block-map',\n                            offset: this.offset,\n                            indent: this.indent,\n                            items: [{ start: [this.sourceToken], explicitKey: true }]\n                        });\n                    }\n                    this.onKeyLine = true;\n                    return;\n                case 'map-value-ind':\n                    if (it.explicitKey) {\n                        if (!it.sep) {\n                            if (includesToken(it.start, 'newline')) {\n                                Object.assign(it, { key: null, sep: [this.sourceToken] });\n                            }\n                            else {\n                                const start = getFirstKeyStartProps(it.start);\n                                this.stack.push({\n                                    type: 'block-map',\n                                    offset: this.offset,\n                                    indent: this.indent,\n                                    items: [{ start, key: null, sep: [this.sourceToken] }]\n                                });\n                            }\n                        }\n                        else if (it.value) {\n                            map.items.push({ start: [], key: null, sep: [this.sourceToken] });\n                        }\n                        else if (includesToken(it.sep, 'map-value-ind')) {\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start, key: null, sep: [this.sourceToken] }]\n                            });\n                        }\n                        else if (isFlowToken(it.key) &&\n                            !includesToken(it.sep, 'newline')) {\n                            const start = getFirstKeyStartProps(it.start);\n                            const key = it.key;\n                            const sep = it.sep;\n                            sep.push(this.sourceToken);\n                            // @ts-expect-error type guard is wrong here\n                            delete it.key;\n                            // @ts-expect-error type guard is wrong here\n                            delete it.sep;\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start, key, sep }]\n                            });\n                        }\n                        else if (start.length > 0) {\n                            // Not actually at next item\n                            it.sep = it.sep.concat(start, this.sourceToken);\n                        }\n                        else {\n                            it.sep.push(this.sourceToken);\n                        }\n                    }\n                    else {\n                        if (!it.sep) {\n                            Object.assign(it, { key: null, sep: [this.sourceToken] });\n                        }\n                        else if (it.value || atNextItem) {\n                            map.items.push({ start, key: null, sep: [this.sourceToken] });\n                        }\n                        else if (includesToken(it.sep, 'map-value-ind')) {\n                            this.stack.push({\n                                type: 'block-map',\n                                offset: this.offset,\n                                indent: this.indent,\n                                items: [{ start: [], key: null, sep: [this.sourceToken] }]\n                            });\n                        }\n                        else {\n                            it.sep.push(this.sourceToken);\n                        }\n                    }\n                    this.onKeyLine = true;\n                    return;\n                case 'alias':\n                case 'scalar':\n                case 'single-quoted-scalar':\n                case 'double-quoted-scalar': {\n                    const fs = this.flowScalar(this.type);\n                    if (atNextItem || it.value) {\n                        map.items.push({ start, key: fs, sep: [] });\n                        this.onKeyLine = true;\n                    }\n                    else if (it.sep) {\n                        this.stack.push(fs);\n                    }\n                    else {\n                        Object.assign(it, { key: fs, sep: [] });\n                        this.onKeyLine = true;\n                    }\n                    return;\n                }\n                default: {\n                    const bv = this.startBlockValue(map);\n                    if (bv) {\n                        if (bv.type === 'block-seq') {\n                            if (!it.explicitKey &&\n                                it.sep &&\n                                !includesToken(it.sep, 'newline')) {\n                                yield* this.pop({\n                                    type: 'error',\n                                    offset: this.offset,\n                                    message: 'Unexpected block-seq-ind on same line with key',\n                                    source: this.source\n                                });\n                                return;\n                            }\n                        }\n                        else if (atMapIndent) {\n                            map.items.push({ start });\n                        }\n                        this.stack.push(bv);\n                        return;\n                    }\n                }\n            }\n        }\n        yield* this.pop();\n        yield* this.step();\n    }\n    *blockSequence(seq) {\n        const it = seq.items[seq.items.length - 1];\n        switch (this.type) {\n            case 'newline':\n                if (it.value) {\n                    const end = 'end' in it.value ? it.value.end : undefined;\n                    const last = Array.isArray(end) ? end[end.length - 1] : undefined;\n                    if (last?.type === 'comment')\n                        end?.push(this.sourceToken);\n                    else\n                        seq.items.push({ start: [this.sourceToken] });\n                }\n                else\n                    it.start.push(this.sourceToken);\n                return;\n            case 'space':\n            case 'comment':\n                if (it.value)\n                    seq.items.push({ start: [this.sourceToken] });\n                else {\n                    if (this.atIndentedComment(it.start, seq.indent)) {\n                        const prev = seq.items[seq.items.length - 2];\n                        const end = prev?.value?.end;\n                        if (Array.isArray(end)) {\n                            Array.prototype.push.apply(end, it.start);\n                            end.push(this.sourceToken);\n                            seq.items.pop();\n                            return;\n                        }\n                    }\n                    it.start.push(this.sourceToken);\n                }\n                return;\n            case 'anchor':\n            case 'tag':\n                if (it.value || this.indent <= seq.indent)\n                    break;\n                it.start.push(this.sourceToken);\n                return;\n            case 'seq-item-ind':\n                if (this.indent !== seq.indent)\n                    break;\n                if (it.value || includesToken(it.start, 'seq-item-ind'))\n                    seq.items.push({ start: [this.sourceToken] });\n                else\n                    it.start.push(this.sourceToken);\n                return;\n        }\n        if (this.indent > seq.indent) {\n            const bv = this.startBlockValue(seq);\n            if (bv) {\n                this.stack.push(bv);\n                return;\n            }\n        }\n        yield* this.pop();\n        yield* this.step();\n    }\n    *flowCollection(fc) {\n        const it = fc.items[fc.items.length - 1];\n        if (this.type === 'flow-error-end') {\n            let top;\n            do {\n                yield* this.pop();\n                top = this.peek(1);\n            } while (top && top.type === 'flow-collection');\n        }\n        else if (fc.end.length === 0) {\n            switch (this.type) {\n                case 'comma':\n                case 'explicit-key-ind':\n                    if (!it || it.sep)\n                        fc.items.push({ start: [this.sourceToken] });\n                    else\n                        it.start.push(this.sourceToken);\n                    return;\n                case 'map-value-ind':\n                    if (!it || it.value)\n                        fc.items.push({ start: [], key: null, sep: [this.sourceToken] });\n                    else if (it.sep)\n                        it.sep.push(this.sourceToken);\n                    else\n                        Object.assign(it, { key: null, sep: [this.sourceToken] });\n                    return;\n                case 'space':\n                case 'comment':\n                case 'newline':\n                case 'anchor':\n                case 'tag':\n                    if (!it || it.value)\n                        fc.items.push({ start: [this.sourceToken] });\n                    else if (it.sep)\n                        it.sep.push(this.sourceToken);\n                    else\n                        it.start.push(this.sourceToken);\n                    return;\n                case 'alias':\n                case 'scalar':\n                case 'single-quoted-scalar':\n                case 'double-quoted-scalar': {\n                    const fs = this.flowScalar(this.type);\n                    if (!it || it.value)\n                        fc.items.push({ start: [], key: fs, sep: [] });\n                    else if (it.sep)\n                        this.stack.push(fs);\n                    else\n                        Object.assign(it, { key: fs, sep: [] });\n                    return;\n                }\n                case 'flow-map-end':\n                case 'flow-seq-end':\n                    fc.end.push(this.sourceToken);\n                    return;\n            }\n            const bv = this.startBlockValue(fc);\n            /* istanbul ignore else should not happen */\n            if (bv)\n                this.stack.push(bv);\n            else {\n                yield* this.pop();\n                yield* this.step();\n            }\n        }\n        else {\n            const parent = this.peek(2);\n            if (parent.type === 'block-map' &&\n                ((this.type === 'map-value-ind' && parent.indent === fc.indent) ||\n                    (this.type === 'newline' &&\n                        !parent.items[parent.items.length - 1].sep))) {\n                yield* this.pop();\n                yield* this.step();\n            }\n            else if (this.type === 'map-value-ind' &&\n                parent.type !== 'flow-collection') {\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                fixFlowSeqItems(fc);\n                const sep = fc.end.splice(1, fc.end.length);\n                sep.push(this.sourceToken);\n                const map = {\n                    type: 'block-map',\n                    offset: fc.offset,\n                    indent: fc.indent,\n                    items: [{ start, key: fc, sep }]\n                };\n                this.onKeyLine = true;\n                this.stack[this.stack.length - 1] = map;\n            }\n            else {\n                yield* this.lineEnd(fc);\n            }\n        }\n    }\n    flowScalar(type) {\n        if (this.onNewLine) {\n            let nl = this.source.indexOf('\\n') + 1;\n            while (nl !== 0) {\n                this.onNewLine(this.offset + nl);\n                nl = this.source.indexOf('\\n', nl) + 1;\n            }\n        }\n        return {\n            type,\n            offset: this.offset,\n            indent: this.indent,\n            source: this.source\n        };\n    }\n    startBlockValue(parent) {\n        switch (this.type) {\n            case 'alias':\n            case 'scalar':\n            case 'single-quoted-scalar':\n            case 'double-quoted-scalar':\n                return this.flowScalar(this.type);\n            case 'block-scalar-header':\n                return {\n                    type: 'block-scalar',\n                    offset: this.offset,\n                    indent: this.indent,\n                    props: [this.sourceToken],\n                    source: ''\n                };\n            case 'flow-map-start':\n            case 'flow-seq-start':\n                return {\n                    type: 'flow-collection',\n                    offset: this.offset,\n                    indent: this.indent,\n                    start: this.sourceToken,\n                    items: [],\n                    end: []\n                };\n            case 'seq-item-ind':\n                return {\n                    type: 'block-seq',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start: [this.sourceToken] }]\n                };\n            case 'explicit-key-ind': {\n                this.onKeyLine = true;\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                start.push(this.sourceToken);\n                return {\n                    type: 'block-map',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start, explicitKey: true }]\n                };\n            }\n            case 'map-value-ind': {\n                this.onKeyLine = true;\n                const prev = getPrevProps(parent);\n                const start = getFirstKeyStartProps(prev);\n                return {\n                    type: 'block-map',\n                    offset: this.offset,\n                    indent: this.indent,\n                    items: [{ start, key: null, sep: [this.sourceToken] }]\n                };\n            }\n        }\n        return null;\n    }\n    atIndentedComment(start, indent) {\n        if (this.type !== 'comment')\n            return false;\n        if (this.indent <= indent)\n            return false;\n        return start.every(st => st.type === 'newline' || st.type === 'space');\n    }\n    *documentEnd(docEnd) {\n        if (this.type !== 'doc-mode') {\n            if (docEnd.end)\n                docEnd.end.push(this.sourceToken);\n            else\n                docEnd.end = [this.sourceToken];\n            if (this.type === 'newline')\n                yield* this.pop();\n        }\n    }\n    *lineEnd(token) {\n        switch (this.type) {\n            case 'comma':\n            case 'doc-start':\n            case 'doc-end':\n            case 'flow-seq-end':\n            case 'flow-map-end':\n            case 'map-value-ind':\n                yield* this.pop();\n                yield* this.step();\n                break;\n            case 'newline':\n                this.onKeyLine = false;\n            // fallthrough\n            case 'space':\n            case 'comment':\n            default:\n                // all other values are errors\n                if (token.end)\n                    token.end.push(this.sourceToken);\n                else\n                    token.end = [this.sourceToken];\n                if (this.type === 'newline')\n                    yield* this.pop();\n        }\n    }\n}\n\nexports.Parser = Parser;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DependencyAnalyzer = void 0;\n/**\n * Analyzes workflow task dependencies\n * Identifies independent tasks and parallel execution opportunities\n */\nclass DependencyAnalyzer {\n    /**\n     * Analyze workflow dependencies\n     * @param spec Workflow specification\n     * @returns DependencyAnalysis with independent tasks and parallel groups\n     */\n    analyze(spec) {\n        const independentTasks = this.findIndependentTasks(spec.tasks);\n        const parallelGroups = this.findParallelGroups(spec.tasks);\n        const criticalPath = this.findCriticalPath(spec.tasks);\n        return {\n            independentTasks,\n            parallelGroups,\n            criticalPath\n        };\n    }\n    /**\n     * Find tasks with no dependencies\n     */\n    findIndependentTasks(tasks) {\n        return tasks\n            .filter(task => !task.dependsOn || task.dependsOn.length === 0)\n            .map(task => task.id);\n    }\n    /**\n     * Find groups of tasks that can execute in parallel\n     */\n    findParallelGroups(tasks) {\n        const groups = [];\n        const processed = new Set();\n        // Group tasks by their dependency level\n        const levelMap = new Map();\n        for (const task of tasks) {\n            const level = this.calculateTaskLevel(task, tasks);\n            if (!levelMap.has(level)) {\n                levelMap.set(level, []);\n            }\n            levelMap.get(level).push(task.id);\n        }\n        // Convert levels to parallel groups (skip level 0 as those are independentTasks)\n        for (const [level, taskIds] of levelMap.entries()) {\n            if (taskIds.length > 1) {\n                groups.push(taskIds);\n            }\n        }\n        return groups;\n    }\n    /**\n     * Calculate the dependency level of a task\n     */\n    calculateTaskLevel(task, allTasks) {\n        if (!task.dependsOn || task.dependsOn.length === 0) {\n            return 0;\n        }\n        const taskMap = new Map(allTasks.map(t => [t.id, t]));\n        const maxDepLevel = Math.max(...task.dependsOn.map(depId => {\n            const depTask = taskMap.get(depId);\n            return depTask ? this.calculateTaskLevel(depTask, allTasks) : 0;\n        }));\n        return maxDepLevel + 1;\n    }\n    /**\n     * Find critical path (longest path through the graph)\n     */\n    findCriticalPath(tasks) {\n        // Simple implementation: find the longest chain of dependencies\n        let longestPath = [];\n        const findPath = (taskId, currentPath) => {\n            currentPath.push(taskId);\n            const task = tasks.find(t => t.id === taskId);\n            if (!task || !task.dependsOn || task.dependsOn.length === 0) {\n                return currentPath;\n            }\n            let longest = currentPath;\n            for (const depId of task.dependsOn) {\n                const path = findPath(depId, [...currentPath]);\n                if (path.length > longest.length) {\n                    longest = path;\n                }\n            }\n            return longest;\n        };\n        for (const task of tasks) {\n            const path = findPath(task.id, []);\n            if (path.length > longestPath.length) {\n                longestPath = path;\n            }\n        }\n        return longestPath.reverse();\n    }\n}\nexports.DependencyAnalyzer = DependencyAnalyzer;\n//# sourceMappingURL=dependencyAnalyzer.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCodeLens extends code.CodeLens {\n    constructor(range) {\n        super(range);\n    }\n}\nexports.default = ProtocolCodeLens;\n","'use strict';\n\nvar identity = require('../nodes/identity.js');\nvar Pair = require('../nodes/Pair.js');\nvar YAMLMap = require('../nodes/YAMLMap.js');\nvar YAMLSeq = require('../nodes/YAMLSeq.js');\nvar resolveEnd = require('./resolve-end.js');\nvar resolveProps = require('./resolve-props.js');\nvar utilContainsNewline = require('./util-contains-newline.js');\nvar utilMapIncludes = require('./util-map-includes.js');\n\nconst blockMsg = 'Block collections are not allowed within flow collections';\nconst isBlock = (token) => token && (token.type === 'block-map' || token.type === 'block-seq');\nfunction resolveFlowCollection({ composeNode, composeEmptyNode }, ctx, fc, onError, tag) {\n    const isMap = fc.start.source === '{';\n    const fcName = isMap ? 'flow map' : 'flow sequence';\n    const NodeClass = (tag?.nodeClass ?? (isMap ? YAMLMap.YAMLMap : YAMLSeq.YAMLSeq));\n    const coll = new NodeClass(ctx.schema);\n    coll.flow = true;\n    const atRoot = ctx.atRoot;\n    if (atRoot)\n        ctx.atRoot = false;\n    if (ctx.atKey)\n        ctx.atKey = false;\n    let offset = fc.offset + fc.start.source.length;\n    for (let i = 0; i < fc.items.length; ++i) {\n        const collItem = fc.items[i];\n        const { start, key, sep, value } = collItem;\n        const props = resolveProps.resolveProps(start, {\n            flow: fcName,\n            indicator: 'explicit-key-ind',\n            next: key ?? sep?.[0],\n            offset,\n            onError,\n            parentIndent: fc.indent,\n            startOnNewline: false\n        });\n        if (!props.found) {\n            if (!props.anchor && !props.tag && !sep && !value) {\n                if (i === 0 && props.comma)\n                    onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\n                else if (i < fc.items.length - 1)\n                    onError(props.start, 'UNEXPECTED_TOKEN', `Unexpected empty item in ${fcName}`);\n                if (props.comment) {\n                    if (coll.comment)\n                        coll.comment += '\\n' + props.comment;\n                    else\n                        coll.comment = props.comment;\n                }\n                offset = props.end;\n                continue;\n            }\n            if (!isMap && ctx.options.strict && utilContainsNewline.containsNewline(key))\n                onError(key, // checked by containsNewline()\n                'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\n        }\n        if (i === 0) {\n            if (props.comma)\n                onError(props.comma, 'UNEXPECTED_TOKEN', `Unexpected , in ${fcName}`);\n        }\n        else {\n            if (!props.comma)\n                onError(props.start, 'MISSING_CHAR', `Missing , between ${fcName} items`);\n            if (props.comment) {\n                let prevItemComment = '';\n                loop: for (const st of start) {\n                    switch (st.type) {\n                        case 'comma':\n                        case 'space':\n                            break;\n                        case 'comment':\n                            prevItemComment = st.source.substring(1);\n                            break loop;\n                        default:\n                            break loop;\n                    }\n                }\n                if (prevItemComment) {\n                    let prev = coll.items[coll.items.length - 1];\n                    if (identity.isPair(prev))\n                        prev = prev.value ?? prev.key;\n                    if (prev.comment)\n                        prev.comment += '\\n' + prevItemComment;\n                    else\n                        prev.comment = prevItemComment;\n                    props.comment = props.comment.substring(prevItemComment.length + 1);\n                }\n            }\n        }\n        if (!isMap && !sep && !props.found) {\n            // item is a value in a seq\n            //  key & sep are empty, start does not include ? or :\n            const valueNode = value\n                ? composeNode(ctx, value, props, onError)\n                : composeEmptyNode(ctx, props.end, sep, null, props, onError);\n            coll.items.push(valueNode);\n            offset = valueNode.range[2];\n            if (isBlock(value))\n                onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\n        }\n        else {\n            // item is a key+value pair\n            // key value\n            ctx.atKey = true;\n            const keyStart = props.end;\n            const keyNode = key\n                ? composeNode(ctx, key, props, onError)\n                : composeEmptyNode(ctx, keyStart, start, null, props, onError);\n            if (isBlock(key))\n                onError(keyNode.range, 'BLOCK_IN_FLOW', blockMsg);\n            ctx.atKey = false;\n            // value properties\n            const valueProps = resolveProps.resolveProps(sep ?? [], {\n                flow: fcName,\n                indicator: 'map-value-ind',\n                next: value,\n                offset: keyNode.range[2],\n                onError,\n                parentIndent: fc.indent,\n                startOnNewline: false\n            });\n            if (valueProps.found) {\n                if (!isMap && !props.found && ctx.options.strict) {\n                    if (sep)\n                        for (const st of sep) {\n                            if (st === valueProps.found)\n                                break;\n                            if (st.type === 'newline') {\n                                onError(st, 'MULTILINE_IMPLICIT_KEY', 'Implicit keys of flow sequence pairs need to be on a single line');\n                                break;\n                            }\n                        }\n                    if (props.start < valueProps.found.offset - 1024)\n                        onError(valueProps.found, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit flow sequence key');\n                }\n            }\n            else if (value) {\n                if ('source' in value && value.source && value.source[0] === ':')\n                    onError(value, 'MISSING_CHAR', `Missing space after : in ${fcName}`);\n                else\n                    onError(valueProps.start, 'MISSING_CHAR', `Missing , or : between ${fcName} items`);\n            }\n            // value value\n            const valueNode = value\n                ? composeNode(ctx, value, valueProps, onError)\n                : valueProps.found\n                    ? composeEmptyNode(ctx, valueProps.end, sep, null, valueProps, onError)\n                    : null;\n            if (valueNode) {\n                if (isBlock(value))\n                    onError(valueNode.range, 'BLOCK_IN_FLOW', blockMsg);\n            }\n            else if (valueProps.comment) {\n                if (keyNode.comment)\n                    keyNode.comment += '\\n' + valueProps.comment;\n                else\n                    keyNode.comment = valueProps.comment;\n            }\n            const pair = new Pair.Pair(keyNode, valueNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            if (isMap) {\n                const map = coll;\n                if (utilMapIncludes.mapIncludes(ctx, map.items, keyNode))\n                    onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\n                map.items.push(pair);\n            }\n            else {\n                const map = new YAMLMap.YAMLMap(ctx.schema);\n                map.flow = true;\n                map.items.push(pair);\n                const endRange = (valueNode ?? keyNode).range;\n                map.range = [keyNode.range[0], endRange[1], endRange[2]];\n                coll.items.push(map);\n            }\n            offset = valueNode ? valueNode.range[2] : valueProps.end;\n        }\n    }\n    const expectedEnd = isMap ? '}' : ']';\n    const [ce, ...ee] = fc.end;\n    let cePos = offset;\n    if (ce && ce.source === expectedEnd)\n        cePos = ce.offset + ce.source.length;\n    else {\n        const name = fcName[0].toUpperCase() + fcName.substring(1);\n        const msg = atRoot\n            ? `${name} must end with a ${expectedEnd}`\n            : `${name} in block collection must be sufficiently indented and end with a ${expectedEnd}`;\n        onError(offset, atRoot ? 'MISSING_CHAR' : 'BAD_INDENT', msg);\n        if (ce && ce.source.length !== 1)\n            ee.unshift(ce);\n    }\n    if (ee.length > 0) {\n        const end = resolveEnd.resolveEnd(ee, cePos, ctx.options.strict, onError);\n        if (end.comment) {\n            if (coll.comment)\n                coll.comment += '\\n' + end.comment;\n            else\n                coll.comment = end.comment;\n        }\n        coll.range = [fc.offset, cePos, end.offset];\n    }\n    else {\n        coll.range = [fc.offset, cePos, cePos];\n    }\n    return coll;\n}\n\nexports.resolveFlowCollection = resolveFlowCollection;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = LinkedEditingRangeRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst documentSymbol_1 = require(\"./documentSymbol\");\nconst UUID = require(\"./utils/uuid\");\nclass WorkspaceSymbolFeature extends features_1.WorkspaceFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'symbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: documentSymbol_1.SupportedSymbolKinds\n        };\n        symbolCapabilities.tagSupport = {\n            valueSet: documentSymbol_1.SupportedSymbolTags\n        };\n        symbolCapabilities.resolveSupport = { properties: ['location.range'] };\n    }\n    initialize(capabilities) {\n        if (!capabilities.workspaceSymbolProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: capabilities.workspaceSymbolProvider === true ? { workDoneProgress: false } : capabilities.workspaceSymbolProvider\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideWorkspaceSymbols: (query, token) => {\n                const client = this._client;\n                const provideWorkspaceSymbols = (query, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSymbolInformations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideWorkspaceSymbols\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\n                    : provideWorkspaceSymbols(query, token);\n            },\n            resolveWorkspaceSymbol: options.resolveProvider === true\n                ? (item, token) => {\n                    const client = this._client;\n                    const resolveWorkspaceSymbol = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, client.code2ProtocolConverter.asWorkspaceSymbol(item), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSymbolInformation(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, token, error, null);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveWorkspaceSymbol\n                        ? middleware.resolveWorkspaceSymbol(item, token, resolveWorkspaceSymbol)\n                        : resolveWorkspaceSymbol(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerWorkspaceSymbolProvider(provider), provider];\n    }\n}\nexports.WorkspaceSymbolFeature = WorkspaceSymbolFeature;\n","'use strict'\n\nconst numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  if (typeof a === 'number' && typeof b === 'number') {\n    return a === b ? 0 : a < b ? -1 : 1\n  }\n\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers,\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolTypeHierarchyItem extends code.TypeHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolTypeHierarchyItem;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HoverFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass HoverFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const hoverCapability = ((0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'hover'));\n        hoverCapability.dynamicRegistration = true;\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.hoverProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideHover: (document, position, token) => {\n                const client = this._client;\n                const provideHover = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asHover(result);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideHover\n                    ? middleware.provideHover(document, position, token, provideHover)\n                    : provideHover(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.HoverFeature = HoverFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = exports.DiagnosticPullMode = exports.vsdiag = void 0;\nconst minimatch = require(\"minimatch\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar vsdiag;\n(function (vsdiag) {\n    let DocumentDiagnosticReportKind;\n    (function (DocumentDiagnosticReportKind) {\n        DocumentDiagnosticReportKind[\"full\"] = \"full\";\n        DocumentDiagnosticReportKind[\"unChanged\"] = \"unChanged\";\n    })(DocumentDiagnosticReportKind = vsdiag.DocumentDiagnosticReportKind || (vsdiag.DocumentDiagnosticReportKind = {}));\n})(vsdiag || (exports.vsdiag = vsdiag = {}));\nvar DiagnosticPullMode;\n(function (DiagnosticPullMode) {\n    DiagnosticPullMode[\"onType\"] = \"onType\";\n    DiagnosticPullMode[\"onSave\"] = \"onSave\";\n})(DiagnosticPullMode || (exports.DiagnosticPullMode = DiagnosticPullMode = {}));\nvar RequestStateKind;\n(function (RequestStateKind) {\n    RequestStateKind[\"active\"] = \"open\";\n    RequestStateKind[\"reschedule\"] = \"reschedule\";\n    RequestStateKind[\"outDated\"] = \"drop\";\n})(RequestStateKind || (RequestStateKind = {}));\n/**\n * Manages the open tabs. We don't directly use the tab API since for\n * diagnostics we need to de-dupe tabs that show the same resources since\n * we pull on the model not the UI.\n */\nclass Tabs {\n    constructor() {\n        this.open = new Set();\n        this._onOpen = new vscode_1.EventEmitter();\n        this._onClose = new vscode_1.EventEmitter();\n        Tabs.fillTabResources(this.open);\n        const openTabsHandler = (event) => {\n            if (event.closed.length === 0 && event.opened.length === 0) {\n                return;\n            }\n            const oldTabs = this.open;\n            const currentTabs = new Set();\n            Tabs.fillTabResources(currentTabs);\n            const closed = new Set();\n            const opened = new Set(currentTabs);\n            for (const tab of oldTabs.values()) {\n                if (currentTabs.has(tab)) {\n                    opened.delete(tab);\n                }\n                else {\n                    closed.add(tab);\n                }\n            }\n            this.open = currentTabs;\n            if (closed.size > 0) {\n                const toFire = new Set();\n                for (const item of closed) {\n                    toFire.add(vscode_1.Uri.parse(item));\n                }\n                this._onClose.fire(toFire);\n            }\n            if (opened.size > 0) {\n                const toFire = new Set();\n                for (const item of opened) {\n                    toFire.add(vscode_1.Uri.parse(item));\n                }\n                this._onOpen.fire(toFire);\n            }\n        };\n        if (vscode_1.window.tabGroups.onDidChangeTabs !== undefined) {\n            this.disposable = vscode_1.window.tabGroups.onDidChangeTabs(openTabsHandler);\n        }\n        else {\n            this.disposable = { dispose: () => { } };\n        }\n    }\n    get onClose() {\n        return this._onClose.event;\n    }\n    get onOpen() {\n        return this._onOpen.event;\n    }\n    dispose() {\n        this.disposable.dispose();\n    }\n    isActive(document) {\n        return document instanceof vscode_1.Uri\n            ? vscode_1.window.activeTextEditor?.document.uri === document\n            : vscode_1.window.activeTextEditor?.document === document;\n    }\n    isVisible(document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        return this.open.has(uri.toString());\n    }\n    getTabResources() {\n        const result = new Set();\n        Tabs.fillTabResources(new Set(), result);\n        return result;\n    }\n    static fillTabResources(strings, uris) {\n        const seen = strings ?? new Set();\n        for (const group of vscode_1.window.tabGroups.all) {\n            for (const tab of group.tabs) {\n                const input = tab.input;\n                let uri;\n                if (input instanceof vscode_1.TabInputText) {\n                    uri = input.uri;\n                }\n                else if (input instanceof vscode_1.TabInputTextDiff) {\n                    uri = input.modified;\n                }\n                else if (input instanceof vscode_1.TabInputCustom) {\n                    uri = input.uri;\n                }\n                if (uri !== undefined && !seen.has(uri.toString())) {\n                    seen.add(uri.toString());\n                    uris !== undefined && uris.add(uri);\n                }\n            }\n        }\n    }\n}\nvar PullState;\n(function (PullState) {\n    PullState[PullState[\"document\"] = 1] = \"document\";\n    PullState[PullState[\"workspace\"] = 2] = \"workspace\";\n})(PullState || (PullState = {}));\nvar DocumentOrUri;\n(function (DocumentOrUri) {\n    function asKey(document) {\n        return document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n    }\n    DocumentOrUri.asKey = asKey;\n})(DocumentOrUri || (DocumentOrUri = {}));\nclass DocumentPullStateTracker {\n    constructor() {\n        this.documentPullStates = new Map();\n        this.workspacePullStates = new Map();\n    }\n    track(kind, document, arg1) {\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        const [key, uri, version] = document instanceof vscode_1.Uri\n            ? [document.toString(), document, arg1]\n            : [document.uri.toString(), document.uri, document.version];\n        let state = states.get(key);\n        if (state === undefined) {\n            state = { document: uri, pulledVersion: version, resultId: undefined };\n            states.set(key, state);\n        }\n        return state;\n    }\n    update(kind, document, arg1, arg2) {\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        const [key, uri, version, resultId] = document instanceof vscode_1.Uri\n            ? [document.toString(), document, arg1, arg2]\n            : [document.uri.toString(), document.uri, document.version, arg1];\n        let state = states.get(key);\n        if (state === undefined) {\n            state = { document: uri, pulledVersion: version, resultId };\n            states.set(key, state);\n        }\n        else {\n            state.pulledVersion = version;\n            state.resultId = resultId;\n        }\n    }\n    unTrack(kind, document) {\n        const key = DocumentOrUri.asKey(document);\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        states.delete(key);\n    }\n    tracks(kind, document) {\n        const key = DocumentOrUri.asKey(document);\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        return states.has(key);\n    }\n    getResultId(kind, document) {\n        const key = DocumentOrUri.asKey(document);\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        return states.get(key)?.resultId;\n    }\n    getAllResultIds() {\n        const result = [];\n        for (let [uri, value] of this.workspacePullStates) {\n            if (this.documentPullStates.has(uri)) {\n                value = this.documentPullStates.get(uri);\n            }\n            if (value.resultId !== undefined) {\n                result.push({ uri, value: value.resultId });\n            }\n        }\n        return result;\n    }\n}\nclass DiagnosticRequestor {\n    constructor(client, tabs, options) {\n        this.client = client;\n        this.tabs = tabs;\n        this.options = options;\n        this.isDisposed = false;\n        this.onDidChangeDiagnosticsEmitter = new vscode_1.EventEmitter();\n        this.provider = this.createProvider();\n        this.diagnostics = vscode_1.languages.createDiagnosticCollection(options.identifier);\n        this.openRequests = new Map();\n        this.documentStates = new DocumentPullStateTracker();\n        this.workspaceErrorCounter = 0;\n    }\n    knows(kind, document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        return this.documentStates.tracks(kind, document) || this.openRequests.has(uri.toString());\n    }\n    forget(kind, document) {\n        this.documentStates.unTrack(kind, document);\n    }\n    pull(document, cb) {\n        if (this.isDisposed) {\n            return;\n        }\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        this.pullAsync(document).then(() => {\n            if (cb) {\n                cb();\n            }\n        }, (error) => {\n            this.client.error(`Document pull failed for text document ${uri.toString()}`, error, false);\n        });\n    }\n    async pullAsync(document, version) {\n        if (this.isDisposed) {\n            return;\n        }\n        const isUri = document instanceof vscode_1.Uri;\n        const uri = isUri ? document : document.uri;\n        const key = uri.toString();\n        version = isUri ? version : document.version;\n        const currentRequestState = this.openRequests.get(key);\n        const documentState = isUri\n            ? this.documentStates.track(PullState.document, document, version)\n            : this.documentStates.track(PullState.document, document);\n        if (currentRequestState === undefined) {\n            const tokenSource = new vscode_1.CancellationTokenSource();\n            this.openRequests.set(key, { state: RequestStateKind.active, document: document, version: version, tokenSource });\n            let report;\n            let afterState;\n            try {\n                report = await this.provider.provideDiagnostics(document, documentState.resultId, tokenSource.token) ?? { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n            }\n            catch (error) {\n                if (error instanceof features_1.LSPCancellationError && vscode_languageserver_protocol_1.DiagnosticServerCancellationData.is(error.data) && error.data.retriggerRequest === false) {\n                    afterState = { state: RequestStateKind.outDated, document };\n                }\n                if (afterState === undefined && error instanceof vscode_1.CancellationError) {\n                    afterState = { state: RequestStateKind.reschedule, document };\n                }\n                else {\n                    throw error;\n                }\n            }\n            afterState = afterState ?? this.openRequests.get(key);\n            if (afterState === undefined) {\n                // This shouldn't happen. Log it\n                this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${key}`);\n                this.diagnostics.delete(uri);\n                return;\n            }\n            this.openRequests.delete(key);\n            if (!this.tabs.isVisible(document)) {\n                this.documentStates.unTrack(PullState.document, document);\n                return;\n            }\n            if (afterState.state === RequestStateKind.outDated) {\n                return;\n            }\n            // report is only undefined if the request has thrown.\n            if (report !== undefined) {\n                if (report.kind === vsdiag.DocumentDiagnosticReportKind.full) {\n                    this.diagnostics.set(uri, report.items);\n                }\n                documentState.pulledVersion = version;\n                documentState.resultId = report.resultId;\n            }\n            if (afterState.state === RequestStateKind.reschedule) {\n                this.pull(document);\n            }\n        }\n        else {\n            if (currentRequestState.state === RequestStateKind.active) {\n                // Cancel the current request and reschedule a new one when the old one returned.\n                currentRequestState.tokenSource.cancel();\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: currentRequestState.document });\n            }\n            else if (currentRequestState.state === RequestStateKind.outDated) {\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: currentRequestState.document });\n            }\n        }\n    }\n    forgetDocument(document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        const key = uri.toString();\n        const request = this.openRequests.get(key);\n        if (this.options.workspaceDiagnostics) {\n            // If we run workspace diagnostic pull a last time for the diagnostics\n            // and the rely on getting them from the workspace result.\n            if (request !== undefined) {\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: document });\n            }\n            else {\n                this.pull(document, () => {\n                    this.forget(PullState.document, document);\n                });\n            }\n        }\n        else {\n            // We have normal pull or inter file dependencies. In this case we\n            // clear the diagnostics (to have the same start as after startup).\n            // We also cancel outstanding requests.\n            if (request !== undefined) {\n                if (request.state === RequestStateKind.active) {\n                    request.tokenSource.cancel();\n                }\n                this.openRequests.set(key, { state: RequestStateKind.outDated, document: document });\n            }\n            this.diagnostics.delete(uri);\n            this.forget(PullState.document, document);\n        }\n    }\n    pullWorkspace() {\n        if (this.isDisposed) {\n            return;\n        }\n        this.pullWorkspaceAsync().then(() => {\n            this.workspaceTimeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                this.pullWorkspace();\n            }, 2000);\n        }, (error) => {\n            if (!(error instanceof features_1.LSPCancellationError) && !vscode_languageserver_protocol_1.DiagnosticServerCancellationData.is(error.data)) {\n                this.client.error(`Workspace diagnostic pull failed.`, error, false);\n                this.workspaceErrorCounter++;\n            }\n            if (this.workspaceErrorCounter <= 5) {\n                this.workspaceTimeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                    this.pullWorkspace();\n                }, 2000);\n            }\n        });\n    }\n    async pullWorkspaceAsync() {\n        if (!this.provider.provideWorkspaceDiagnostics || this.isDisposed) {\n            return;\n        }\n        if (this.workspaceCancellation !== undefined) {\n            this.workspaceCancellation.cancel();\n            this.workspaceCancellation = undefined;\n        }\n        this.workspaceCancellation = new vscode_1.CancellationTokenSource();\n        const previousResultIds = this.documentStates.getAllResultIds().map((item) => {\n            return {\n                uri: this.client.protocol2CodeConverter.asUri(item.uri),\n                value: item.value\n            };\n        });\n        await this.provider.provideWorkspaceDiagnostics(previousResultIds, this.workspaceCancellation.token, (chunk) => {\n            if (!chunk || this.isDisposed) {\n                return;\n            }\n            for (const item of chunk.items) {\n                if (item.kind === vsdiag.DocumentDiagnosticReportKind.full) {\n                    // Favour document pull result over workspace results. So skip if it is tracked\n                    // as a document result.\n                    if (!this.documentStates.tracks(PullState.document, item.uri)) {\n                        this.diagnostics.set(item.uri, item.items);\n                    }\n                }\n                this.documentStates.update(PullState.workspace, item.uri, item.version ?? undefined, item.resultId);\n            }\n        });\n    }\n    createProvider() {\n        const result = {\n            onDidChangeDiagnostics: this.onDidChangeDiagnosticsEmitter.event,\n            provideDiagnostics: (document, previousResultId, token) => {\n                const provideDiagnostics = (document, previousResultId, token) => {\n                    const params = {\n                        identifier: this.options.identifier,\n                        textDocument: { uri: this.client.code2ProtocolConverter.asUri(document instanceof vscode_1.Uri ? document : document.uri) },\n                        previousResultId: previousResultId\n                    };\n                    if (this.isDisposed === true || !this.client.isRunning()) {\n                        return { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n                    }\n                    return this.client.sendRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, params, token).then(async (result) => {\n                        if (result === undefined || result === null || this.isDisposed || token.isCancellationRequested) {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n                        }\n                        if (result.kind === vscode_languageserver_protocol_1.DocumentDiagnosticReportKind.Full) {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.full, resultId: result.resultId, items: await this.client.protocol2CodeConverter.asDiagnostics(result.items, token) };\n                        }\n                        else {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.unChanged, resultId: result.resultId };\n                        }\n                    }, (error) => {\n                        return this.client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, token, error, { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] });\n                    });\n                };\n                const middleware = this.client.middleware;\n                return middleware.provideDiagnostics\n                    ? middleware.provideDiagnostics(document, previousResultId, token, provideDiagnostics)\n                    : provideDiagnostics(document, previousResultId, token);\n            }\n        };\n        if (this.options.workspaceDiagnostics) {\n            result.provideWorkspaceDiagnostics = (resultIds, token, resultReporter) => {\n                const convertReport = async (report) => {\n                    if (report.kind === vscode_languageserver_protocol_1.DocumentDiagnosticReportKind.Full) {\n                        return {\n                            kind: vsdiag.DocumentDiagnosticReportKind.full,\n                            uri: this.client.protocol2CodeConverter.asUri(report.uri),\n                            resultId: report.resultId,\n                            version: report.version,\n                            items: await this.client.protocol2CodeConverter.asDiagnostics(report.items, token)\n                        };\n                    }\n                    else {\n                        return {\n                            kind: vsdiag.DocumentDiagnosticReportKind.unChanged,\n                            uri: this.client.protocol2CodeConverter.asUri(report.uri),\n                            resultId: report.resultId,\n                            version: report.version\n                        };\n                    }\n                };\n                const convertPreviousResultIds = (resultIds) => {\n                    const converted = [];\n                    for (const item of resultIds) {\n                        converted.push({ uri: this.client.code2ProtocolConverter.asUri(item.uri), value: item.value });\n                    }\n                    return converted;\n                };\n                const provideDiagnostics = (resultIds, token) => {\n                    const partialResultToken = (0, uuid_1.generateUuid)();\n                    const disposable = this.client.onProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, partialResultToken, async (partialResult) => {\n                        if (partialResult === undefined || partialResult === null) {\n                            resultReporter(null);\n                            return;\n                        }\n                        const converted = {\n                            items: []\n                        };\n                        for (const item of partialResult.items) {\n                            try {\n                                converted.items.push(await convertReport(item));\n                            }\n                            catch (error) {\n                                this.client.error(`Converting workspace diagnostics failed.`, error);\n                            }\n                        }\n                        resultReporter(converted);\n                    });\n                    const params = {\n                        identifier: this.options.identifier,\n                        previousResultIds: convertPreviousResultIds(resultIds),\n                        partialResultToken: partialResultToken\n                    };\n                    if (this.isDisposed === true || !this.client.isRunning()) {\n                        return { items: [] };\n                    }\n                    return this.client.sendRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, params, token).then(async (result) => {\n                        if (token.isCancellationRequested) {\n                            return { items: [] };\n                        }\n                        const converted = {\n                            items: []\n                        };\n                        for (const item of result.items) {\n                            converted.items.push(await convertReport(item));\n                        }\n                        disposable.dispose();\n                        resultReporter(converted);\n                        return { items: [] };\n                    }, (error) => {\n                        disposable.dispose();\n                        return this.client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, token, error, { items: [] });\n                    });\n                };\n                const middleware = this.client.middleware;\n                return middleware.provideWorkspaceDiagnostics\n                    ? middleware.provideWorkspaceDiagnostics(resultIds, token, resultReporter, provideDiagnostics)\n                    : provideDiagnostics(resultIds, token, resultReporter);\n            };\n        }\n        return result;\n    }\n    dispose() {\n        this.isDisposed = true;\n        // Cancel and clear workspace pull if present.\n        this.workspaceCancellation?.cancel();\n        this.workspaceTimeout?.dispose();\n        // Cancel all request and mark open requests as outdated.\n        for (const [key, request] of this.openRequests) {\n            if (request.state === RequestStateKind.active) {\n                request.tokenSource.cancel();\n            }\n            this.openRequests.set(key, { state: RequestStateKind.outDated, document: request.document });\n        }\n        // cleanup old diagnostics\n        this.diagnostics.dispose();\n    }\n}\nclass BackgroundScheduler {\n    constructor(diagnosticRequestor) {\n        this.diagnosticRequestor = diagnosticRequestor;\n        this.documents = new vscode_languageserver_protocol_1.LinkedMap();\n        this.isDisposed = false;\n    }\n    add(document) {\n        if (this.isDisposed === true) {\n            return;\n        }\n        const key = DocumentOrUri.asKey(document);\n        if (this.documents.has(key)) {\n            return;\n        }\n        this.documents.set(key, document, vscode_languageserver_protocol_1.Touch.Last);\n        this.trigger();\n    }\n    remove(document) {\n        const key = DocumentOrUri.asKey(document);\n        this.documents.delete(key);\n        // No more documents. Stop background activity.\n        if (this.documents.size === 0) {\n            this.stop();\n        }\n        else if (key === this.endDocumentKey()) {\n            // Make sure we have a correct last document. It could have\n            this.endDocument = this.documents.last;\n        }\n    }\n    trigger() {\n        if (this.isDisposed === true) {\n            return;\n        }\n        // We have a round running. So simply make sure we run up to the\n        // last document\n        if (this.intervalHandle !== undefined) {\n            this.endDocument = this.documents.last;\n            return;\n        }\n        this.endDocument = this.documents.last;\n        this.intervalHandle = (0, vscode_languageserver_protocol_1.RAL)().timer.setInterval(() => {\n            const document = this.documents.first;\n            if (document !== undefined) {\n                const key = DocumentOrUri.asKey(document);\n                this.diagnosticRequestor.pull(document);\n                this.documents.set(key, document, vscode_languageserver_protocol_1.Touch.Last);\n                if (key === this.endDocumentKey()) {\n                    this.stop();\n                }\n            }\n        }, 200);\n    }\n    dispose() {\n        this.isDisposed = true;\n        this.stop();\n        this.documents.clear();\n    }\n    stop() {\n        this.intervalHandle?.dispose();\n        this.intervalHandle = undefined;\n        this.endDocument = undefined;\n    }\n    endDocumentKey() {\n        return this.endDocument !== undefined ? DocumentOrUri.asKey(this.endDocument) : undefined;\n    }\n}\nclass DiagnosticFeatureProviderImpl {\n    constructor(client, tabs, options) {\n        const diagnosticPullOptions = client.clientOptions.diagnosticPullOptions ?? { onChange: true, onSave: false };\n        const documentSelector = client.protocol2CodeConverter.asDocumentSelector(options.documentSelector);\n        const disposables = [];\n        const matchResource = (resource) => {\n            const selector = options.documentSelector;\n            if (diagnosticPullOptions.match !== undefined) {\n                return diagnosticPullOptions.match(selector, resource);\n            }\n            for (const filter of selector) {\n                if (!vscode_languageserver_protocol_1.TextDocumentFilter.is(filter)) {\n                    continue;\n                }\n                // The filter is a language id. We can't determine if it matches\n                // so we return false.\n                if (typeof filter === 'string') {\n                    return false;\n                }\n                if (filter.language !== undefined && filter.language !== '*') {\n                    return false;\n                }\n                if (filter.scheme !== undefined && filter.scheme !== '*' && filter.scheme !== resource.scheme) {\n                    return false;\n                }\n                if (filter.pattern !== undefined) {\n                    const matcher = new minimatch.Minimatch(filter.pattern, { noext: true });\n                    if (!matcher.makeRe()) {\n                        return false;\n                    }\n                    if (!matcher.match(resource.fsPath)) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        };\n        const matches = (document) => {\n            return document instanceof vscode_1.Uri\n                ? matchResource(document)\n                : vscode_1.languages.match(documentSelector, document) > 0 && tabs.isVisible(document);\n        };\n        const isActiveDocument = (document) => {\n            return document instanceof vscode_1.Uri\n                ? this.activeTextDocument?.uri.toString() === document.toString()\n                : this.activeTextDocument === document;\n        };\n        this.diagnosticRequestor = new DiagnosticRequestor(client, tabs, options);\n        this.backgroundScheduler = new BackgroundScheduler(this.diagnosticRequestor);\n        const addToBackgroundIfNeeded = (document) => {\n            if (!matches(document) || !options.interFileDependencies || isActiveDocument(document)) {\n                return;\n            }\n            this.backgroundScheduler.add(document);\n        };\n        this.activeTextDocument = vscode_1.window.activeTextEditor?.document;\n        vscode_1.window.onDidChangeActiveTextEditor((editor) => {\n            const oldActive = this.activeTextDocument;\n            this.activeTextDocument = editor?.document;\n            if (oldActive !== undefined) {\n                addToBackgroundIfNeeded(oldActive);\n            }\n            if (this.activeTextDocument !== undefined) {\n                this.backgroundScheduler.remove(this.activeTextDocument);\n            }\n        });\n        // For pull model diagnostics we pull for documents visible in the UI.\n        // From an eventing point of view we still rely on open document events\n        // and filter the documents that are not visible in the UI instead of\n        // listening to Tab events. Major reason is event timing since we need\n        // to ensure that the pull is send after the document open has reached\n        // the server.\n        // We always pull on open.\n        const openFeature = client.getFeature(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.method);\n        disposables.push(openFeature.onNotificationSent((event) => {\n            const textDocument = event.textDocument;\n            // We already know about this document. This can happen via a tab open.\n            if (this.diagnosticRequestor.knows(PullState.document, textDocument)) {\n                return;\n            }\n            if (matches(textDocument)) {\n                this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n            }\n        }));\n        disposables.push(tabs.onOpen((opened) => {\n            for (const resource of opened) {\n                // We already know about this document. This can happen via a document open.\n                if (this.diagnosticRequestor.knows(PullState.document, resource)) {\n                    continue;\n                }\n                const uriStr = resource.toString();\n                let textDocument;\n                for (const item of vscode_1.workspace.textDocuments) {\n                    if (uriStr === item.uri.toString()) {\n                        textDocument = item;\n                        break;\n                    }\n                }\n                // In VS Code the event timing is as follows:\n                // 1. tab events are fired.\n                // 2. open document events are fired and internal data structures like\n                //    workspace.textDocuments and Window.activeTextEditor are updated.\n                //\n                // This means: for newly created tab/editors we don't find the underlying\n                // document yet. So we do nothing an rely on the underlying open document event\n                // to be fired.\n                if (textDocument !== undefined && matches(textDocument)) {\n                    this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n                }\n            }\n        }));\n        // Pull all diagnostics for documents that are already open\n        const pulledTextDocuments = new Set();\n        for (const textDocument of vscode_1.workspace.textDocuments) {\n            if (matches(textDocument)) {\n                this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n                pulledTextDocuments.add(textDocument.uri.toString());\n            }\n        }\n        // Pull all tabs if not already pulled as text document\n        if (diagnosticPullOptions.onTabs === true) {\n            for (const resource of tabs.getTabResources()) {\n                if (!pulledTextDocuments.has(resource.toString()) && matches(resource)) {\n                    this.diagnosticRequestor.pull(resource, () => { addToBackgroundIfNeeded(resource); });\n                }\n            }\n        }\n        // We don't need to pull on tab open since we will receive a document open as well later on\n        // and that event allows us to use a document for a match check which will have a set\n        // language id.\n        if (diagnosticPullOptions.onChange === true) {\n            const changeFeature = client.getFeature(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.method);\n            disposables.push(changeFeature.onNotificationSent(async (event) => {\n                const textDocument = event.textDocument;\n                if ((diagnosticPullOptions.filter === undefined || !diagnosticPullOptions.filter(textDocument, DiagnosticPullMode.onType)) && this.diagnosticRequestor.knows(PullState.document, textDocument)) {\n                    this.diagnosticRequestor.pull(textDocument, () => { this.backgroundScheduler.trigger(); });\n                }\n            }));\n        }\n        if (diagnosticPullOptions.onSave === true) {\n            const saveFeature = client.getFeature(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.method);\n            disposables.push(saveFeature.onNotificationSent((event) => {\n                const textDocument = event.textDocument;\n                if ((diagnosticPullOptions.filter === undefined || !diagnosticPullOptions.filter(textDocument, DiagnosticPullMode.onSave)) && this.diagnosticRequestor.knows(PullState.document, textDocument)) {\n                    this.diagnosticRequestor.pull(event.textDocument, () => { this.backgroundScheduler.trigger(); });\n                }\n            }));\n        }\n        // When the document closes clear things up\n        const closeFeature = client.getFeature(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.method);\n        disposables.push(closeFeature.onNotificationSent((event) => {\n            this.cleanUpDocument(event.textDocument);\n        }));\n        // Same when a tabs closes.\n        tabs.onClose((closed) => {\n            for (const document of closed) {\n                this.cleanUpDocument(document);\n            }\n        });\n        // We received a did change from the server.\n        this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(() => {\n            for (const textDocument of vscode_1.workspace.textDocuments) {\n                if (matches(textDocument)) {\n                    this.diagnosticRequestor.pull(textDocument);\n                }\n            }\n        });\n        // da348dc5-c30a-4515-9d98-31ff3be38d14 is the test UUID to test the middle ware. So don't auto trigger pulls.\n        if (options.workspaceDiagnostics === true && options.identifier !== 'da348dc5-c30a-4515-9d98-31ff3be38d14') {\n            this.diagnosticRequestor.pullWorkspace();\n        }\n        this.disposable = vscode_1.Disposable.from(...disposables, this.backgroundScheduler, this.diagnosticRequestor);\n    }\n    get onDidChangeDiagnosticsEmitter() {\n        return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter;\n    }\n    get diagnostics() {\n        return this.diagnosticRequestor.provider;\n    }\n    cleanUpDocument(document) {\n        if (this.diagnosticRequestor.knows(PullState.document, document)) {\n            this.diagnosticRequestor.forgetDocument(document);\n            this.backgroundScheduler.remove(document);\n        }\n    }\n}\nclass DiagnosticFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = ensure(ensure(capabilities, 'textDocument'), 'diagnostic');\n        capability.dynamicRegistration = true;\n        // We first need to decide how a UI will look with related documents.\n        // An easy implementation would be to only show related diagnostics for\n        // the active editor.\n        capability.relatedDocumentSupport = false;\n        ensure(ensure(capabilities, 'workspace'), 'diagnostics').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeDiagnosticsEmitter.fire();\n            }\n        });\n        let [id, options] = this.getRegistration(documentSelector, capabilities.diagnosticProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    clear() {\n        if (this.tabs !== undefined) {\n            this.tabs.dispose();\n            this.tabs = undefined;\n        }\n        super.clear();\n    }\n    registerLanguageProvider(options) {\n        if (this.tabs === undefined) {\n            this.tabs = new Tabs();\n        }\n        const provider = new DiagnosticFeatureProviderImpl(this._client, this.tabs, options);\n        return [provider.disposable, provider];\n    }\n}\nexports.DiagnosticFeature = DiagnosticFeature;\n","'use strict';\n\nvar stringifyNumber = require('../../stringify/stringifyNumber.js');\n\nconst intIdentify = (value) => typeof value === 'bigint' || Number.isInteger(value);\nconst intResolve = (str, offset, radix, { intAsBigInt }) => (intAsBigInt ? BigInt(str) : parseInt(str.substring(offset), radix));\nfunction intStringify(node, radix, prefix) {\n    const { value } = node;\n    if (intIdentify(value) && value >= 0)\n        return prefix + value.toString(radix);\n    return stringifyNumber.stringifyNumber(node);\n}\nconst intOct = {\n    identify: value => intIdentify(value) && value >= 0,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'OCT',\n    test: /^0o[0-7]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 8, opt),\n    stringify: node => intStringify(node, 8, '0o')\n};\nconst int = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    test: /^[-+]?[0-9]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),\n    stringify: stringifyNumber.stringifyNumber\n};\nconst intHex = {\n    identify: value => intIdentify(value) && value >= 0,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'HEX',\n    test: /^0x[0-9a-fA-F]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),\n    stringify: node => intStringify(node, 16, '0x')\n};\n\nexports.int = int;\nexports.intHex = intHex;\nexports.intOct = intOct;\n","'use strict';\n\nvar anchors = require('../doc/anchors.js');\nvar visit = require('../visit.js');\nvar identity = require('./identity.js');\nvar Node = require('./Node.js');\nvar toJS = require('./toJS.js');\n\nclass Alias extends Node.NodeBase {\n    constructor(source) {\n        super(identity.ALIAS);\n        this.source = source;\n        Object.defineProperty(this, 'tag', {\n            set() {\n                throw new Error('Alias nodes cannot have tags');\n            }\n        });\n    }\n    /**\n     * Resolve the value of this alias within `doc`, finding the last\n     * instance of the `source` anchor before this node.\n     */\n    resolve(doc, ctx) {\n        let nodes;\n        if (ctx?.aliasResolveCache) {\n            nodes = ctx.aliasResolveCache;\n        }\n        else {\n            nodes = [];\n            visit.visit(doc, {\n                Node: (_key, node) => {\n                    if (identity.isAlias(node) || identity.hasAnchor(node))\n                        nodes.push(node);\n                }\n            });\n            if (ctx)\n                ctx.aliasResolveCache = nodes;\n        }\n        let found = undefined;\n        for (const node of nodes) {\n            if (node === this)\n                break;\n            if (node.anchor === this.source)\n                found = node;\n        }\n        return found;\n    }\n    toJSON(_arg, ctx) {\n        if (!ctx)\n            return { source: this.source };\n        const { anchors, doc, maxAliasCount } = ctx;\n        const source = this.resolve(doc, ctx);\n        if (!source) {\n            const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\n            throw new ReferenceError(msg);\n        }\n        let data = anchors.get(source);\n        if (!data) {\n            // Resolve anchors for Node.prototype.toJS()\n            toJS.toJS(source, null, ctx);\n            data = anchors.get(source);\n        }\n        /* istanbul ignore if */\n        if (!data || data.res === undefined) {\n            const msg = 'This should not happen: Alias anchor was not resolved?';\n            throw new ReferenceError(msg);\n        }\n        if (maxAliasCount >= 0) {\n            data.count += 1;\n            if (data.aliasCount === 0)\n                data.aliasCount = getAliasCount(doc, source, anchors);\n            if (data.count * data.aliasCount > maxAliasCount) {\n                const msg = 'Excessive alias count indicates a resource exhaustion attack';\n                throw new ReferenceError(msg);\n            }\n        }\n        return data.res;\n    }\n    toString(ctx, _onComment, _onChompKeep) {\n        const src = `*${this.source}`;\n        if (ctx) {\n            anchors.anchorIsValid(this.source);\n            if (ctx.options.verifyAliasOrder && !ctx.anchors.has(this.source)) {\n                const msg = `Unresolved alias (the anchor must be set before the alias): ${this.source}`;\n                throw new Error(msg);\n            }\n            if (ctx.implicitKey)\n                return `${src} `;\n        }\n        return src;\n    }\n}\nfunction getAliasCount(doc, node, anchors) {\n    if (identity.isAlias(node)) {\n        const source = node.resolve(doc);\n        const anchor = anchors && source && anchors.get(source);\n        return anchor ? anchor.count * anchor.aliasCount : 0;\n    }\n    else if (identity.isCollection(node)) {\n        let count = 0;\n        for (const item of node.items) {\n            const c = getAliasCount(doc, item, anchors);\n            if (c > count)\n                count = c;\n        }\n        return count;\n    }\n    else if (identity.isPair(node)) {\n        const kc = getAliasCount(doc, node.key, anchors);\n        const vc = getAliasCount(doc, node.value, anchors);\n        return Math.max(kc, vc);\n    }\n    return 1;\n}\n\nexports.Alias = Alias;\n","'use strict';\n\nvar composer = require('./compose/composer.js');\nvar Document = require('./doc/Document.js');\nvar errors = require('./errors.js');\nvar log = require('./log.js');\nvar identity = require('./nodes/identity.js');\nvar lineCounter = require('./parse/line-counter.js');\nvar parser = require('./parse/parser.js');\n\nfunction parseOptions(options) {\n    const prettyErrors = options.prettyErrors !== false;\n    const lineCounter$1 = options.lineCounter || (prettyErrors && new lineCounter.LineCounter()) || null;\n    return { lineCounter: lineCounter$1, prettyErrors };\n}\n/**\n * Parse the input as a stream of YAML documents.\n *\n * Documents should be separated from each other by `...` or `---` marker lines.\n *\n * @returns If an empty `docs` array is returned, it will be of type\n *   EmptyStream and contain additional stream information. In\n *   TypeScript, you should use `'empty' in docs` as a type guard for it.\n */\nfunction parseAllDocuments(source, options = {}) {\n    const { lineCounter, prettyErrors } = parseOptions(options);\n    const parser$1 = new parser.Parser(lineCounter?.addNewLine);\n    const composer$1 = new composer.Composer(options);\n    const docs = Array.from(composer$1.compose(parser$1.parse(source)));\n    if (prettyErrors && lineCounter)\n        for (const doc of docs) {\n            doc.errors.forEach(errors.prettifyError(source, lineCounter));\n            doc.warnings.forEach(errors.prettifyError(source, lineCounter));\n        }\n    if (docs.length > 0)\n        return docs;\n    return Object.assign([], { empty: true }, composer$1.streamInfo());\n}\n/** Parse an input string into a single YAML.Document */\nfunction parseDocument(source, options = {}) {\n    const { lineCounter, prettyErrors } = parseOptions(options);\n    const parser$1 = new parser.Parser(lineCounter?.addNewLine);\n    const composer$1 = new composer.Composer(options);\n    // `doc` is always set by compose.end(true) at the very latest\n    let doc = null;\n    for (const _doc of composer$1.compose(parser$1.parse(source), true, source.length)) {\n        if (!doc)\n            doc = _doc;\n        else if (doc.options.logLevel !== 'silent') {\n            doc.errors.push(new errors.YAMLParseError(_doc.range.slice(0, 2), 'MULTIPLE_DOCS', 'Source contains multiple documents; please use YAML.parseAllDocuments()'));\n            break;\n        }\n    }\n    if (prettyErrors && lineCounter) {\n        doc.errors.forEach(errors.prettifyError(source, lineCounter));\n        doc.warnings.forEach(errors.prettifyError(source, lineCounter));\n    }\n    return doc;\n}\nfunction parse(src, reviver, options) {\n    let _reviver = undefined;\n    if (typeof reviver === 'function') {\n        _reviver = reviver;\n    }\n    else if (options === undefined && reviver && typeof reviver === 'object') {\n        options = reviver;\n    }\n    const doc = parseDocument(src, options);\n    if (!doc)\n        return null;\n    doc.warnings.forEach(warning => log.warn(doc.options.logLevel, warning));\n    if (doc.errors.length > 0) {\n        if (doc.options.logLevel !== 'silent')\n            throw doc.errors[0];\n        else\n            doc.errors = [];\n    }\n    return doc.toJS(Object.assign({ reviver: _reviver }, options));\n}\nfunction stringify(value, replacer, options) {\n    let _replacer = null;\n    if (typeof replacer === 'function' || Array.isArray(replacer)) {\n        _replacer = replacer;\n    }\n    else if (options === undefined && replacer) {\n        options = replacer;\n    }\n    if (typeof options === 'string')\n        options = options.length;\n    if (typeof options === 'number') {\n        const indent = Math.round(options);\n        options = indent < 1 ? undefined : indent > 8 ? { indent: 8 } : { indent };\n    }\n    if (value === undefined) {\n        const { keepUndefined } = options ?? replacer ?? {};\n        if (!keepUndefined)\n            return undefined;\n    }\n    if (identity.isDocument(value) && !_replacer)\n        return value.toString(options);\n    return new Document.Document(value, _replacer, options).toString(options);\n}\n\nexports.parse = parse;\nexports.parseAllDocuments = parseAllDocuments;\nexports.parseDocument = parseDocument;\nexports.stringify = stringify;\n","var balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m) return [str];\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  if (/\\$$/.test(m.pre)) {    \n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre+ '{' + m.body + '}' + post[k];\n      expansions.push(expansion);\n    }\n  } else {\n    var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n    var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n    var isSequence = isNumericSequence || isAlphaSequence;\n    var isOptions = m.body.indexOf(',') >= 0;\n    if (!isSequence && !isOptions) {\n      // {a},b}\n      if (m.post.match(/,(?!,).*\\}/)) {\n        str = m.pre + '{' + m.body + escClose + m.post;\n        return expand(str);\n      }\n      return [str];\n    }\n\n    var n;\n    if (isSequence) {\n      n = m.body.split(/\\.\\./);\n    } else {\n      n = parseCommaParts(m.body);\n      if (n.length === 1) {\n        // x{{a,b}}y ==> x{a}y x{b}y\n        n = expand(n[0], false).map(embrace);\n        if (n.length === 1) {\n          return post.map(function(p) {\n            return m.pre + n[0] + p;\n          });\n        }\n      }\n    }\n\n    // at this point, n is the parts, and we know it's not a comma set\n    // with a single entry.\n    var N;\n\n    if (isSequence) {\n      var x = numeric(n[0]);\n      var y = numeric(n[1]);\n      var width = Math.max(n[0].length, n[1].length)\n      var incr = n.length == 3\n        ? Math.abs(numeric(n[2]))\n        : 1;\n      var test = lte;\n      var reverse = y < x;\n      if (reverse) {\n        incr *= -1;\n        test = gte;\n      }\n      var pad = n.some(isPadded);\n\n      N = [];\n\n      for (var i = x; test(i, y); i += incr) {\n        var c;\n        if (isAlphaSequence) {\n          c = String.fromCharCode(i);\n          if (c === '\\\\')\n            c = '';\n        } else {\n          c = String(i);\n          if (pad) {\n            var need = width - c.length;\n            if (need > 0) {\n              var z = new Array(need + 1).join('0');\n              if (i < 0)\n                c = '-' + z + c.slice(1);\n              else\n                c = z + c;\n            }\n          }\n        }\n        N.push(c);\n      }\n    } else {\n      N = [];\n\n      for (var j = 0; j < n.length; j++) {\n        N.push.apply(N, expand(n[j], false));\n      }\n    }\n\n    for (var j = 0; j < N.length; j++) {\n      for (var k = 0; k < post.length; k++) {\n        var expansion = pre + N[j] + post[k];\n        if (!isTop || isSequence || expansion)\n          expansions.push(expansion);\n      }\n    }\n  }\n\n  return expansions;\n}\n\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.forEach = exports.mapAsync = exports.map = exports.clearTestMode = exports.setTestMode = exports.Semaphore = exports.Delayer = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nclass Delayer {\n    constructor(defaultDelay) {\n        this.defaultDelay = defaultDelay;\n        this.timeout = undefined;\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n    }\n    trigger(task, delay = this.defaultDelay) {\n        this.task = task;\n        if (delay >= 0) {\n            this.cancelTimeout();\n        }\n        if (!this.completionPromise) {\n            this.completionPromise = new Promise((resolve) => {\n                this.onSuccess = resolve;\n            }).then(() => {\n                this.completionPromise = undefined;\n                this.onSuccess = undefined;\n                var result = this.task();\n                this.task = undefined;\n                return result;\n            });\n        }\n        if (delay >= 0 || this.timeout === void 0) {\n            this.timeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                this.timeout = undefined;\n                this.onSuccess(undefined);\n            }, delay >= 0 ? delay : this.defaultDelay);\n        }\n        return this.completionPromise;\n    }\n    forceDelivery() {\n        if (!this.completionPromise) {\n            return undefined;\n        }\n        this.cancelTimeout();\n        let result = this.task();\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n        return result;\n    }\n    isTriggered() {\n        return this.timeout !== undefined;\n    }\n    cancel() {\n        this.cancelTimeout();\n        this.completionPromise = undefined;\n    }\n    cancelTimeout() {\n        if (this.timeout !== undefined) {\n            this.timeout.dispose();\n            this.timeout = undefined;\n        }\n    }\n}\nexports.Delayer = Delayer;\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\nlet $test = false;\nfunction setTestMode() {\n    $test = true;\n}\nexports.setTestMode = setTestMode;\nfunction clearTestMode() {\n    $test = false;\n}\nexports.clearTestMode = clearTestMode;\nconst defaultYieldTimeout = 15 /*ms*/;\nclass Timer {\n    constructor(yieldAfter = defaultYieldTimeout) {\n        this.yieldAfter = $test === true ? Math.max(yieldAfter, 2) : Math.max(yieldAfter, defaultYieldTimeout);\n        this.startTime = Date.now();\n        this.counter = 0;\n        this.total = 0;\n        // start with a counter interval of 1.\n        this.counterInterval = 1;\n    }\n    start() {\n        this.counter = 0;\n        this.total = 0;\n        this.counterInterval = 1;\n        this.startTime = Date.now();\n    }\n    shouldYield() {\n        if (++this.counter >= this.counterInterval) {\n            const timeTaken = Date.now() - this.startTime;\n            const timeLeft = Math.max(0, this.yieldAfter - timeTaken);\n            this.total += this.counter;\n            this.counter = 0;\n            if (timeTaken >= this.yieldAfter || timeLeft <= 1) {\n                // Yield also if time left <= 1 since we compute the counter\n                // for max < 2 ms.\n                // Start with interval 1 again. We could do some calculation\n                // with using 80% of the last counter however other things (GC)\n                // affect the timing heavily since we have small timings (1 - 15ms).\n                this.counterInterval = 1;\n                this.total = 0;\n                return true;\n            }\n            else {\n                // Only increase the counter until we have spent <= 2 ms. Increasing\n                // the counter further is very fragile since timing is influenced\n                // by other things and can increase the counter too much. This will result\n                // that we yield in average after [14 - 16]ms.\n                switch (timeTaken) {\n                    case 0:\n                    case 1:\n                        this.counterInterval = this.total * 2;\n                        break;\n                }\n            }\n        }\n        return false;\n    }\n}\nasync function map(items, func, token, options) {\n    if (items.length === 0) {\n        return [];\n    }\n    const result = new Array(items.length);\n    const timer = new Timer(options?.yieldAfter);\n    function convertBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            result[i] = func(items[i]);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    // Convert the first batch sync on the same frame.\n    let index = convertBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(convertBatch(index));\n            });\n        });\n    }\n    return result;\n}\nexports.map = map;\nasync function mapAsync(items, func, token, options) {\n    if (items.length === 0) {\n        return [];\n    }\n    const result = new Array(items.length);\n    const timer = new Timer(options?.yieldAfter);\n    async function convertBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            result[i] = await func(items[i], token);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    let index = await convertBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(convertBatch(index));\n            });\n        });\n    }\n    return result;\n}\nexports.mapAsync = mapAsync;\nasync function forEach(items, func, token, options) {\n    if (items.length === 0) {\n        return;\n    }\n    const timer = new Timer(options?.yieldAfter);\n    function runBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            func(items[i]);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    // Convert the first batch sync on the same frame.\n    let index = runBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(runBatch(index));\n            });\n        });\n    }\n}\nexports.forEach = forEach;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = DidChangeWorkspaceFoldersNotification = {}));\n","'use strict';\n\nvar Scalar = require('../../nodes/Scalar.js');\n\nconst boolTag = {\n    identify: value => typeof value === 'boolean',\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,\n    resolve: str => new Scalar.Scalar(str[0] === 't' || str[0] === 'T'),\n    stringify({ source, value }, ctx) {\n        if (source && boolTag.test.test(source)) {\n            const sv = source[0] === 't' || source[0] === 'T';\n            if (value === sv)\n                return source;\n        }\n        return value ? ctx.options.trueStr : ctx.options.falseStr;\n    }\n};\n\nexports.boolTag = boolTag;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event || (exports.Event = Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n","'use strict';\n\nfunction containsNewline(key) {\n    if (!key)\n        return null;\n    switch (key.type) {\n        case 'alias':\n        case 'scalar':\n        case 'double-quoted-scalar':\n        case 'single-quoted-scalar':\n            if (key.source.includes('\\n'))\n                return true;\n            if (key.end)\n                for (const st of key.end)\n                    if (st.type === 'newline')\n                        return true;\n            return false;\n        case 'flow-collection':\n            for (const it of key.items) {\n                for (const st of it.start)\n                    if (st.type === 'newline')\n                        return true;\n                if (it.sep)\n                    for (const st of it.sep)\n                        if (st.type === 'newline')\n                            return true;\n                if (containsNewline(it.key) || containsNewline(it.value))\n                    return true;\n            }\n            return false;\n        default:\n            return true;\n    }\n}\n\nexports.containsNewline = containsNewline;\n","'use strict'\n\nconst debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentLinkFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DocumentLinkFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const documentLinkCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentLink');\n        documentLinkCapabilities.dynamicRegistration = true;\n        documentLinkCapabilities.tooltipSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentLinkProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentLinks: (document, token) => {\n                const client = this._client;\n                const provideDocumentLinks = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDocumentLinks(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentLinks\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\n                    : provideDocumentLinks(document, token);\n            },\n            resolveDocumentLink: options.resolveProvider\n                ? (link, token) => {\n                    const client = this._client;\n                    let resolveDocumentLink = (link, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return link;\n                            }\n                            return client.protocol2CodeConverter.asDocumentLink(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, token, error, link);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveDocumentLink\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\n                        : resolveDocumentLink(link, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentLinkFeature = DocumentLinkFeature;\n","'use strict'\n\nconst compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","'use strict';\n\nvar identity = require('../../nodes/identity.js');\nvar Pair = require('../../nodes/Pair.js');\nvar YAMLMap = require('../../nodes/YAMLMap.js');\n\nclass YAMLSet extends YAMLMap.YAMLMap {\n    constructor(schema) {\n        super(schema);\n        this.tag = YAMLSet.tag;\n    }\n    add(key) {\n        let pair;\n        if (identity.isPair(key))\n            pair = key;\n        else if (key &&\n            typeof key === 'object' &&\n            'key' in key &&\n            'value' in key &&\n            key.value === null)\n            pair = new Pair.Pair(key.key, null);\n        else\n            pair = new Pair.Pair(key, null);\n        const prev = YAMLMap.findPair(this.items, pair.key);\n        if (!prev)\n            this.items.push(pair);\n    }\n    /**\n     * If `keepPair` is `true`, returns the Pair matching `key`.\n     * Otherwise, returns the value of that Pair's key.\n     */\n    get(key, keepPair) {\n        const pair = YAMLMap.findPair(this.items, key);\n        return !keepPair && identity.isPair(pair)\n            ? identity.isScalar(pair.key)\n                ? pair.key.value\n                : pair.key\n            : pair;\n    }\n    set(key, value) {\n        if (typeof value !== 'boolean')\n            throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof value}`);\n        const prev = YAMLMap.findPair(this.items, key);\n        if (prev && !value) {\n            this.items.splice(this.items.indexOf(prev), 1);\n        }\n        else if (!prev && value) {\n            this.items.push(new Pair.Pair(key));\n        }\n    }\n    toJSON(_, ctx) {\n        return super.toJSON(_, ctx, Set);\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        if (this.hasAllNullValues(true))\n            return super.toString(Object.assign({}, ctx, { allNullValues: true }), onComment, onChompKeep);\n        else\n            throw new Error('Set items must all have null values');\n    }\n    static from(schema, iterable, ctx) {\n        const { replacer } = ctx;\n        const set = new this(schema);\n        if (iterable && Symbol.iterator in Object(iterable))\n            for (let value of iterable) {\n                if (typeof replacer === 'function')\n                    value = replacer.call(iterable, value, value);\n                set.items.push(Pair.createPair(value, null, ctx));\n            }\n        return set;\n    }\n}\nYAMLSet.tag = 'tag:yaml.org,2002:set';\nconst set = {\n    collection: 'map',\n    identify: value => value instanceof Set,\n    nodeClass: YAMLSet,\n    default: false,\n    tag: 'tag:yaml.org,2002:set',\n    createNode: (schema, iterable, ctx) => YAMLSet.from(schema, iterable, ctx),\n    resolve(map, onError) {\n        if (identity.isMap(map)) {\n            if (map.hasAllNullValues(true))\n                return Object.assign(new YAMLSet(), map);\n            else\n                onError('Set items must all have null values');\n        }\n        else\n            onError('Expected a mapping for this tag');\n        return map;\n    }\n};\n\nexports.YAMLSet = YAMLSet;\nexports.set = set;\n","'use strict';\n\nvar Document = require('../doc/Document.js');\nvar composeNode = require('./compose-node.js');\nvar resolveEnd = require('./resolve-end.js');\nvar resolveProps = require('./resolve-props.js');\n\nfunction composeDoc(options, directives, { offset, start, value, end }, onError) {\n    const opts = Object.assign({ _directives: directives }, options);\n    const doc = new Document.Document(undefined, opts);\n    const ctx = {\n        atKey: false,\n        atRoot: true,\n        directives: doc.directives,\n        options: doc.options,\n        schema: doc.schema\n    };\n    const props = resolveProps.resolveProps(start, {\n        indicator: 'doc-start',\n        next: value ?? end?.[0],\n        offset,\n        onError,\n        parentIndent: 0,\n        startOnNewline: true\n    });\n    if (props.found) {\n        doc.directives.docStart = true;\n        if (value &&\n            (value.type === 'block-map' || value.type === 'block-seq') &&\n            !props.hasNewline)\n            onError(props.end, 'MISSING_CHAR', 'Block collection cannot start on same line with directives-end marker');\n    }\n    // @ts-expect-error If Contents is set, let's trust the user\n    doc.contents = value\n        ? composeNode.composeNode(ctx, value, props, onError)\n        : composeNode.composeEmptyNode(ctx, props.end, start, null, props, onError);\n    const contentEnd = doc.contents.range[2];\n    const re = resolveEnd.resolveEnd(end, contentEnd, false, onError);\n    if (re.comment)\n        doc.comment = re.comment;\n    doc.range = [offset, contentEnd, re.offset];\n    return doc;\n}\n\nexports.composeDoc = composeDoc;\n","'use strict';\n\nvar createNode = require('../doc/createNode.js');\nvar identity = require('./identity.js');\nvar Node = require('./Node.js');\n\nfunction collectionFromPath(schema, path, value) {\n    let v = value;\n    for (let i = path.length - 1; i >= 0; --i) {\n        const k = path[i];\n        if (typeof k === 'number' && Number.isInteger(k) && k >= 0) {\n            const a = [];\n            a[k] = v;\n            v = a;\n        }\n        else {\n            v = new Map([[k, v]]);\n        }\n    }\n    return createNode.createNode(v, undefined, {\n        aliasDuplicateObjects: false,\n        keepUndefined: false,\n        onAnchor: () => {\n            throw new Error('This should not happen, please report a bug.');\n        },\n        schema,\n        sourceObjects: new Map()\n    });\n}\n// Type guard is intentionally a little wrong so as to be more useful,\n// as it does not cover untypable empty non-string iterables (e.g. []).\nconst isEmptyPath = (path) => path == null ||\n    (typeof path === 'object' && !!path[Symbol.iterator]().next().done);\nclass Collection extends Node.NodeBase {\n    constructor(type, schema) {\n        super(type);\n        Object.defineProperty(this, 'schema', {\n            value: schema,\n            configurable: true,\n            enumerable: false,\n            writable: true\n        });\n    }\n    /**\n     * Create a copy of this collection.\n     *\n     * @param schema - If defined, overwrites the original's schema\n     */\n    clone(schema) {\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\n        if (schema)\n            copy.schema = schema;\n        copy.items = copy.items.map(it => identity.isNode(it) || identity.isPair(it) ? it.clone(schema) : it);\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /**\n     * Adds a value to the collection. For `!!map` and `!!omap` the value must\n     * be a Pair instance or a `{ key, value }` object, which may not have a key\n     * that already exists in the map.\n     */\n    addIn(path, value) {\n        if (isEmptyPath(path))\n            this.add(value);\n        else {\n            const [key, ...rest] = path;\n            const node = this.get(key, true);\n            if (identity.isCollection(node))\n                node.addIn(rest, value);\n            else if (node === undefined && this.schema)\n                this.set(key, collectionFromPath(this.schema, rest, value));\n            else\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n        }\n    }\n    /**\n     * Removes a value from the collection.\n     * @returns `true` if the item was found and removed.\n     */\n    deleteIn(path) {\n        const [key, ...rest] = path;\n        if (rest.length === 0)\n            return this.delete(key);\n        const node = this.get(key, true);\n        if (identity.isCollection(node))\n            return node.deleteIn(rest);\n        else\n            throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n    }\n    /**\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    getIn(path, keepScalar) {\n        const [key, ...rest] = path;\n        const node = this.get(key, true);\n        if (rest.length === 0)\n            return !keepScalar && identity.isScalar(node) ? node.value : node;\n        else\n            return identity.isCollection(node) ? node.getIn(rest, keepScalar) : undefined;\n    }\n    hasAllNullValues(allowScalar) {\n        return this.items.every(node => {\n            if (!identity.isPair(node))\n                return false;\n            const n = node.value;\n            return (n == null ||\n                (allowScalar &&\n                    identity.isScalar(n) &&\n                    n.value == null &&\n                    !n.commentBefore &&\n                    !n.comment &&\n                    !n.tag));\n        });\n    }\n    /**\n     * Checks if the collection includes a value with the key `key`.\n     */\n    hasIn(path) {\n        const [key, ...rest] = path;\n        if (rest.length === 0)\n            return this.has(key);\n        const node = this.get(key, true);\n        return identity.isCollection(node) ? node.hasIn(rest) : false;\n    }\n    /**\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    setIn(path, value) {\n        const [key, ...rest] = path;\n        if (rest.length === 0) {\n            this.set(key, value);\n        }\n        else {\n            const node = this.get(key, true);\n            if (identity.isCollection(node))\n                node.setIn(rest, value);\n            else if (node === undefined && this.schema)\n                this.set(key, collectionFromPath(this.schema, rest, value));\n            else\n                throw new Error(`Expected YAML collection at ${key}. Remaining path: ${rest}`);\n        }\n    }\n}\n\nexports.Collection = Collection;\nexports.collectionFromPath = collectionFromPath;\nexports.isEmptyPath = isEmptyPath;\n","const minimatch = module.exports = (p, pattern, options = {}) => {\n  assertValidPattern(pattern)\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nmodule.exports = minimatch\n\nconst path = require('./lib/path.js')\nminimatch.sep = path.sep\n\nconst GLOBSTAR = Symbol('globstar **')\nminimatch.GLOBSTAR = GLOBSTAR\nconst expand = require('brace-expansion')\n\nconst plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nconst qmark = '[^/]'\n\n// * => any number of characters\nconst star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nconst twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nconst twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// \"abc\" -> { a:true, b:true, c:true }\nconst charSet = s => s.split('').reduce((set, c) => {\n  set[c] = true\n  return set\n}, {})\n\n// characters that need to be escaped in RegExp.\nconst reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// characters that indicate we have to add the pattern start\nconst addPatternStartSet = charSet('[.(')\n\n// normalizes slashes.\nconst slashSplit = /\\/+/\n\nminimatch.filter = (pattern, options = {}) =>\n  (p, i, list) => minimatch(p, pattern, options)\n\nconst ext = (a, b = {}) => {\n  const t = {}\n  Object.keys(a).forEach(k => t[k] = a[k])\n  Object.keys(b).forEach(k => t[k] = b[k])\n  return t\n}\n\nminimatch.defaults = def => {\n  if (!def || typeof def !== 'object' || !Object.keys(def).length) {\n    return minimatch\n  }\n\n  const orig = minimatch\n\n  const m = (p, pattern, options) => orig(p, pattern, ext(def, options))\n  m.Minimatch = class Minimatch extends orig.Minimatch {\n    constructor (pattern, options) {\n      super(pattern, ext(def, options))\n    }\n  }\n  m.Minimatch.defaults = options => orig.defaults(ext(def, options)).Minimatch\n  m.filter = (pattern, options) => orig.filter(pattern, ext(def, options))\n  m.defaults = options => orig.defaults(ext(def, options))\n  m.makeRe = (pattern, options) => orig.makeRe(pattern, ext(def, options))\n  m.braceExpand = (pattern, options) => orig.braceExpand(pattern, ext(def, options))\n  m.match = (list, pattern, options) => orig.match(list, pattern, ext(def, options))\n\n  return m\n}\n\n\n\n\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = (pattern, options) => braceExpand(pattern, options)\n\nconst braceExpand = (pattern, options = {}) => {\n  assertValidPattern(pattern)\n\n  // Thanks to Yeting Li <https://github.com/yetingli> for\n  // improving this regexp to avoid a ReDOS vulnerability.\n  if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\nconst MAX_PATTERN_LENGTH = 1024 * 64\nconst assertValidPattern = pattern => {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('invalid pattern')\n  }\n\n  if (pattern.length > MAX_PATTERN_LENGTH) {\n    throw new TypeError('pattern is too long')\n  }\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nconst SUBPARSE = Symbol('subparse')\n\nminimatch.makeRe = (pattern, options) =>\n  new Minimatch(pattern, options || {}).makeRe()\n\nminimatch.match = (list, pattern, options = {}) => {\n  const mm = new Minimatch(pattern, options)\n  list = list.filter(f => mm.match(f))\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\n// replace stuff like \\* with *\nconst globUnescape = s => s.replace(/\\\\(.)/g, '$1')\nconst charUnescape = s => s.replace(/\\\\([^-\\]])/g, '$1')\nconst regExpEscape = s => s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\nconst braExpEscape = s => s.replace(/[[\\]\\\\]/g, '\\\\$&')\n\nclass Minimatch {\n  constructor (pattern, options) {\n    assertValidPattern(pattern)\n\n    if (!options) options = {}\n\n    this.options = options\n    this.set = []\n    this.pattern = pattern\n    this.windowsPathsNoEscape = !!options.windowsPathsNoEscape ||\n      options.allowWindowsEscape === false\n    if (this.windowsPathsNoEscape) {\n      this.pattern = this.pattern.replace(/\\\\/g, '/')\n    }\n    this.regexp = null\n    this.negate = false\n    this.comment = false\n    this.empty = false\n    this.partial = !!options.partial\n\n    // make the set of regexps etc.\n    this.make()\n  }\n\n  debug () {}\n\n  make () {\n    const pattern = this.pattern\n    const options = this.options\n\n    // empty patterns and comments match nothing.\n    if (!options.nocomment && pattern.charAt(0) === '#') {\n      this.comment = true\n      return\n    }\n    if (!pattern) {\n      this.empty = true\n      return\n    }\n\n    // step 1: figure out negation, etc.\n    this.parseNegate()\n\n    // step 2: expand braces\n    let set = this.globSet = this.braceExpand()\n\n    if (options.debug) this.debug = (...args) => console.error(...args)\n\n    this.debug(this.pattern, set)\n\n    // step 3: now we have a set, so turn each one into a series of path-portion\n    // matching patterns.\n    // These will be regexps, except in the case of \"**\", which is\n    // set to the GLOBSTAR object for globstar behavior,\n    // and will not contain any / characters\n    set = this.globParts = set.map(s => s.split(slashSplit))\n\n    this.debug(this.pattern, set)\n\n    // glob --> regexps\n    set = set.map((s, si, set) => s.map(this.parse, this))\n\n    this.debug(this.pattern, set)\n\n    // filter out everything that didn't compile properly.\n    set = set.filter(s => s.indexOf(false) === -1)\n\n    this.debug(this.pattern, set)\n\n    this.set = set\n  }\n\n  parseNegate () {\n    if (this.options.nonegate) return\n\n    const pattern = this.pattern\n    let negate = false\n    let negateOffset = 0\n\n    for (let i = 0; i < pattern.length && pattern.charAt(i) === '!'; i++) {\n      negate = !negate\n      negateOffset++\n    }\n\n    if (negateOffset) this.pattern = pattern.slice(negateOffset)\n    this.negate = negate\n  }\n\n  // set partial to true to test if, for example,\n  // \"/a/b\" matches the start of \"/*/b/*/d\"\n  // Partial means, if you run out of file before you run\n  // out of pattern, then that's fine, as long as all\n  // the parts match.\n  matchOne (file, pattern, partial) {\n    var options = this.options\n\n    this.debug('matchOne',\n      { 'this': this, file: file, pattern: pattern })\n\n    this.debug('matchOne', file.length, pattern.length)\n\n    for (var fi = 0,\n        pi = 0,\n        fl = file.length,\n        pl = pattern.length\n        ; (fi < fl) && (pi < pl)\n        ; fi++, pi++) {\n      this.debug('matchOne loop')\n      var p = pattern[pi]\n      var f = file[fi]\n\n      this.debug(pattern, p, f)\n\n      // should be impossible.\n      // some invalid regexp stuff in the set.\n      /* istanbul ignore if */\n      if (p === false) return false\n\n      if (p === GLOBSTAR) {\n        this.debug('GLOBSTAR', [pattern, p, f])\n\n        // \"**\"\n        // a/**/b/**/c would match the following:\n        // a/b/x/y/z/c\n        // a/x/y/z/b/c\n        // a/b/x/b/x/c\n        // a/b/c\n        // To do this, take the rest of the pattern after\n        // the **, and see if it would match the file remainder.\n        // If so, return success.\n        // If not, the ** \"swallows\" a segment, and try again.\n        // This is recursively awful.\n        //\n        // a/**/b/**/c matching a/b/x/y/z/c\n        // - a matches a\n        // - doublestar\n        //   - matchOne(b/x/y/z/c, b/**/c)\n        //     - b matches b\n        //     - doublestar\n        //       - matchOne(x/y/z/c, c) -> no\n        //       - matchOne(y/z/c, c) -> no\n        //       - matchOne(z/c, c) -> no\n        //       - matchOne(c, c) yes, hit\n        var fr = fi\n        var pr = pi + 1\n        if (pr === pl) {\n          this.debug('** at the end')\n          // a ** at the end will just swallow the rest.\n          // We have found a match.\n          // however, it will not swallow /.x, unless\n          // options.dot is set.\n          // . and .. are *never* matched by **, for explosively\n          // exponential reasons.\n          for (; fi < fl; fi++) {\n            if (file[fi] === '.' || file[fi] === '..' ||\n              (!options.dot && file[fi].charAt(0) === '.')) return false\n          }\n          return true\n        }\n\n        // ok, let's see if we can swallow whatever we can.\n        while (fr < fl) {\n          var swallowee = file[fr]\n\n          this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n          // XXX remove this slice.  Just pass the start index.\n          if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n            this.debug('globstar found match!', fr, fl, swallowee)\n            // found a match.\n            return true\n          } else {\n            // can't swallow \".\" or \"..\" ever.\n            // can only swallow \".foo\" when explicitly asked.\n            if (swallowee === '.' || swallowee === '..' ||\n              (!options.dot && swallowee.charAt(0) === '.')) {\n              this.debug('dot detected!', file, fr, pattern, pr)\n              break\n            }\n\n            // ** swallows a segment, and continue.\n            this.debug('globstar swallow a segment, and continue')\n            fr++\n          }\n        }\n\n        // no match was found.\n        // However, in partial mode, we can't say this is necessarily over.\n        // If there's more *pattern* left, then\n        /* istanbul ignore if */\n        if (partial) {\n          // ran out of file\n          this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n          if (fr === fl) return true\n        }\n        return false\n      }\n\n      // something other than **\n      // non-magic patterns just have to match exactly\n      // patterns with magic have been turned into regexps.\n      var hit\n      if (typeof p === 'string') {\n        hit = f === p\n        this.debug('string match', p, f, hit)\n      } else {\n        hit = f.match(p)\n        this.debug('pattern match', p, f, hit)\n      }\n\n      if (!hit) return false\n    }\n\n    // Note: ending in / means that we'll get a final \"\"\n    // at the end of the pattern.  This can only match a\n    // corresponding \"\" at the end of the file.\n    // If the file ends in /, then it can only match a\n    // a pattern that ends in /, unless the pattern just\n    // doesn't have any more for it. But, a/b/ should *not*\n    // match \"a/b/*\", even though \"\" matches against the\n    // [^/]*? pattern, except in partial mode, where it might\n    // simply not be reached yet.\n    // However, a/b/ should still satisfy a/*\n\n    // now either we fell off the end of the pattern, or we're done.\n    if (fi === fl && pi === pl) {\n      // ran out of pattern and filename at the same time.\n      // an exact hit!\n      return true\n    } else if (fi === fl) {\n      // ran out of file, but still had pattern left.\n      // this is ok if we're doing the match as part of\n      // a glob fs traversal.\n      return partial\n    } else /* istanbul ignore else */ if (pi === pl) {\n      // ran out of pattern, still have file left.\n      // this is only acceptable if we're on the very last\n      // empty segment of a file with a trailing slash.\n      // a/* should match a/b/\n      return (fi === fl - 1) && (file[fi] === '')\n    }\n\n    // should be unreachable.\n    /* istanbul ignore next */\n    throw new Error('wtf?')\n  }\n\n  braceExpand () {\n    return braceExpand(this.pattern, this.options)\n  }\n\n  parse (pattern, isSub) {\n    assertValidPattern(pattern)\n\n    const options = this.options\n\n    // shortcuts\n    if (pattern === '**') {\n      if (!options.noglobstar)\n        return GLOBSTAR\n      else\n        pattern = '*'\n    }\n    if (pattern === '') return ''\n\n    let re = ''\n    let hasMagic = false\n    let escaping = false\n    // ? => one single character\n    const patternListStack = []\n    const negativeLists = []\n    let stateChar\n    let inClass = false\n    let reClassStart = -1\n    let classStart = -1\n    let cs\n    let pl\n    let sp\n    // . and .. never match anything that doesn't start with .,\n    // even when options.dot is set.  However, if the pattern\n    // starts with ., then traversal patterns can match.\n    let dotTravAllowed = pattern.charAt(0) === '.'\n    let dotFileAllowed = options.dot || dotTravAllowed\n    const patternStart = () =>\n      dotTravAllowed\n        ? ''\n        : dotFileAllowed\n        ? '(?!(?:^|\\\\/)\\\\.{1,2}(?:$|\\\\/))'\n        : '(?!\\\\.)'\n    const subPatternStart = (p) =>\n      p.charAt(0) === '.'\n        ? ''\n        : options.dot\n        ? '(?!(?:^|\\\\/)\\\\.{1,2}(?:$|\\\\/))'\n        : '(?!\\\\.)'\n\n\n    const clearStateChar = () => {\n      if (stateChar) {\n        // we had some state-tracking character\n        // that wasn't consumed by this pass.\n        switch (stateChar) {\n          case '*':\n            re += star\n            hasMagic = true\n          break\n          case '?':\n            re += qmark\n            hasMagic = true\n          break\n          default:\n            re += '\\\\' + stateChar\n          break\n        }\n        this.debug('clearStateChar %j %j', stateChar, re)\n        stateChar = false\n      }\n    }\n\n    for (let i = 0, c; (i < pattern.length) && (c = pattern.charAt(i)); i++) {\n      this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n      // skip over any that are escaped.\n      if (escaping) {\n        /* istanbul ignore next - completely not allowed, even escaped. */\n        if (c === '/') {\n          return false\n        }\n\n        if (reSpecials[c]) {\n          re += '\\\\'\n        }\n        re += c\n        escaping = false\n        continue\n      }\n\n      switch (c) {\n        /* istanbul ignore next */\n        case '/': {\n          // Should already be path-split by now.\n          return false\n        }\n\n        case '\\\\':\n          if (inClass && pattern.charAt(i + 1) === '-') {\n            re += c\n            continue\n          }\n\n          clearStateChar()\n          escaping = true\n        continue\n\n        // the various stateChar values\n        // for the \"extglob\" stuff.\n        case '?':\n        case '*':\n        case '+':\n        case '@':\n        case '!':\n          this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n          // all of those are literals inside a class, except that\n          // the glob [!a] means [^a] in regexp\n          if (inClass) {\n            this.debug('  in class')\n            if (c === '!' && i === classStart + 1) c = '^'\n            re += c\n            continue\n          }\n\n          // if we already have a stateChar, then it means\n          // that there was something like ** or +? in there.\n          // Handle the stateChar, then proceed with this one.\n          this.debug('call clearStateChar %j', stateChar)\n          clearStateChar()\n          stateChar = c\n          // if extglob is disabled, then +(asdf|foo) isn't a thing.\n          // just clear the statechar *now*, rather than even diving into\n          // the patternList stuff.\n          if (options.noext) clearStateChar()\n        continue\n\n        case '(': {\n          if (inClass) {\n            re += '('\n            continue\n          }\n\n          if (!stateChar) {\n            re += '\\\\('\n            continue\n          }\n\n          const plEntry = {\n            type: stateChar,\n            start: i - 1,\n            reStart: re.length,\n            open: plTypes[stateChar].open,\n            close: plTypes[stateChar].close,\n          }\n          this.debug(this.pattern, '\\t', plEntry)\n          patternListStack.push(plEntry)\n          // negation is (?:(?!(?:js)(?:<rest>))[^/]*)\n          re += plEntry.open\n          // next entry starts with a dot maybe?\n          if (plEntry.start === 0 && plEntry.type !== '!') {\n            dotTravAllowed = true\n            re += subPatternStart(pattern.slice(i + 1))\n          }\n          this.debug('plType %j %j', stateChar, re)\n          stateChar = false\n          continue\n        }\n\n        case ')': {\n          const plEntry = patternListStack[patternListStack.length - 1]\n          if (inClass || !plEntry) {\n            re += '\\\\)'\n            continue\n          }\n          patternListStack.pop()\n\n          // closing an extglob\n          clearStateChar()\n          hasMagic = true\n          pl = plEntry\n          // negation is (?:(?!js)[^/]*)\n          // The others are (?:<pattern>)<type>\n          re += pl.close\n          if (pl.type === '!') {\n            negativeLists.push(Object.assign(pl, { reEnd: re.length }))\n          }\n          continue\n        }\n\n        case '|': {\n          const plEntry = patternListStack[patternListStack.length - 1]\n          if (inClass || !plEntry) {\n            re += '\\\\|'\n            continue\n          }\n\n          clearStateChar()\n          re += '|'\n          // next subpattern can start with a dot?\n          if (plEntry.start === 0 && plEntry.type !== '!') {\n            dotTravAllowed = true\n            re += subPatternStart(pattern.slice(i + 1))\n          }\n          continue\n        }\n\n        // these are mostly the same in regexp and glob\n        case '[':\n          // swallow any state-tracking char before the [\n          clearStateChar()\n\n          if (inClass) {\n            re += '\\\\' + c\n            continue\n          }\n\n          inClass = true\n          classStart = i\n          reClassStart = re.length\n          re += c\n        continue\n\n        case ']':\n          //  a right bracket shall lose its special\n          //  meaning and represent itself in\n          //  a bracket expression if it occurs\n          //  first in the list.  -- POSIX.2 2.8.3.2\n          if (i === classStart + 1 || !inClass) {\n            re += '\\\\' + c\n            continue\n          }\n\n          // split where the last [ was, make sure we don't have\n          // an invalid re. if so, re-walk the contents of the\n          // would-be class to re-translate any characters that\n          // were passed through as-is\n          // TODO: It would probably be faster to determine this\n          // without a try/catch and a new RegExp, but it's tricky\n          // to do safely.  For now, this is safe and works.\n          cs = pattern.substring(classStart + 1, i)\n          try {\n            RegExp('[' + braExpEscape(charUnescape(cs)) + ']')\n            // looks good, finish up the class.\n            re += c\n          } catch (er) {\n            // out of order ranges in JS are errors, but in glob syntax,\n            // they're just a range that matches nothing.\n            re = re.substring(0, reClassStart) + '(?:$.)' // match nothing ever\n          }\n          hasMagic = true\n          inClass = false\n        continue\n\n        default:\n          // swallow any state char that wasn't consumed\n          clearStateChar()\n\n          if (reSpecials[c] && !(c === '^' && inClass)) {\n            re += '\\\\'\n          }\n\n          re += c\n          break\n\n      } // switch\n    } // for\n\n    // handle the case where we left a class open.\n    // \"[abc\" is valid, equivalent to \"\\[abc\"\n    if (inClass) {\n      // split where the last [ was, and escape it\n      // this is a huge pita.  We now have to re-walk\n      // the contents of the would-be class to re-translate\n      // any characters that were passed through as-is\n      cs = pattern.slice(classStart + 1)\n      sp = this.parse(cs, SUBPARSE)\n      re = re.substring(0, reClassStart) + '\\\\[' + sp[0]\n      hasMagic = hasMagic || sp[1]\n    }\n\n    // handle the case where we had a +( thing at the *end*\n    // of the pattern.\n    // each pattern list stack adds 3 chars, and we need to go through\n    // and escape any | chars that were passed through as-is for the regexp.\n    // Go through and escape them, taking care not to double-escape any\n    // | chars that were already escaped.\n    for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n      let tail\n      tail = re.slice(pl.reStart + pl.open.length)\n      this.debug('setting tail', re, pl)\n      // maybe some even number of \\, then maybe 1 \\, followed by a |\n      tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, (_, $1, $2) => {\n        /* istanbul ignore else - should already be done */\n        if (!$2) {\n          // the | isn't already escaped, so escape it.\n          $2 = '\\\\'\n        }\n\n        // need to escape all those slashes *again*, without escaping the\n        // one that we need for escaping the | character.  As it works out,\n        // escaping an even number of slashes can be done by simply repeating\n        // it exactly after itself.  That's why this trick works.\n        //\n        // I am sorry that you have to see this.\n        return $1 + $1 + $2 + '|'\n      })\n\n      this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n      const t = pl.type === '*' ? star\n        : pl.type === '?' ? qmark\n        : '\\\\' + pl.type\n\n      hasMagic = true\n      re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n    }\n\n    // handle trailing things that only matter at the very end.\n    clearStateChar()\n    if (escaping) {\n      // trailing \\\\\n      re += '\\\\\\\\'\n    }\n\n    // only need to apply the nodot start if the re starts with\n    // something that could conceivably capture a dot\n    const addPatternStart = addPatternStartSet[re.charAt(0)]\n\n    // Hack to work around lack of negative lookbehind in JS\n    // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n    // like 'a.xyz.yz' doesn't match.  So, the first negative\n    // lookahead, has to look ALL the way ahead, to the end of\n    // the pattern.\n    for (let n = negativeLists.length - 1; n > -1; n--) {\n      const nl = negativeLists[n]\n\n      const nlBefore = re.slice(0, nl.reStart)\n      const nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n      let nlAfter = re.slice(nl.reEnd)\n      const nlLast = re.slice(nl.reEnd - 8, nl.reEnd) + nlAfter\n\n      // Handle nested stuff like *(*.js|!(*.json)), where open parens\n      // mean that we should *not* include the ) in the bit that is considered\n      // \"after\" the negated section.\n      const closeParensBefore = nlBefore.split(')').length\n      const openParensBefore = nlBefore.split('(').length - closeParensBefore\n      let cleanAfter = nlAfter\n      for (let i = 0; i < openParensBefore; i++) {\n        cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n      }\n      nlAfter = cleanAfter\n\n      const dollar = nlAfter === '' && isSub !== SUBPARSE ? '(?:$|\\\\/)' : ''\n\n      re = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    }\n\n    // if the re is not \"\" at this point, then we need to make sure\n    // it doesn't match against an empty path part.\n    // Otherwise a/* will match a/, which it should not.\n    if (re !== '' && hasMagic) {\n      re = '(?=.)' + re\n    }\n\n    if (addPatternStart) {\n      re = patternStart() + re\n    }\n\n    // parsing just a piece of a larger pattern.\n    if (isSub === SUBPARSE) {\n      return [re, hasMagic]\n    }\n\n    // if it's nocase, and the lcase/uppercase don't match, it's magic\n    if (options.nocase && !hasMagic) {\n      hasMagic = pattern.toUpperCase() !== pattern.toLowerCase()\n    }\n\n    // skip the regexp for non-magical patterns\n    // unescape anything in it, though, so that it'll be\n    // an exact match against a file etc.\n    if (!hasMagic) {\n      return globUnescape(pattern)\n    }\n\n    const flags = options.nocase ? 'i' : ''\n    try {\n      return Object.assign(new RegExp('^' + re + '$', flags), {\n        _glob: pattern,\n        _src: re,\n      })\n    } catch (er) /* istanbul ignore next - should be impossible */ {\n      // If it was an invalid regular expression, then it can't match\n      // anything.  This trick looks for a character after the end of\n      // the string, which is of course impossible, except in multi-line\n      // mode, but it's not a /m regex.\n      return new RegExp('$.')\n    }\n  }\n\n  makeRe () {\n    if (this.regexp || this.regexp === false) return this.regexp\n\n    // at this point, this.set is a 2d array of partial\n    // pattern strings, or \"**\".\n    //\n    // It's better to use .match().  This function shouldn't\n    // be used, really, but it's pretty convenient sometimes,\n    // when you just want to work with a regex.\n    const set = this.set\n\n    if (!set.length) {\n      this.regexp = false\n      return this.regexp\n    }\n    const options = this.options\n\n    const twoStar = options.noglobstar ? star\n      : options.dot ? twoStarDot\n      : twoStarNoDot\n    const flags = options.nocase ? 'i' : ''\n\n    // coalesce globstars and regexpify non-globstar patterns\n    // if it's the only item, then we just do one twoStar\n    // if it's the first, and there are more, prepend (\\/|twoStar\\/)? to next\n    // if it's the last, append (\\/twoStar|) to previous\n    // if it's in the middle, append (\\/|\\/twoStar\\/) to previous\n    // then filter out GLOBSTAR symbols\n    let re = set.map(pattern => {\n      pattern = pattern.map(p =>\n        typeof p === 'string' ? regExpEscape(p)\n        : p === GLOBSTAR ? GLOBSTAR\n        : p._src\n      ).reduce((set, p) => {\n        if (!(set[set.length - 1] === GLOBSTAR && p === GLOBSTAR)) {\n          set.push(p)\n        }\n        return set\n      }, [])\n      pattern.forEach((p, i) => {\n        if (p !== GLOBSTAR || pattern[i-1] === GLOBSTAR) {\n          return\n        }\n        if (i === 0) {\n          if (pattern.length > 1) {\n            pattern[i+1] = '(?:\\\\\\/|' + twoStar + '\\\\\\/)?' + pattern[i+1]\n          } else {\n            pattern[i] = twoStar\n          }\n        } else if (i === pattern.length - 1) {\n          pattern[i-1] += '(?:\\\\\\/|' + twoStar + ')?'\n        } else {\n          pattern[i-1] += '(?:\\\\\\/|\\\\\\/' + twoStar + '\\\\\\/)' + pattern[i+1]\n          pattern[i+1] = GLOBSTAR\n        }\n      })\n      return pattern.filter(p => p !== GLOBSTAR).join('/')\n    }).join('|')\n\n    // must match entire pattern\n    // ending in a * or ** will make it less strict.\n    re = '^(?:' + re + ')$'\n\n    // can match anything, as long as it's not this.\n    if (this.negate) re = '^(?!' + re + ').*$'\n\n    try {\n      this.regexp = new RegExp(re, flags)\n    } catch (ex) /* istanbul ignore next - should be impossible */ {\n      this.regexp = false\n    }\n    return this.regexp\n  }\n\n  match (f, partial = this.partial) {\n    this.debug('match', f, this.pattern)\n    // short-circuit in the case of busted things.\n    // comments, etc.\n    if (this.comment) return false\n    if (this.empty) return f === ''\n\n    if (f === '/' && partial) return true\n\n    const options = this.options\n\n    // windows: need to use /, not \\\n    if (path.sep !== '/') {\n      f = f.split(path.sep).join('/')\n    }\n\n    // treat the test path as a set of pathparts.\n    f = f.split(slashSplit)\n    this.debug(this.pattern, 'split', f)\n\n    // just ONE of the pattern sets in this.set needs to match\n    // in order for it to be valid.  If negating, then just one\n    // match means that we have failed.\n    // Either way, return on the first hit.\n\n    const set = this.set\n    this.debug(this.pattern, 'set', set)\n\n    // Find the basename of the path by looking for the last non-empty segment\n    let filename\n    for (let i = f.length - 1; i >= 0; i--) {\n      filename = f[i]\n      if (filename) break\n    }\n\n    for (let i = 0; i < set.length; i++) {\n      const pattern = set[i]\n      let file = f\n      if (options.matchBase && pattern.length === 1) {\n        file = [filename]\n      }\n      const hit = this.matchOne(file, pattern, partial)\n      if (hit) {\n        if (options.flipNegate) return true\n        return !this.negate\n      }\n    }\n\n    // didn't get any hits.  this is success if it's a negative\n    // pattern, failure otherwise.\n    if (options.flipNegate) return false\n    return this.negate\n  }\n\n  static defaults (def) {\n    return minimatch.defaults(def).Minimatch\n  }\n}\n\nminimatch.Minimatch = Minimatch\n","'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    if(a===b) {\n      return [ai, bi];\n    }\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","'use strict'\n\nconst compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","'use strict';\n\nfunction resolveProps(tokens, { flow, indicator, next, offset, onError, parentIndent, startOnNewline }) {\n    let spaceBefore = false;\n    let atNewline = startOnNewline;\n    let hasSpace = startOnNewline;\n    let comment = '';\n    let commentSep = '';\n    let hasNewline = false;\n    let reqSpace = false;\n    let tab = null;\n    let anchor = null;\n    let tag = null;\n    let newlineAfterProp = null;\n    let comma = null;\n    let found = null;\n    let start = null;\n    for (const token of tokens) {\n        if (reqSpace) {\n            if (token.type !== 'space' &&\n                token.type !== 'newline' &&\n                token.type !== 'comma')\n                onError(token.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\n            reqSpace = false;\n        }\n        if (tab) {\n            if (atNewline && token.type !== 'comment' && token.type !== 'newline') {\n                onError(tab, 'TAB_AS_INDENT', 'Tabs are not allowed as indentation');\n            }\n            tab = null;\n        }\n        switch (token.type) {\n            case 'space':\n                // At the doc level, tabs at line start may be parsed\n                // as leading white space rather than indentation.\n                // In a flow collection, only the parser handles indent.\n                if (!flow &&\n                    (indicator !== 'doc-start' || next?.type !== 'flow-collection') &&\n                    token.source.includes('\\t')) {\n                    tab = token;\n                }\n                hasSpace = true;\n                break;\n            case 'comment': {\n                if (!hasSpace)\n                    onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\n                const cb = token.source.substring(1) || ' ';\n                if (!comment)\n                    comment = cb;\n                else\n                    comment += commentSep + cb;\n                commentSep = '';\n                atNewline = false;\n                break;\n            }\n            case 'newline':\n                if (atNewline) {\n                    if (comment)\n                        comment += token.source;\n                    else if (!found || indicator !== 'seq-item-ind')\n                        spaceBefore = true;\n                }\n                else\n                    commentSep += token.source;\n                atNewline = true;\n                hasNewline = true;\n                if (anchor || tag)\n                    newlineAfterProp = token;\n                hasSpace = true;\n                break;\n            case 'anchor':\n                if (anchor)\n                    onError(token, 'MULTIPLE_ANCHORS', 'A node can have at most one anchor');\n                if (token.source.endsWith(':'))\n                    onError(token.offset + token.source.length - 1, 'BAD_ALIAS', 'Anchor ending in : is ambiguous', true);\n                anchor = token;\n                start ?? (start = token.offset);\n                atNewline = false;\n                hasSpace = false;\n                reqSpace = true;\n                break;\n            case 'tag': {\n                if (tag)\n                    onError(token, 'MULTIPLE_TAGS', 'A node can have at most one tag');\n                tag = token;\n                start ?? (start = token.offset);\n                atNewline = false;\n                hasSpace = false;\n                reqSpace = true;\n                break;\n            }\n            case indicator:\n                // Could here handle preceding comments differently\n                if (anchor || tag)\n                    onError(token, 'BAD_PROP_ORDER', `Anchors and tags must be after the ${token.source} indicator`);\n                if (found)\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.source} in ${flow ?? 'collection'}`);\n                found = token;\n                atNewline =\n                    indicator === 'seq-item-ind' || indicator === 'explicit-key-ind';\n                hasSpace = false;\n                break;\n            case 'comma':\n                if (flow) {\n                    if (comma)\n                        onError(token, 'UNEXPECTED_TOKEN', `Unexpected , in ${flow}`);\n                    comma = token;\n                    atNewline = false;\n                    hasSpace = false;\n                    break;\n                }\n            // else fallthrough\n            default:\n                onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${token.type} token`);\n                atNewline = false;\n                hasSpace = false;\n        }\n    }\n    const last = tokens[tokens.length - 1];\n    const end = last ? last.offset + last.source.length : offset;\n    if (reqSpace &&\n        next &&\n        next.type !== 'space' &&\n        next.type !== 'newline' &&\n        next.type !== 'comma' &&\n        (next.type !== 'scalar' || next.source !== '')) {\n        onError(next.offset, 'MISSING_CHAR', 'Tags and anchors must be separated from the next token by white space');\n    }\n    if (tab &&\n        ((atNewline && tab.indent <= parentIndent) ||\n            next?.type === 'block-map' ||\n            next?.type === 'block-seq'))\n        onError(tab, 'TAB_AS_INDENT', 'Tabs are not allowed as indentation');\n    return {\n        comma,\n        found,\n        spaceBefore,\n        comment,\n        hasNewline,\n        anchor,\n        tag,\n        newlineAfterProp,\n        end,\n        start: start ?? end\n    };\n}\n\nexports.resolveProps = resolveProps;\n","'use strict';\n\n/**\n * Stringify a CST document, token, or collection item\n *\n * Fair warning: This applies no validation whatsoever, and\n * simply concatenates the sources in their logical order.\n */\nconst stringify = (cst) => 'type' in cst ? stringifyToken(cst) : stringifyItem(cst);\nfunction stringifyToken(token) {\n    switch (token.type) {\n        case 'block-scalar': {\n            let res = '';\n            for (const tok of token.props)\n                res += stringifyToken(tok);\n            return res + token.source;\n        }\n        case 'block-map':\n        case 'block-seq': {\n            let res = '';\n            for (const item of token.items)\n                res += stringifyItem(item);\n            return res;\n        }\n        case 'flow-collection': {\n            let res = token.start.source;\n            for (const item of token.items)\n                res += stringifyItem(item);\n            for (const st of token.end)\n                res += st.source;\n            return res;\n        }\n        case 'document': {\n            let res = stringifyItem(token);\n            if (token.end)\n                for (const st of token.end)\n                    res += st.source;\n            return res;\n        }\n        default: {\n            let res = token.source;\n            if ('end' in token && token.end)\n                for (const st of token.end)\n                    res += st.source;\n            return res;\n        }\n    }\n}\nfunction stringifyItem({ start, key, sep, value }) {\n    let res = '';\n    for (const st of start)\n        res += st.source;\n    if (key)\n        res += stringifyToken(key);\n    if (sep)\n        for (const st of sep)\n            res += st.source;\n    if (value)\n        res += stringifyToken(value);\n    return res;\n}\n\nexports.stringify = stringify;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.MessageStrategy = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.RequestCancellationReceiverStrategy = exports.IdCancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken || (exports.ProgressToken = ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues || (exports.TraceValues = TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace || (exports.Trace = Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat || (exports.TraceFormat = TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification || (exports.SetTraceNotification = SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification || (exports.LogTraceNotification = LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors || (exports.ConnectionErrors = ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy || (exports.ConnectionStrategy = ConnectionStrategy = {}));\nvar IdCancellationReceiverStrategy;\n(function (IdCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.kind === undefined || candidate.kind === 'id') && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    IdCancellationReceiverStrategy.is = is;\n})(IdCancellationReceiverStrategy || (exports.IdCancellationReceiverStrategy = IdCancellationReceiverStrategy = {}));\nvar RequestCancellationReceiverStrategy;\n(function (RequestCancellationReceiverStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && candidate.kind === 'request' && Is.func(candidate.createCancellationTokenSource) && (candidate.dispose === undefined || Is.func(candidate.dispose));\n    }\n    RequestCancellationReceiverStrategy.is = is;\n})(RequestCancellationReceiverStrategy || (exports.RequestCancellationReceiverStrategy = RequestCancellationReceiverStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        return IdCancellationReceiverStrategy.is(value) || RequestCancellationReceiverStrategy.is(value);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy || (exports.CancellationSenderStrategy = CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy || (exports.CancellationStrategy = CancellationStrategy = {}));\nvar MessageStrategy;\n(function (MessageStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.handleMessage);\n    }\n    MessageStrategy.is = is;\n})(MessageStrategy || (exports.MessageStrategy = MessageStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy) || MessageStrategy.is(candidate.messageStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions || (exports.ConnectionOptions = ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function handleMessage(message) {\n        if (messages_1.Message.isRequest(message)) {\n            handleRequest(message);\n        }\n        else if (messages_1.Message.isNotification(message)) {\n            handleNotification(message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            handleResponse(message);\n        }\n        else {\n            handleInvalidMessage(message);\n        }\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            const messageStrategy = options?.messageStrategy;\n            if (MessageStrategy.is(messageStrategy)) {\n                messageStrategy.handleMessage(message, handleMessage);\n            }\n            else {\n                handleMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = IdCancellationReceiverStrategy.is(cancellationStrategy.receiver)\n                ? cancellationStrategy.receiver.createCancellationTokenSource(tokenKey)\n                : cancellationStrategy.receiver.createCancellationTokenSource(requestMessage);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch((error) => {\n                logger.error(`Sending notification failed.`);\n                throw error;\n            });\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            // This should not await but simple return to ensure that we don't have another\n            // async scheduling. Otherwise one send could overtake another send.\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const requestMessage = {\n                jsonrpc: version,\n                id: id,\n                method: method,\n                params: messageParams\n            };\n            traceSendingRequest(requestMessage);\n            if (typeof cancellationStrategy.sender.enableCancellation === 'function') {\n                cancellationStrategy.sender.enableCancellation(requestMessage);\n            }\n            return new Promise(async (resolve, reject) => {\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                try {\n                    await messageWriter.write(requestMessage);\n                    responsePromises.set(id, responsePromise);\n                }\n                catch (error) {\n                    logger.error(`Sending request failed.`);\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, error.message ? error.message : 'Unknown reason'));\n                    throw error;\n                }\n            });\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n","'use strict';\n\nvar node_process = require('process');\nvar directives = require('../doc/directives.js');\nvar Document = require('../doc/Document.js');\nvar errors = require('../errors.js');\nvar identity = require('../nodes/identity.js');\nvar composeDoc = require('./compose-doc.js');\nvar resolveEnd = require('./resolve-end.js');\n\nfunction getErrorPos(src) {\n    if (typeof src === 'number')\n        return [src, src + 1];\n    if (Array.isArray(src))\n        return src.length === 2 ? src : [src[0], src[1]];\n    const { offset, source } = src;\n    return [offset, offset + (typeof source === 'string' ? source.length : 1)];\n}\nfunction parsePrelude(prelude) {\n    let comment = '';\n    let atComment = false;\n    let afterEmptyLine = false;\n    for (let i = 0; i < prelude.length; ++i) {\n        const source = prelude[i];\n        switch (source[0]) {\n            case '#':\n                comment +=\n                    (comment === '' ? '' : afterEmptyLine ? '\\n\\n' : '\\n') +\n                        (source.substring(1) || ' ');\n                atComment = true;\n                afterEmptyLine = false;\n                break;\n            case '%':\n                if (prelude[i + 1]?.[0] !== '#')\n                    i += 1;\n                atComment = false;\n                break;\n            default:\n                // This may be wrong after doc-end, but in that case it doesn't matter\n                if (!atComment)\n                    afterEmptyLine = true;\n                atComment = false;\n        }\n    }\n    return { comment, afterEmptyLine };\n}\n/**\n * Compose a stream of CST nodes into a stream of YAML Documents.\n *\n * ```ts\n * import { Composer, Parser } from 'yaml'\n *\n * const src: string = ...\n * const tokens = new Parser().parse(src)\n * const docs = new Composer().compose(tokens)\n * ```\n */\nclass Composer {\n    constructor(options = {}) {\n        this.doc = null;\n        this.atDirectives = false;\n        this.prelude = [];\n        this.errors = [];\n        this.warnings = [];\n        this.onError = (source, code, message, warning) => {\n            const pos = getErrorPos(source);\n            if (warning)\n                this.warnings.push(new errors.YAMLWarning(pos, code, message));\n            else\n                this.errors.push(new errors.YAMLParseError(pos, code, message));\n        };\n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        this.directives = new directives.Directives({ version: options.version || '1.2' });\n        this.options = options;\n    }\n    decorate(doc, afterDoc) {\n        const { comment, afterEmptyLine } = parsePrelude(this.prelude);\n        //console.log({ dc: doc.comment, prelude, comment })\n        if (comment) {\n            const dc = doc.contents;\n            if (afterDoc) {\n                doc.comment = doc.comment ? `${doc.comment}\\n${comment}` : comment;\n            }\n            else if (afterEmptyLine || doc.directives.docStart || !dc) {\n                doc.commentBefore = comment;\n            }\n            else if (identity.isCollection(dc) && !dc.flow && dc.items.length > 0) {\n                let it = dc.items[0];\n                if (identity.isPair(it))\n                    it = it.key;\n                const cb = it.commentBefore;\n                it.commentBefore = cb ? `${comment}\\n${cb}` : comment;\n            }\n            else {\n                const cb = dc.commentBefore;\n                dc.commentBefore = cb ? `${comment}\\n${cb}` : comment;\n            }\n        }\n        if (afterDoc) {\n            Array.prototype.push.apply(doc.errors, this.errors);\n            Array.prototype.push.apply(doc.warnings, this.warnings);\n        }\n        else {\n            doc.errors = this.errors;\n            doc.warnings = this.warnings;\n        }\n        this.prelude = [];\n        this.errors = [];\n        this.warnings = [];\n    }\n    /**\n     * Current stream status information.\n     *\n     * Mostly useful at the end of input for an empty stream.\n     */\n    streamInfo() {\n        return {\n            comment: parsePrelude(this.prelude).comment,\n            directives: this.directives,\n            errors: this.errors,\n            warnings: this.warnings\n        };\n    }\n    /**\n     * Compose tokens into documents.\n     *\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\n     */\n    *compose(tokens, forceDoc = false, endOffset = -1) {\n        for (const token of tokens)\n            yield* this.next(token);\n        yield* this.end(forceDoc, endOffset);\n    }\n    /** Advance the composer by one CST token. */\n    *next(token) {\n        if (node_process.env.LOG_STREAM)\n            console.dir(token, { depth: null });\n        switch (token.type) {\n            case 'directive':\n                this.directives.add(token.source, (offset, message, warning) => {\n                    const pos = getErrorPos(token);\n                    pos[0] += offset;\n                    this.onError(pos, 'BAD_DIRECTIVE', message, warning);\n                });\n                this.prelude.push(token.source);\n                this.atDirectives = true;\n                break;\n            case 'document': {\n                const doc = composeDoc.composeDoc(this.options, this.directives, token, this.onError);\n                if (this.atDirectives && !doc.directives.docStart)\n                    this.onError(token, 'MISSING_CHAR', 'Missing directives-end/doc-start indicator line');\n                this.decorate(doc, false);\n                if (this.doc)\n                    yield this.doc;\n                this.doc = doc;\n                this.atDirectives = false;\n                break;\n            }\n            case 'byte-order-mark':\n            case 'space':\n                break;\n            case 'comment':\n            case 'newline':\n                this.prelude.push(token.source);\n                break;\n            case 'error': {\n                const msg = token.source\n                    ? `${token.message}: ${JSON.stringify(token.source)}`\n                    : token.message;\n                const error = new errors.YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg);\n                if (this.atDirectives || !this.doc)\n                    this.errors.push(error);\n                else\n                    this.doc.errors.push(error);\n                break;\n            }\n            case 'doc-end': {\n                if (!this.doc) {\n                    const msg = 'Unexpected doc-end without preceding document';\n                    this.errors.push(new errors.YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', msg));\n                    break;\n                }\n                this.doc.directives.docEnd = true;\n                const end = resolveEnd.resolveEnd(token.end, token.offset + token.source.length, this.doc.options.strict, this.onError);\n                this.decorate(this.doc, true);\n                if (end.comment) {\n                    const dc = this.doc.comment;\n                    this.doc.comment = dc ? `${dc}\\n${end.comment}` : end.comment;\n                }\n                this.doc.range[2] = end.offset;\n                break;\n            }\n            default:\n                this.errors.push(new errors.YAMLParseError(getErrorPos(token), 'UNEXPECTED_TOKEN', `Unsupported token ${token.type}`));\n        }\n    }\n    /**\n     * Call at end of input to yield any remaining document.\n     *\n     * @param forceDoc - If the stream contains no document, still emit a final document including any comments and directives that would be applied to a subsequent document.\n     * @param endOffset - Should be set if `forceDoc` is also set, to set the document range end and to indicate errors correctly.\n     */\n    *end(forceDoc = false, endOffset = -1) {\n        if (this.doc) {\n            this.decorate(this.doc, true);\n            yield this.doc;\n            this.doc = null;\n        }\n        else if (forceDoc) {\n            const opts = Object.assign({ _directives: this.directives }, this.options);\n            const doc = new Document.Document(undefined, opts);\n            if (this.atDirectives)\n                this.onError(endOffset, 'MISSING_CHAR', 'Missing directives-end indicator line');\n            doc.range = [0, endOffset, endOffset];\n            this.decorate(doc, false);\n            yield doc;\n        }\n    }\n}\n\nexports.Composer = Composer;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignatureHelpFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass SignatureHelpFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let config = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'signatureHelp');\n        config.dynamicRegistration = true;\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\n        config.signatureInformation.activeParameterSupport = true;\n        config.contextSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.signatureHelpProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideSignatureHelp: (document, position, token, context) => {\n                const client = this._client;\n                const providerSignatureHelp = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asSignatureHelpParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSignatureHelp(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideSignatureHelp\n                    ? middleware.provideSignatureHelp(document, position, context, token, providerSignatureHelp)\n                    : providerSignatureHelp(document, position, context, token);\n            }\n        };\n        return [this.registerProvider(options, provider), provider];\n    }\n    registerProvider(options, provider) {\n        const selector = this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector);\n        if (options.retriggerCharacters === undefined) {\n            const triggerCharacters = options.triggerCharacters || [];\n            return vscode_1.languages.registerSignatureHelpProvider(selector, provider, ...triggerCharacters);\n        }\n        else {\n            const metaData = {\n                triggerCharacters: options.triggerCharacters || [],\n                retriggerCharacters: options.retriggerCharacters || []\n            };\n            return vscode_1.languages.registerSignatureHelpProvider(selector, provider, metaData);\n        }\n    }\n}\nexports.SignatureHelpFeature = SignatureHelpFeature;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable || (exports.Disposable = Disposable = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticPullMode = exports.vsdiag = void 0;\n__exportStar(require(\"vscode-languageserver-protocol\"), exports);\n__exportStar(require(\"./features\"), exports);\nvar diagnostic_1 = require(\"./diagnostic\");\nObject.defineProperty(exports, \"vsdiag\", { enumerable: true, get: function () { return diagnostic_1.vsdiag; } });\nObject.defineProperty(exports, \"DiagnosticPullMode\", { enumerable: true, get: function () { return diagnostic_1.DiagnosticPullMode; } });\n__exportStar(require(\"./client\"), exports);\n","(function (factory) {\n    if (typeof module === \"object\" && typeof module.exports === \"object\") {\n        var v = factory(require, exports);\n        if (v !== undefined) module.exports = v;\n    }\n    else if (typeof define === \"function\" && define.amd) {\n        define([\"require\", \"exports\"], factory);\n    }\n})(function (require, exports) {\n    /* --------------------------------------------------------------------------------------------\n     * Copyright (c) Microsoft Corporation. All rights reserved.\n     * Licensed under the MIT License. See License.txt in the project root for license information.\n     * ------------------------------------------------------------------------------------------ */\n    'use strict';\n    Object.defineProperty(exports, \"__esModule\", { value: true });\n    exports.TextDocument = exports.EOL = exports.WorkspaceFolder = exports.InlineCompletionContext = exports.SelectedCompletionInfo = exports.InlineCompletionTriggerKind = exports.InlineCompletionList = exports.InlineCompletionItem = exports.StringValue = exports.InlayHint = exports.InlayHintLabelPart = exports.InlayHintKind = exports.InlineValueContext = exports.InlineValueEvaluatableExpression = exports.InlineValueVariableLookup = exports.InlineValueText = exports.SemanticTokens = exports.SemanticTokenModifiers = exports.SemanticTokenTypes = exports.SelectionRange = exports.DocumentLink = exports.FormattingOptions = exports.CodeLens = exports.CodeAction = exports.CodeActionContext = exports.CodeActionTriggerKind = exports.CodeActionKind = exports.DocumentSymbol = exports.WorkspaceSymbol = exports.SymbolInformation = exports.SymbolTag = exports.SymbolKind = exports.DocumentHighlight = exports.DocumentHighlightKind = exports.SignatureInformation = exports.ParameterInformation = exports.Hover = exports.MarkedString = exports.CompletionList = exports.CompletionItem = exports.CompletionItemLabelDetails = exports.InsertTextMode = exports.InsertReplaceEdit = exports.CompletionItemTag = exports.InsertTextFormat = exports.CompletionItemKind = exports.MarkupContent = exports.MarkupKind = exports.TextDocumentItem = exports.OptionalVersionedTextDocumentIdentifier = exports.VersionedTextDocumentIdentifier = exports.TextDocumentIdentifier = exports.WorkspaceChange = exports.WorkspaceEdit = exports.DeleteFile = exports.RenameFile = exports.CreateFile = exports.TextDocumentEdit = exports.AnnotatedTextEdit = exports.ChangeAnnotationIdentifier = exports.ChangeAnnotation = exports.TextEdit = exports.Command = exports.Diagnostic = exports.CodeDescription = exports.DiagnosticTag = exports.DiagnosticSeverity = exports.DiagnosticRelatedInformation = exports.FoldingRange = exports.FoldingRangeKind = exports.ColorPresentation = exports.ColorInformation = exports.Color = exports.LocationLink = exports.Location = exports.Range = exports.Position = exports.uinteger = exports.integer = exports.URI = exports.DocumentUri = void 0;\n    var DocumentUri;\n    (function (DocumentUri) {\n        function is(value) {\n            return typeof value === 'string';\n        }\n        DocumentUri.is = is;\n    })(DocumentUri || (exports.DocumentUri = DocumentUri = {}));\n    var URI;\n    (function (URI) {\n        function is(value) {\n            return typeof value === 'string';\n        }\n        URI.is = is;\n    })(URI || (exports.URI = URI = {}));\n    var integer;\n    (function (integer) {\n        integer.MIN_VALUE = -2147483648;\n        integer.MAX_VALUE = 2147483647;\n        function is(value) {\n            return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n        }\n        integer.is = is;\n    })(integer || (exports.integer = integer = {}));\n    var uinteger;\n    (function (uinteger) {\n        uinteger.MIN_VALUE = 0;\n        uinteger.MAX_VALUE = 2147483647;\n        function is(value) {\n            return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n        }\n        uinteger.is = is;\n    })(uinteger || (exports.uinteger = uinteger = {}));\n    /**\n     * The Position namespace provides helper functions to work with\n     * {@link Position} literals.\n     */\n    var Position;\n    (function (Position) {\n        /**\n         * Creates a new Position literal from the given line and character.\n         * @param line The position's line.\n         * @param character The position's character.\n         */\n        function create(line, character) {\n            if (line === Number.MAX_VALUE) {\n                line = uinteger.MAX_VALUE;\n            }\n            if (character === Number.MAX_VALUE) {\n                character = uinteger.MAX_VALUE;\n            }\n            return { line: line, character: character };\n        }\n        Position.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Position} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n        }\n        Position.is = is;\n    })(Position || (exports.Position = Position = {}));\n    /**\n     * The Range namespace provides helper functions to work with\n     * {@link Range} literals.\n     */\n    var Range;\n    (function (Range) {\n        function create(one, two, three, four) {\n            if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n                return { start: Position.create(one, two), end: Position.create(three, four) };\n            }\n            else if (Position.is(one) && Position.is(two)) {\n                return { start: one, end: two };\n            }\n            else {\n                throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n            }\n        }\n        Range.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Range} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n        }\n        Range.is = is;\n    })(Range || (exports.Range = Range = {}));\n    /**\n     * The Location namespace provides helper functions to work with\n     * {@link Location} literals.\n     */\n    var Location;\n    (function (Location) {\n        /**\n         * Creates a Location literal.\n         * @param uri The location's uri.\n         * @param range The location's range.\n         */\n        function create(uri, range) {\n            return { uri: uri, range: range };\n        }\n        Location.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Location} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n        }\n        Location.is = is;\n    })(Location || (exports.Location = Location = {}));\n    /**\n     * The LocationLink namespace provides helper functions to work with\n     * {@link LocationLink} literals.\n     */\n    var LocationLink;\n    (function (LocationLink) {\n        /**\n         * Creates a LocationLink literal.\n         * @param targetUri The definition's uri.\n         * @param targetRange The full range of the definition.\n         * @param targetSelectionRange The span of the symbol definition at the target.\n         * @param originSelectionRange The span of the symbol being defined in the originating source file.\n         */\n        function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n            return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n        }\n        LocationLink.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link LocationLink} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n                && Range.is(candidate.targetSelectionRange)\n                && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n        }\n        LocationLink.is = is;\n    })(LocationLink || (exports.LocationLink = LocationLink = {}));\n    /**\n     * The Color namespace provides helper functions to work with\n     * {@link Color} literals.\n     */\n    var Color;\n    (function (Color) {\n        /**\n         * Creates a new Color literal.\n         */\n        function create(red, green, blue, alpha) {\n            return {\n                red: red,\n                green: green,\n                blue: blue,\n                alpha: alpha,\n            };\n        }\n        Color.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Color} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n                && Is.numberRange(candidate.green, 0, 1)\n                && Is.numberRange(candidate.blue, 0, 1)\n                && Is.numberRange(candidate.alpha, 0, 1);\n        }\n        Color.is = is;\n    })(Color || (exports.Color = Color = {}));\n    /**\n     * The ColorInformation namespace provides helper functions to work with\n     * {@link ColorInformation} literals.\n     */\n    var ColorInformation;\n    (function (ColorInformation) {\n        /**\n         * Creates a new ColorInformation literal.\n         */\n        function create(range, color) {\n            return {\n                range: range,\n                color: color,\n            };\n        }\n        ColorInformation.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n        }\n        ColorInformation.is = is;\n    })(ColorInformation || (exports.ColorInformation = ColorInformation = {}));\n    /**\n     * The Color namespace provides helper functions to work with\n     * {@link ColorPresentation} literals.\n     */\n    var ColorPresentation;\n    (function (ColorPresentation) {\n        /**\n         * Creates a new ColorInformation literal.\n         */\n        function create(label, textEdit, additionalTextEdits) {\n            return {\n                label: label,\n                textEdit: textEdit,\n                additionalTextEdits: additionalTextEdits,\n            };\n        }\n        ColorPresentation.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link ColorInformation} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.string(candidate.label)\n                && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n                && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n        }\n        ColorPresentation.is = is;\n    })(ColorPresentation || (exports.ColorPresentation = ColorPresentation = {}));\n    /**\n     * A set of predefined range kinds.\n     */\n    var FoldingRangeKind;\n    (function (FoldingRangeKind) {\n        /**\n         * Folding range for a comment\n         */\n        FoldingRangeKind.Comment = 'comment';\n        /**\n         * Folding range for an import or include\n         */\n        FoldingRangeKind.Imports = 'imports';\n        /**\n         * Folding range for a region (e.g. `#region`)\n         */\n        FoldingRangeKind.Region = 'region';\n    })(FoldingRangeKind || (exports.FoldingRangeKind = FoldingRangeKind = {}));\n    /**\n     * The folding range namespace provides helper functions to work with\n     * {@link FoldingRange} literals.\n     */\n    var FoldingRange;\n    (function (FoldingRange) {\n        /**\n         * Creates a new FoldingRange literal.\n         */\n        function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n            var result = {\n                startLine: startLine,\n                endLine: endLine\n            };\n            if (Is.defined(startCharacter)) {\n                result.startCharacter = startCharacter;\n            }\n            if (Is.defined(endCharacter)) {\n                result.endCharacter = endCharacter;\n            }\n            if (Is.defined(kind)) {\n                result.kind = kind;\n            }\n            if (Is.defined(collapsedText)) {\n                result.collapsedText = collapsedText;\n            }\n            return result;\n        }\n        FoldingRange.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link FoldingRange} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n                && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n                && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n                && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n        }\n        FoldingRange.is = is;\n    })(FoldingRange || (exports.FoldingRange = FoldingRange = {}));\n    /**\n     * The DiagnosticRelatedInformation namespace provides helper functions to work with\n     * {@link DiagnosticRelatedInformation} literals.\n     */\n    var DiagnosticRelatedInformation;\n    (function (DiagnosticRelatedInformation) {\n        /**\n         * Creates a new DiagnosticRelatedInformation literal.\n         */\n        function create(location, message) {\n            return {\n                location: location,\n                message: message\n            };\n        }\n        DiagnosticRelatedInformation.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link DiagnosticRelatedInformation} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n        }\n        DiagnosticRelatedInformation.is = is;\n    })(DiagnosticRelatedInformation || (exports.DiagnosticRelatedInformation = DiagnosticRelatedInformation = {}));\n    /**\n     * The diagnostic's severity.\n     */\n    var DiagnosticSeverity;\n    (function (DiagnosticSeverity) {\n        /**\n         * Reports an error.\n         */\n        DiagnosticSeverity.Error = 1;\n        /**\n         * Reports a warning.\n         */\n        DiagnosticSeverity.Warning = 2;\n        /**\n         * Reports an information.\n         */\n        DiagnosticSeverity.Information = 3;\n        /**\n         * Reports a hint.\n         */\n        DiagnosticSeverity.Hint = 4;\n    })(DiagnosticSeverity || (exports.DiagnosticSeverity = DiagnosticSeverity = {}));\n    /**\n     * The diagnostic tags.\n     *\n     * @since 3.15.0\n     */\n    var DiagnosticTag;\n    (function (DiagnosticTag) {\n        /**\n         * Unused or unnecessary code.\n         *\n         * Clients are allowed to render diagnostics with this tag faded out instead of having\n         * an error squiggle.\n         */\n        DiagnosticTag.Unnecessary = 1;\n        /**\n         * Deprecated or obsolete code.\n         *\n         * Clients are allowed to rendered diagnostics with this tag strike through.\n         */\n        DiagnosticTag.Deprecated = 2;\n    })(DiagnosticTag || (exports.DiagnosticTag = DiagnosticTag = {}));\n    /**\n     * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n     *\n     * @since 3.16.0\n     */\n    var CodeDescription;\n    (function (CodeDescription) {\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.string(candidate.href);\n        }\n        CodeDescription.is = is;\n    })(CodeDescription || (exports.CodeDescription = CodeDescription = {}));\n    /**\n     * The Diagnostic namespace provides helper functions to work with\n     * {@link Diagnostic} literals.\n     */\n    var Diagnostic;\n    (function (Diagnostic) {\n        /**\n         * Creates a new Diagnostic literal.\n         */\n        function create(range, message, severity, code, source, relatedInformation) {\n            var result = { range: range, message: message };\n            if (Is.defined(severity)) {\n                result.severity = severity;\n            }\n            if (Is.defined(code)) {\n                result.code = code;\n            }\n            if (Is.defined(source)) {\n                result.source = source;\n            }\n            if (Is.defined(relatedInformation)) {\n                result.relatedInformation = relatedInformation;\n            }\n            return result;\n        }\n        Diagnostic.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Diagnostic} interface.\n         */\n        function is(value) {\n            var _a;\n            var candidate = value;\n            return Is.defined(candidate)\n                && Range.is(candidate.range)\n                && Is.string(candidate.message)\n                && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n                && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n                && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n                && (Is.string(candidate.source) || Is.undefined(candidate.source))\n                && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n        }\n        Diagnostic.is = is;\n    })(Diagnostic || (exports.Diagnostic = Diagnostic = {}));\n    /**\n     * The Command namespace provides helper functions to work with\n     * {@link Command} literals.\n     */\n    var Command;\n    (function (Command) {\n        /**\n         * Creates a new Command literal.\n         */\n        function create(title, command) {\n            var args = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                args[_i - 2] = arguments[_i];\n            }\n            var result = { title: title, command: command };\n            if (Is.defined(args) && args.length > 0) {\n                result.arguments = args;\n            }\n            return result;\n        }\n        Command.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link Command} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n        }\n        Command.is = is;\n    })(Command || (exports.Command = Command = {}));\n    /**\n     * The TextEdit namespace provides helper function to create replace,\n     * insert and delete edits more easily.\n     */\n    var TextEdit;\n    (function (TextEdit) {\n        /**\n         * Creates a replace text edit.\n         * @param range The range of text to be replaced.\n         * @param newText The new text.\n         */\n        function replace(range, newText) {\n            return { range: range, newText: newText };\n        }\n        TextEdit.replace = replace;\n        /**\n         * Creates an insert text edit.\n         * @param position The position to insert the text at.\n         * @param newText The text to be inserted.\n         */\n        function insert(position, newText) {\n            return { range: { start: position, end: position }, newText: newText };\n        }\n        TextEdit.insert = insert;\n        /**\n         * Creates a delete text edit.\n         * @param range The range of text to be deleted.\n         */\n        function del(range) {\n            return { range: range, newText: '' };\n        }\n        TextEdit.del = del;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate)\n                && Is.string(candidate.newText)\n                && Range.is(candidate.range);\n        }\n        TextEdit.is = is;\n    })(TextEdit || (exports.TextEdit = TextEdit = {}));\n    var ChangeAnnotation;\n    (function (ChangeAnnotation) {\n        function create(label, needsConfirmation, description) {\n            var result = { label: label };\n            if (needsConfirmation !== undefined) {\n                result.needsConfirmation = needsConfirmation;\n            }\n            if (description !== undefined) {\n                result.description = description;\n            }\n            return result;\n        }\n        ChangeAnnotation.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n                (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n                (Is.string(candidate.description) || candidate.description === undefined);\n        }\n        ChangeAnnotation.is = is;\n    })(ChangeAnnotation || (exports.ChangeAnnotation = ChangeAnnotation = {}));\n    var ChangeAnnotationIdentifier;\n    (function (ChangeAnnotationIdentifier) {\n        function is(value) {\n            var candidate = value;\n            return Is.string(candidate);\n        }\n        ChangeAnnotationIdentifier.is = is;\n    })(ChangeAnnotationIdentifier || (exports.ChangeAnnotationIdentifier = ChangeAnnotationIdentifier = {}));\n    var AnnotatedTextEdit;\n    (function (AnnotatedTextEdit) {\n        /**\n         * Creates an annotated replace text edit.\n         *\n         * @param range The range of text to be replaced.\n         * @param newText The new text.\n         * @param annotation The annotation.\n         */\n        function replace(range, newText, annotation) {\n            return { range: range, newText: newText, annotationId: annotation };\n        }\n        AnnotatedTextEdit.replace = replace;\n        /**\n         * Creates an annotated insert text edit.\n         *\n         * @param position The position to insert the text at.\n         * @param newText The text to be inserted.\n         * @param annotation The annotation.\n         */\n        function insert(position, newText, annotation) {\n            return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n        }\n        AnnotatedTextEdit.insert = insert;\n        /**\n         * Creates an annotated delete text edit.\n         *\n         * @param range The range of text to be deleted.\n         * @param annotation The annotation.\n         */\n        function del(range, annotation) {\n            return { range: range, newText: '', annotationId: annotation };\n        }\n        AnnotatedTextEdit.del = del;\n        function is(value) {\n            var candidate = value;\n            return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        AnnotatedTextEdit.is = is;\n    })(AnnotatedTextEdit || (exports.AnnotatedTextEdit = AnnotatedTextEdit = {}));\n    /**\n     * The TextDocumentEdit namespace provides helper function to create\n     * an edit that manipulates a text document.\n     */\n    var TextDocumentEdit;\n    (function (TextDocumentEdit) {\n        /**\n         * Creates a new `TextDocumentEdit`\n         */\n        function create(textDocument, edits) {\n            return { textDocument: textDocument, edits: edits };\n        }\n        TextDocumentEdit.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate)\n                && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n                && Array.isArray(candidate.edits);\n        }\n        TextDocumentEdit.is = is;\n    })(TextDocumentEdit || (exports.TextDocumentEdit = TextDocumentEdit = {}));\n    var CreateFile;\n    (function (CreateFile) {\n        function create(uri, options, annotation) {\n            var result = {\n                kind: 'create',\n                uri: uri\n            };\n            if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        CreateFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n                ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        CreateFile.is = is;\n    })(CreateFile || (exports.CreateFile = CreateFile = {}));\n    var RenameFile;\n    (function (RenameFile) {\n        function create(oldUri, newUri, options, annotation) {\n            var result = {\n                kind: 'rename',\n                oldUri: oldUri,\n                newUri: newUri\n            };\n            if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        RenameFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n                ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        RenameFile.is = is;\n    })(RenameFile || (exports.RenameFile = RenameFile = {}));\n    var DeleteFile;\n    (function (DeleteFile) {\n        function create(uri, options, annotation) {\n            var result = {\n                kind: 'delete',\n                uri: uri\n            };\n            if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n                result.options = options;\n            }\n            if (annotation !== undefined) {\n                result.annotationId = annotation;\n            }\n            return result;\n        }\n        DeleteFile.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n                ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n        }\n        DeleteFile.is = is;\n    })(DeleteFile || (exports.DeleteFile = DeleteFile = {}));\n    var WorkspaceEdit;\n    (function (WorkspaceEdit) {\n        function is(value) {\n            var candidate = value;\n            return candidate &&\n                (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n                (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                    if (Is.string(change.kind)) {\n                        return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                    }\n                    else {\n                        return TextDocumentEdit.is(change);\n                    }\n                }));\n        }\n        WorkspaceEdit.is = is;\n    })(WorkspaceEdit || (exports.WorkspaceEdit = WorkspaceEdit = {}));\n    var TextEditChangeImpl = /** @class */ (function () {\n        function TextEditChangeImpl(edits, changeAnnotations) {\n            this.edits = edits;\n            this.changeAnnotations = changeAnnotations;\n        }\n        TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.insert(position, newText);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.insert(position, newText, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.insert(position, newText, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.replace(range, newText);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.replace(range, newText, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.replace(range, newText, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.delete = function (range, annotation) {\n            var edit;\n            var id;\n            if (annotation === undefined) {\n                edit = TextEdit.del(range);\n            }\n            else if (ChangeAnnotationIdentifier.is(annotation)) {\n                id = annotation;\n                edit = AnnotatedTextEdit.del(range, annotation);\n            }\n            else {\n                this.assertChangeAnnotations(this.changeAnnotations);\n                id = this.changeAnnotations.manage(annotation);\n                edit = AnnotatedTextEdit.del(range, id);\n            }\n            this.edits.push(edit);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        TextEditChangeImpl.prototype.add = function (edit) {\n            this.edits.push(edit);\n        };\n        TextEditChangeImpl.prototype.all = function () {\n            return this.edits;\n        };\n        TextEditChangeImpl.prototype.clear = function () {\n            this.edits.splice(0, this.edits.length);\n        };\n        TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n            if (value === undefined) {\n                throw new Error(\"Text edit change is not configured to manage change annotations.\");\n            }\n        };\n        return TextEditChangeImpl;\n    }());\n    /**\n     * A helper class\n     */\n    var ChangeAnnotations = /** @class */ (function () {\n        function ChangeAnnotations(annotations) {\n            this._annotations = annotations === undefined ? Object.create(null) : annotations;\n            this._counter = 0;\n            this._size = 0;\n        }\n        ChangeAnnotations.prototype.all = function () {\n            return this._annotations;\n        };\n        Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n            get: function () {\n                return this._size;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n            var id;\n            if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n                id = idOrAnnotation;\n            }\n            else {\n                id = this.nextId();\n                annotation = idOrAnnotation;\n            }\n            if (this._annotations[id] !== undefined) {\n                throw new Error(\"Id \".concat(id, \" is already in use.\"));\n            }\n            if (annotation === undefined) {\n                throw new Error(\"No annotation provided for id \".concat(id));\n            }\n            this._annotations[id] = annotation;\n            this._size++;\n            return id;\n        };\n        ChangeAnnotations.prototype.nextId = function () {\n            this._counter++;\n            return this._counter.toString();\n        };\n        return ChangeAnnotations;\n    }());\n    /**\n     * A workspace change helps constructing changes to a workspace.\n     */\n    var WorkspaceChange = /** @class */ (function () {\n        function WorkspaceChange(workspaceEdit) {\n            var _this = this;\n            this._textEditChanges = Object.create(null);\n            if (workspaceEdit !== undefined) {\n                this._workspaceEdit = workspaceEdit;\n                if (workspaceEdit.documentChanges) {\n                    this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                    workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                    workspaceEdit.documentChanges.forEach(function (change) {\n                        if (TextDocumentEdit.is(change)) {\n                            var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                            _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                        }\n                    });\n                }\n                else if (workspaceEdit.changes) {\n                    Object.keys(workspaceEdit.changes).forEach(function (key) {\n                        var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                        _this._textEditChanges[key] = textEditChange;\n                    });\n                }\n            }\n            else {\n                this._workspaceEdit = {};\n            }\n        }\n        Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n            /**\n             * Returns the underlying {@link WorkspaceEdit} literal\n             * use to be returned from a workspace edit operation like rename.\n             */\n            get: function () {\n                this.initDocumentChanges();\n                if (this._changeAnnotations !== undefined) {\n                    if (this._changeAnnotations.size === 0) {\n                        this._workspaceEdit.changeAnnotations = undefined;\n                    }\n                    else {\n                        this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                    }\n                }\n                return this._workspaceEdit;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        WorkspaceChange.prototype.getTextEditChange = function (key) {\n            if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n                this.initDocumentChanges();\n                if (this._workspaceEdit.documentChanges === undefined) {\n                    throw new Error('Workspace edit is not configured for document changes.');\n                }\n                var textDocument = { uri: key.uri, version: key.version };\n                var result = this._textEditChanges[textDocument.uri];\n                if (!result) {\n                    var edits = [];\n                    var textDocumentEdit = {\n                        textDocument: textDocument,\n                        edits: edits\n                    };\n                    this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                    result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                    this._textEditChanges[textDocument.uri] = result;\n                }\n                return result;\n            }\n            else {\n                this.initChanges();\n                if (this._workspaceEdit.changes === undefined) {\n                    throw new Error('Workspace edit is not configured for normal text edit changes.');\n                }\n                var result = this._textEditChanges[key];\n                if (!result) {\n                    var edits = [];\n                    this._workspaceEdit.changes[key] = edits;\n                    result = new TextEditChangeImpl(edits);\n                    this._textEditChanges[key] = result;\n                }\n                return result;\n            }\n        };\n        WorkspaceChange.prototype.initDocumentChanges = function () {\n            if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n                this._changeAnnotations = new ChangeAnnotations();\n                this._workspaceEdit.documentChanges = [];\n                this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n            }\n        };\n        WorkspaceChange.prototype.initChanges = function () {\n            if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n                this._workspaceEdit.changes = Object.create(null);\n            }\n        };\n        WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = CreateFile.create(uri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = CreateFile.create(uri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = RenameFile.create(oldUri, newUri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = RenameFile.create(oldUri, newUri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var annotation;\n            if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n                annotation = optionsOrAnnotation;\n            }\n            else {\n                options = optionsOrAnnotation;\n            }\n            var operation;\n            var id;\n            if (annotation === undefined) {\n                operation = DeleteFile.create(uri, options);\n            }\n            else {\n                id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n                operation = DeleteFile.create(uri, options, id);\n            }\n            this._workspaceEdit.documentChanges.push(operation);\n            if (id !== undefined) {\n                return id;\n            }\n        };\n        return WorkspaceChange;\n    }());\n    exports.WorkspaceChange = WorkspaceChange;\n    /**\n     * The TextDocumentIdentifier namespace provides helper functions to work with\n     * {@link TextDocumentIdentifier} literals.\n     */\n    var TextDocumentIdentifier;\n    (function (TextDocumentIdentifier) {\n        /**\n         * Creates a new TextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         */\n        function create(uri) {\n            return { uri: uri };\n        }\n        TextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link TextDocumentIdentifier} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri);\n        }\n        TextDocumentIdentifier.is = is;\n    })(TextDocumentIdentifier || (exports.TextDocumentIdentifier = TextDocumentIdentifier = {}));\n    /**\n     * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n     * {@link VersionedTextDocumentIdentifier} literals.\n     */\n    var VersionedTextDocumentIdentifier;\n    (function (VersionedTextDocumentIdentifier) {\n        /**\n         * Creates a new VersionedTextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         * @param version The document's version.\n         */\n        function create(uri, version) {\n            return { uri: uri, version: version };\n        }\n        VersionedTextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link VersionedTextDocumentIdentifier} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n        }\n        VersionedTextDocumentIdentifier.is = is;\n    })(VersionedTextDocumentIdentifier || (exports.VersionedTextDocumentIdentifier = VersionedTextDocumentIdentifier = {}));\n    /**\n     * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n     * {@link OptionalVersionedTextDocumentIdentifier} literals.\n     */\n    var OptionalVersionedTextDocumentIdentifier;\n    (function (OptionalVersionedTextDocumentIdentifier) {\n        /**\n         * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n         * @param uri The document's uri.\n         * @param version The document's version.\n         */\n        function create(uri, version) {\n            return { uri: uri, version: version };\n        }\n        OptionalVersionedTextDocumentIdentifier.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link OptionalVersionedTextDocumentIdentifier} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n        }\n        OptionalVersionedTextDocumentIdentifier.is = is;\n    })(OptionalVersionedTextDocumentIdentifier || (exports.OptionalVersionedTextDocumentIdentifier = OptionalVersionedTextDocumentIdentifier = {}));\n    /**\n     * The TextDocumentItem namespace provides helper functions to work with\n     * {@link TextDocumentItem} literals.\n     */\n    var TextDocumentItem;\n    (function (TextDocumentItem) {\n        /**\n         * Creates a new TextDocumentItem literal.\n         * @param uri The document's uri.\n         * @param languageId The document's language identifier.\n         * @param version The document's version number.\n         * @param text The document's text.\n         */\n        function create(uri, languageId, version, text) {\n            return { uri: uri, languageId: languageId, version: version, text: text };\n        }\n        TextDocumentItem.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link TextDocumentItem} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n        }\n        TextDocumentItem.is = is;\n    })(TextDocumentItem || (exports.TextDocumentItem = TextDocumentItem = {}));\n    /**\n     * Describes the content type that a client supports in various\n     * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n     *\n     * Please note that `MarkupKinds` must not start with a `$`. This kinds\n     * are reserved for internal usage.\n     */\n    var MarkupKind;\n    (function (MarkupKind) {\n        /**\n         * Plain text is supported as a content format\n         */\n        MarkupKind.PlainText = 'plaintext';\n        /**\n         * Markdown is supported as a content format\n         */\n        MarkupKind.Markdown = 'markdown';\n        /**\n         * Checks whether the given value is a value of the {@link MarkupKind} type.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n        }\n        MarkupKind.is = is;\n    })(MarkupKind || (exports.MarkupKind = MarkupKind = {}));\n    var MarkupContent;\n    (function (MarkupContent) {\n        /**\n         * Checks whether the given value conforms to the {@link MarkupContent} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n        }\n        MarkupContent.is = is;\n    })(MarkupContent || (exports.MarkupContent = MarkupContent = {}));\n    /**\n     * The kind of a completion entry.\n     */\n    var CompletionItemKind;\n    (function (CompletionItemKind) {\n        CompletionItemKind.Text = 1;\n        CompletionItemKind.Method = 2;\n        CompletionItemKind.Function = 3;\n        CompletionItemKind.Constructor = 4;\n        CompletionItemKind.Field = 5;\n        CompletionItemKind.Variable = 6;\n        CompletionItemKind.Class = 7;\n        CompletionItemKind.Interface = 8;\n        CompletionItemKind.Module = 9;\n        CompletionItemKind.Property = 10;\n        CompletionItemKind.Unit = 11;\n        CompletionItemKind.Value = 12;\n        CompletionItemKind.Enum = 13;\n        CompletionItemKind.Keyword = 14;\n        CompletionItemKind.Snippet = 15;\n        CompletionItemKind.Color = 16;\n        CompletionItemKind.File = 17;\n        CompletionItemKind.Reference = 18;\n        CompletionItemKind.Folder = 19;\n        CompletionItemKind.EnumMember = 20;\n        CompletionItemKind.Constant = 21;\n        CompletionItemKind.Struct = 22;\n        CompletionItemKind.Event = 23;\n        CompletionItemKind.Operator = 24;\n        CompletionItemKind.TypeParameter = 25;\n    })(CompletionItemKind || (exports.CompletionItemKind = CompletionItemKind = {}));\n    /**\n     * Defines whether the insert text in a completion item should be interpreted as\n     * plain text or a snippet.\n     */\n    var InsertTextFormat;\n    (function (InsertTextFormat) {\n        /**\n         * The primary text to be inserted is treated as a plain string.\n         */\n        InsertTextFormat.PlainText = 1;\n        /**\n         * The primary text to be inserted is treated as a snippet.\n         *\n         * A snippet can define tab stops and placeholders with `$1`, `$2`\n         * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n         * the end of the snippet. Placeholders with equal identifiers are linked,\n         * that is typing in one will update others too.\n         *\n         * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n         */\n        InsertTextFormat.Snippet = 2;\n    })(InsertTextFormat || (exports.InsertTextFormat = InsertTextFormat = {}));\n    /**\n     * Completion item tags are extra annotations that tweak the rendering of a completion\n     * item.\n     *\n     * @since 3.15.0\n     */\n    var CompletionItemTag;\n    (function (CompletionItemTag) {\n        /**\n         * Render a completion as obsolete, usually using a strike-out.\n         */\n        CompletionItemTag.Deprecated = 1;\n    })(CompletionItemTag || (exports.CompletionItemTag = CompletionItemTag = {}));\n    /**\n     * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n     *\n     * @since 3.16.0\n     */\n    var InsertReplaceEdit;\n    (function (InsertReplaceEdit) {\n        /**\n         * Creates a new insert / replace edit\n         */\n        function create(newText, insert, replace) {\n            return { newText: newText, insert: insert, replace: replace };\n        }\n        InsertReplaceEdit.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link InsertReplaceEdit} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n        }\n        InsertReplaceEdit.is = is;\n    })(InsertReplaceEdit || (exports.InsertReplaceEdit = InsertReplaceEdit = {}));\n    /**\n     * How whitespace and indentation is handled during completion\n     * item insertion.\n     *\n     * @since 3.16.0\n     */\n    var InsertTextMode;\n    (function (InsertTextMode) {\n        /**\n         * The insertion or replace strings is taken as it is. If the\n         * value is multi line the lines below the cursor will be\n         * inserted using the indentation defined in the string value.\n         * The client will not apply any kind of adjustments to the\n         * string.\n         */\n        InsertTextMode.asIs = 1;\n        /**\n         * The editor adjusts leading whitespace of new lines so that\n         * they match the indentation up to the cursor of the line for\n         * which the item is accepted.\n         *\n         * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n         * multi line completion item is indented using 2 tabs and all\n         * following lines inserted will be indented using 2 tabs as well.\n         */\n        InsertTextMode.adjustIndentation = 2;\n    })(InsertTextMode || (exports.InsertTextMode = InsertTextMode = {}));\n    var CompletionItemLabelDetails;\n    (function (CompletionItemLabelDetails) {\n        function is(value) {\n            var candidate = value;\n            return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n                (Is.string(candidate.description) || candidate.description === undefined);\n        }\n        CompletionItemLabelDetails.is = is;\n    })(CompletionItemLabelDetails || (exports.CompletionItemLabelDetails = CompletionItemLabelDetails = {}));\n    /**\n     * The CompletionItem namespace provides functions to deal with\n     * completion items.\n     */\n    var CompletionItem;\n    (function (CompletionItem) {\n        /**\n         * Create a completion item and seed it with a label.\n         * @param label The completion item's label\n         */\n        function create(label) {\n            return { label: label };\n        }\n        CompletionItem.create = create;\n    })(CompletionItem || (exports.CompletionItem = CompletionItem = {}));\n    /**\n     * The CompletionList namespace provides functions to deal with\n     * completion lists.\n     */\n    var CompletionList;\n    (function (CompletionList) {\n        /**\n         * Creates a new completion list.\n         *\n         * @param items The completion items.\n         * @param isIncomplete The list is not complete.\n         */\n        function create(items, isIncomplete) {\n            return { items: items ? items : [], isIncomplete: !!isIncomplete };\n        }\n        CompletionList.create = create;\n    })(CompletionList || (exports.CompletionList = CompletionList = {}));\n    var MarkedString;\n    (function (MarkedString) {\n        /**\n         * Creates a marked string from plain text.\n         *\n         * @param plainText The plain text.\n         */\n        function fromPlainText(plainText) {\n            return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n        }\n        MarkedString.fromPlainText = fromPlainText;\n        /**\n         * Checks whether the given value conforms to the {@link MarkedString} type.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n        }\n        MarkedString.is = is;\n    })(MarkedString || (exports.MarkedString = MarkedString = {}));\n    var Hover;\n    (function (Hover) {\n        /**\n         * Checks whether the given value conforms to the {@link Hover} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n                MarkedString.is(candidate.contents) ||\n                Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n        }\n        Hover.is = is;\n    })(Hover || (exports.Hover = Hover = {}));\n    /**\n     * The ParameterInformation namespace provides helper functions to work with\n     * {@link ParameterInformation} literals.\n     */\n    var ParameterInformation;\n    (function (ParameterInformation) {\n        /**\n         * Creates a new parameter information literal.\n         *\n         * @param label A label string.\n         * @param documentation A doc string.\n         */\n        function create(label, documentation) {\n            return documentation ? { label: label, documentation: documentation } : { label: label };\n        }\n        ParameterInformation.create = create;\n    })(ParameterInformation || (exports.ParameterInformation = ParameterInformation = {}));\n    /**\n     * The SignatureInformation namespace provides helper functions to work with\n     * {@link SignatureInformation} literals.\n     */\n    var SignatureInformation;\n    (function (SignatureInformation) {\n        function create(label, documentation) {\n            var parameters = [];\n            for (var _i = 2; _i < arguments.length; _i++) {\n                parameters[_i - 2] = arguments[_i];\n            }\n            var result = { label: label };\n            if (Is.defined(documentation)) {\n                result.documentation = documentation;\n            }\n            if (Is.defined(parameters)) {\n                result.parameters = parameters;\n            }\n            else {\n                result.parameters = [];\n            }\n            return result;\n        }\n        SignatureInformation.create = create;\n    })(SignatureInformation || (exports.SignatureInformation = SignatureInformation = {}));\n    /**\n     * A document highlight kind.\n     */\n    var DocumentHighlightKind;\n    (function (DocumentHighlightKind) {\n        /**\n         * A textual occurrence.\n         */\n        DocumentHighlightKind.Text = 1;\n        /**\n         * Read-access of a symbol, like reading a variable.\n         */\n        DocumentHighlightKind.Read = 2;\n        /**\n         * Write-access of a symbol, like writing to a variable.\n         */\n        DocumentHighlightKind.Write = 3;\n    })(DocumentHighlightKind || (exports.DocumentHighlightKind = DocumentHighlightKind = {}));\n    /**\n     * DocumentHighlight namespace to provide helper functions to work with\n     * {@link DocumentHighlight} literals.\n     */\n    var DocumentHighlight;\n    (function (DocumentHighlight) {\n        /**\n         * Create a DocumentHighlight object.\n         * @param range The range the highlight applies to.\n         * @param kind The highlight kind\n         */\n        function create(range, kind) {\n            var result = { range: range };\n            if (Is.number(kind)) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        DocumentHighlight.create = create;\n    })(DocumentHighlight || (exports.DocumentHighlight = DocumentHighlight = {}));\n    /**\n     * A symbol kind.\n     */\n    var SymbolKind;\n    (function (SymbolKind) {\n        SymbolKind.File = 1;\n        SymbolKind.Module = 2;\n        SymbolKind.Namespace = 3;\n        SymbolKind.Package = 4;\n        SymbolKind.Class = 5;\n        SymbolKind.Method = 6;\n        SymbolKind.Property = 7;\n        SymbolKind.Field = 8;\n        SymbolKind.Constructor = 9;\n        SymbolKind.Enum = 10;\n        SymbolKind.Interface = 11;\n        SymbolKind.Function = 12;\n        SymbolKind.Variable = 13;\n        SymbolKind.Constant = 14;\n        SymbolKind.String = 15;\n        SymbolKind.Number = 16;\n        SymbolKind.Boolean = 17;\n        SymbolKind.Array = 18;\n        SymbolKind.Object = 19;\n        SymbolKind.Key = 20;\n        SymbolKind.Null = 21;\n        SymbolKind.EnumMember = 22;\n        SymbolKind.Struct = 23;\n        SymbolKind.Event = 24;\n        SymbolKind.Operator = 25;\n        SymbolKind.TypeParameter = 26;\n    })(SymbolKind || (exports.SymbolKind = SymbolKind = {}));\n    /**\n     * Symbol tags are extra annotations that tweak the rendering of a symbol.\n     *\n     * @since 3.16\n     */\n    var SymbolTag;\n    (function (SymbolTag) {\n        /**\n         * Render a symbol as obsolete, usually using a strike-out.\n         */\n        SymbolTag.Deprecated = 1;\n    })(SymbolTag || (exports.SymbolTag = SymbolTag = {}));\n    var SymbolInformation;\n    (function (SymbolInformation) {\n        /**\n         * Creates a new symbol information literal.\n         *\n         * @param name The name of the symbol.\n         * @param kind The kind of the symbol.\n         * @param range The range of the location of the symbol.\n         * @param uri The resource of the location of symbol.\n         * @param containerName The name of the symbol containing the symbol.\n         */\n        function create(name, kind, range, uri, containerName) {\n            var result = {\n                name: name,\n                kind: kind,\n                location: { uri: uri, range: range }\n            };\n            if (containerName) {\n                result.containerName = containerName;\n            }\n            return result;\n        }\n        SymbolInformation.create = create;\n    })(SymbolInformation || (exports.SymbolInformation = SymbolInformation = {}));\n    var WorkspaceSymbol;\n    (function (WorkspaceSymbol) {\n        /**\n         * Create a new workspace symbol.\n         *\n         * @param name The name of the symbol.\n         * @param kind The kind of the symbol.\n         * @param uri The resource of the location of the symbol.\n         * @param range An options range of the location.\n         * @returns A WorkspaceSymbol.\n         */\n        function create(name, kind, uri, range) {\n            return range !== undefined\n                ? { name: name, kind: kind, location: { uri: uri, range: range } }\n                : { name: name, kind: kind, location: { uri: uri } };\n        }\n        WorkspaceSymbol.create = create;\n    })(WorkspaceSymbol || (exports.WorkspaceSymbol = WorkspaceSymbol = {}));\n    var DocumentSymbol;\n    (function (DocumentSymbol) {\n        /**\n         * Creates a new symbol information literal.\n         *\n         * @param name The name of the symbol.\n         * @param detail The detail of the symbol.\n         * @param kind The kind of the symbol.\n         * @param range The range of the symbol.\n         * @param selectionRange The selectionRange of the symbol.\n         * @param children Children of the symbol.\n         */\n        function create(name, detail, kind, range, selectionRange, children) {\n            var result = {\n                name: name,\n                detail: detail,\n                kind: kind,\n                range: range,\n                selectionRange: selectionRange\n            };\n            if (children !== undefined) {\n                result.children = children;\n            }\n            return result;\n        }\n        DocumentSymbol.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link DocumentSymbol} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return candidate &&\n                Is.string(candidate.name) && Is.number(candidate.kind) &&\n                Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n                (candidate.detail === undefined || Is.string(candidate.detail)) &&\n                (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n                (candidate.children === undefined || Array.isArray(candidate.children)) &&\n                (candidate.tags === undefined || Array.isArray(candidate.tags));\n        }\n        DocumentSymbol.is = is;\n    })(DocumentSymbol || (exports.DocumentSymbol = DocumentSymbol = {}));\n    /**\n     * A set of predefined code action kinds\n     */\n    var CodeActionKind;\n    (function (CodeActionKind) {\n        /**\n         * Empty kind.\n         */\n        CodeActionKind.Empty = '';\n        /**\n         * Base kind for quickfix actions: 'quickfix'\n         */\n        CodeActionKind.QuickFix = 'quickfix';\n        /**\n         * Base kind for refactoring actions: 'refactor'\n         */\n        CodeActionKind.Refactor = 'refactor';\n        /**\n         * Base kind for refactoring extraction actions: 'refactor.extract'\n         *\n         * Example extract actions:\n         *\n         * - Extract method\n         * - Extract function\n         * - Extract variable\n         * - Extract interface from class\n         * - ...\n         */\n        CodeActionKind.RefactorExtract = 'refactor.extract';\n        /**\n         * Base kind for refactoring inline actions: 'refactor.inline'\n         *\n         * Example inline actions:\n         *\n         * - Inline function\n         * - Inline variable\n         * - Inline constant\n         * - ...\n         */\n        CodeActionKind.RefactorInline = 'refactor.inline';\n        /**\n         * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n         *\n         * Example rewrite actions:\n         *\n         * - Convert JavaScript function to class\n         * - Add or remove parameter\n         * - Encapsulate field\n         * - Make method static\n         * - Move method to base class\n         * - ...\n         */\n        CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n        /**\n         * Base kind for source actions: `source`\n         *\n         * Source code actions apply to the entire file.\n         */\n        CodeActionKind.Source = 'source';\n        /**\n         * Base kind for an organize imports source action: `source.organizeImports`\n         */\n        CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n        /**\n         * Base kind for auto-fix source actions: `source.fixAll`.\n         *\n         * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n         * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n         *\n         * @since 3.15.0\n         */\n        CodeActionKind.SourceFixAll = 'source.fixAll';\n    })(CodeActionKind || (exports.CodeActionKind = CodeActionKind = {}));\n    /**\n     * The reason why code actions were requested.\n     *\n     * @since 3.17.0\n     */\n    var CodeActionTriggerKind;\n    (function (CodeActionTriggerKind) {\n        /**\n         * Code actions were explicitly requested by the user or by an extension.\n         */\n        CodeActionTriggerKind.Invoked = 1;\n        /**\n         * Code actions were requested automatically.\n         *\n         * This typically happens when current selection in a file changes, but can\n         * also be triggered when file content changes.\n         */\n        CodeActionTriggerKind.Automatic = 2;\n    })(CodeActionTriggerKind || (exports.CodeActionTriggerKind = CodeActionTriggerKind = {}));\n    /**\n     * The CodeActionContext namespace provides helper functions to work with\n     * {@link CodeActionContext} literals.\n     */\n    var CodeActionContext;\n    (function (CodeActionContext) {\n        /**\n         * Creates a new CodeActionContext literal.\n         */\n        function create(diagnostics, only, triggerKind) {\n            var result = { diagnostics: diagnostics };\n            if (only !== undefined && only !== null) {\n                result.only = only;\n            }\n            if (triggerKind !== undefined && triggerKind !== null) {\n                result.triggerKind = triggerKind;\n            }\n            return result;\n        }\n        CodeActionContext.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link CodeActionContext} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n                && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n                && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n        }\n        CodeActionContext.is = is;\n    })(CodeActionContext || (exports.CodeActionContext = CodeActionContext = {}));\n    var CodeAction;\n    (function (CodeAction) {\n        function create(title, kindOrCommandOrEdit, kind) {\n            var result = { title: title };\n            var checkKind = true;\n            if (typeof kindOrCommandOrEdit === 'string') {\n                checkKind = false;\n                result.kind = kindOrCommandOrEdit;\n            }\n            else if (Command.is(kindOrCommandOrEdit)) {\n                result.command = kindOrCommandOrEdit;\n            }\n            else {\n                result.edit = kindOrCommandOrEdit;\n            }\n            if (checkKind && kind !== undefined) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        CodeAction.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate && Is.string(candidate.title) &&\n                (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n                (candidate.kind === undefined || Is.string(candidate.kind)) &&\n                (candidate.edit !== undefined || candidate.command !== undefined) &&\n                (candidate.command === undefined || Command.is(candidate.command)) &&\n                (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n                (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n        }\n        CodeAction.is = is;\n    })(CodeAction || (exports.CodeAction = CodeAction = {}));\n    /**\n     * The CodeLens namespace provides helper functions to work with\n     * {@link CodeLens} literals.\n     */\n    var CodeLens;\n    (function (CodeLens) {\n        /**\n         * Creates a new CodeLens literal.\n         */\n        function create(range, data) {\n            var result = { range: range };\n            if (Is.defined(data)) {\n                result.data = data;\n            }\n            return result;\n        }\n        CodeLens.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link CodeLens} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n        }\n        CodeLens.is = is;\n    })(CodeLens || (exports.CodeLens = CodeLens = {}));\n    /**\n     * The FormattingOptions namespace provides helper functions to work with\n     * {@link FormattingOptions} literals.\n     */\n    var FormattingOptions;\n    (function (FormattingOptions) {\n        /**\n         * Creates a new FormattingOptions literal.\n         */\n        function create(tabSize, insertSpaces) {\n            return { tabSize: tabSize, insertSpaces: insertSpaces };\n        }\n        FormattingOptions.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link FormattingOptions} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n        }\n        FormattingOptions.is = is;\n    })(FormattingOptions || (exports.FormattingOptions = FormattingOptions = {}));\n    /**\n     * The DocumentLink namespace provides helper functions to work with\n     * {@link DocumentLink} literals.\n     */\n    var DocumentLink;\n    (function (DocumentLink) {\n        /**\n         * Creates a new DocumentLink literal.\n         */\n        function create(range, target, data) {\n            return { range: range, target: target, data: data };\n        }\n        DocumentLink.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link DocumentLink} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n        }\n        DocumentLink.is = is;\n    })(DocumentLink || (exports.DocumentLink = DocumentLink = {}));\n    /**\n     * The SelectionRange namespace provides helper function to work with\n     * SelectionRange literals.\n     */\n    var SelectionRange;\n    (function (SelectionRange) {\n        /**\n         * Creates a new SelectionRange\n         * @param range the range.\n         * @param parent an optional parent.\n         */\n        function create(range, parent) {\n            return { range: range, parent: parent };\n        }\n        SelectionRange.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n        }\n        SelectionRange.is = is;\n    })(SelectionRange || (exports.SelectionRange = SelectionRange = {}));\n    /**\n     * A set of predefined token types. This set is not fixed\n     * an clients can specify additional token types via the\n     * corresponding client capabilities.\n     *\n     * @since 3.16.0\n     */\n    var SemanticTokenTypes;\n    (function (SemanticTokenTypes) {\n        SemanticTokenTypes[\"namespace\"] = \"namespace\";\n        /**\n         * Represents a generic type. Acts as a fallback for types which can't be mapped to\n         * a specific type like class or enum.\n         */\n        SemanticTokenTypes[\"type\"] = \"type\";\n        SemanticTokenTypes[\"class\"] = \"class\";\n        SemanticTokenTypes[\"enum\"] = \"enum\";\n        SemanticTokenTypes[\"interface\"] = \"interface\";\n        SemanticTokenTypes[\"struct\"] = \"struct\";\n        SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n        SemanticTokenTypes[\"parameter\"] = \"parameter\";\n        SemanticTokenTypes[\"variable\"] = \"variable\";\n        SemanticTokenTypes[\"property\"] = \"property\";\n        SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n        SemanticTokenTypes[\"event\"] = \"event\";\n        SemanticTokenTypes[\"function\"] = \"function\";\n        SemanticTokenTypes[\"method\"] = \"method\";\n        SemanticTokenTypes[\"macro\"] = \"macro\";\n        SemanticTokenTypes[\"keyword\"] = \"keyword\";\n        SemanticTokenTypes[\"modifier\"] = \"modifier\";\n        SemanticTokenTypes[\"comment\"] = \"comment\";\n        SemanticTokenTypes[\"string\"] = \"string\";\n        SemanticTokenTypes[\"number\"] = \"number\";\n        SemanticTokenTypes[\"regexp\"] = \"regexp\";\n        SemanticTokenTypes[\"operator\"] = \"operator\";\n        /**\n         * @since 3.17.0\n         */\n        SemanticTokenTypes[\"decorator\"] = \"decorator\";\n    })(SemanticTokenTypes || (exports.SemanticTokenTypes = SemanticTokenTypes = {}));\n    /**\n     * A set of predefined token modifiers. This set is not fixed\n     * an clients can specify additional token types via the\n     * corresponding client capabilities.\n     *\n     * @since 3.16.0\n     */\n    var SemanticTokenModifiers;\n    (function (SemanticTokenModifiers) {\n        SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n        SemanticTokenModifiers[\"definition\"] = \"definition\";\n        SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n        SemanticTokenModifiers[\"static\"] = \"static\";\n        SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n        SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n        SemanticTokenModifiers[\"async\"] = \"async\";\n        SemanticTokenModifiers[\"modification\"] = \"modification\";\n        SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n        SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n    })(SemanticTokenModifiers || (exports.SemanticTokenModifiers = SemanticTokenModifiers = {}));\n    /**\n     * @since 3.16.0\n     */\n    var SemanticTokens;\n    (function (SemanticTokens) {\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n                Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n        }\n        SemanticTokens.is = is;\n    })(SemanticTokens || (exports.SemanticTokens = SemanticTokens = {}));\n    /**\n     * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueText;\n    (function (InlineValueText) {\n        /**\n         * Creates a new InlineValueText literal.\n         */\n        function create(range, text) {\n            return { range: range, text: text };\n        }\n        InlineValueText.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n        }\n        InlineValueText.is = is;\n    })(InlineValueText || (exports.InlineValueText = InlineValueText = {}));\n    /**\n     * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueVariableLookup;\n    (function (InlineValueVariableLookup) {\n        /**\n         * Creates a new InlineValueText literal.\n         */\n        function create(range, variableName, caseSensitiveLookup) {\n            return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n        }\n        InlineValueVariableLookup.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n                && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n        }\n        InlineValueVariableLookup.is = is;\n    })(InlineValueVariableLookup || (exports.InlineValueVariableLookup = InlineValueVariableLookup = {}));\n    /**\n     * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueEvaluatableExpression;\n    (function (InlineValueEvaluatableExpression) {\n        /**\n         * Creates a new InlineValueEvaluatableExpression literal.\n         */\n        function create(range, expression) {\n            return { range: range, expression: expression };\n        }\n        InlineValueEvaluatableExpression.create = create;\n        function is(value) {\n            var candidate = value;\n            return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n                && (Is.string(candidate.expression) || candidate.expression === undefined);\n        }\n        InlineValueEvaluatableExpression.is = is;\n    })(InlineValueEvaluatableExpression || (exports.InlineValueEvaluatableExpression = InlineValueEvaluatableExpression = {}));\n    /**\n     * The InlineValueContext namespace provides helper functions to work with\n     * {@link InlineValueContext} literals.\n     *\n     * @since 3.17.0\n     */\n    var InlineValueContext;\n    (function (InlineValueContext) {\n        /**\n         * Creates a new InlineValueContext literal.\n         */\n        function create(frameId, stoppedLocation) {\n            return { frameId: frameId, stoppedLocation: stoppedLocation };\n        }\n        InlineValueContext.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link InlineValueContext} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Range.is(value.stoppedLocation);\n        }\n        InlineValueContext.is = is;\n    })(InlineValueContext || (exports.InlineValueContext = InlineValueContext = {}));\n    /**\n     * Inlay hint kinds.\n     *\n     * @since 3.17.0\n     */\n    var InlayHintKind;\n    (function (InlayHintKind) {\n        /**\n         * An inlay hint that for a type annotation.\n         */\n        InlayHintKind.Type = 1;\n        /**\n         * An inlay hint that is for a parameter.\n         */\n        InlayHintKind.Parameter = 2;\n        function is(value) {\n            return value === 1 || value === 2;\n        }\n        InlayHintKind.is = is;\n    })(InlayHintKind || (exports.InlayHintKind = InlayHintKind = {}));\n    var InlayHintLabelPart;\n    (function (InlayHintLabelPart) {\n        function create(value) {\n            return { value: value };\n        }\n        InlayHintLabelPart.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate)\n                && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n                && (candidate.location === undefined || Location.is(candidate.location))\n                && (candidate.command === undefined || Command.is(candidate.command));\n        }\n        InlayHintLabelPart.is = is;\n    })(InlayHintLabelPart || (exports.InlayHintLabelPart = InlayHintLabelPart = {}));\n    var InlayHint;\n    (function (InlayHint) {\n        function create(position, label, kind) {\n            var result = { position: position, label: label };\n            if (kind !== undefined) {\n                result.kind = kind;\n            }\n            return result;\n        }\n        InlayHint.create = create;\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && Position.is(candidate.position)\n                && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n                && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n                && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n                && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n                && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n                && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n        }\n        InlayHint.is = is;\n    })(InlayHint || (exports.InlayHint = InlayHint = {}));\n    var StringValue;\n    (function (StringValue) {\n        function createSnippet(value) {\n            return { kind: 'snippet', value: value };\n        }\n        StringValue.createSnippet = createSnippet;\n    })(StringValue || (exports.StringValue = StringValue = {}));\n    var InlineCompletionItem;\n    (function (InlineCompletionItem) {\n        function create(insertText, filterText, range, command) {\n            return { insertText: insertText, filterText: filterText, range: range, command: command };\n        }\n        InlineCompletionItem.create = create;\n    })(InlineCompletionItem || (exports.InlineCompletionItem = InlineCompletionItem = {}));\n    var InlineCompletionList;\n    (function (InlineCompletionList) {\n        function create(items) {\n            return { items: items };\n        }\n        InlineCompletionList.create = create;\n    })(InlineCompletionList || (exports.InlineCompletionList = InlineCompletionList = {}));\n    /**\n     * Describes how an {@link InlineCompletionItemProvider inline completion provider} was triggered.\n     *\n     * @since 3.18.0\n     * @proposed\n     */\n    var InlineCompletionTriggerKind;\n    (function (InlineCompletionTriggerKind) {\n        /**\n         * Completion was triggered explicitly by a user gesture.\n         */\n        InlineCompletionTriggerKind.Invoked = 0;\n        /**\n         * Completion was triggered automatically while editing.\n         */\n        InlineCompletionTriggerKind.Automatic = 1;\n    })(InlineCompletionTriggerKind || (exports.InlineCompletionTriggerKind = InlineCompletionTriggerKind = {}));\n    var SelectedCompletionInfo;\n    (function (SelectedCompletionInfo) {\n        function create(range, text) {\n            return { range: range, text: text };\n        }\n        SelectedCompletionInfo.create = create;\n    })(SelectedCompletionInfo || (exports.SelectedCompletionInfo = SelectedCompletionInfo = {}));\n    var InlineCompletionContext;\n    (function (InlineCompletionContext) {\n        function create(triggerKind, selectedCompletionInfo) {\n            return { triggerKind: triggerKind, selectedCompletionInfo: selectedCompletionInfo };\n        }\n        InlineCompletionContext.create = create;\n    })(InlineCompletionContext || (exports.InlineCompletionContext = InlineCompletionContext = {}));\n    var WorkspaceFolder;\n    (function (WorkspaceFolder) {\n        function is(value) {\n            var candidate = value;\n            return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n        }\n        WorkspaceFolder.is = is;\n    })(WorkspaceFolder || (exports.WorkspaceFolder = WorkspaceFolder = {}));\n    exports.EOL = ['\\n', '\\r\\n', '\\r'];\n    /**\n     * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n     */\n    var TextDocument;\n    (function (TextDocument) {\n        /**\n         * Creates a new ITextDocument literal from the given uri and content.\n         * @param uri The document's uri.\n         * @param languageId The document's language Id.\n         * @param version The document's version.\n         * @param content The document's content.\n         */\n        function create(uri, languageId, version, content) {\n            return new FullTextDocument(uri, languageId, version, content);\n        }\n        TextDocument.create = create;\n        /**\n         * Checks whether the given literal conforms to the {@link ITextDocument} interface.\n         */\n        function is(value) {\n            var candidate = value;\n            return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n                && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n        }\n        TextDocument.is = is;\n        function applyEdits(document, edits) {\n            var text = document.getText();\n            var sortedEdits = mergeSort(edits, function (a, b) {\n                var diff = a.range.start.line - b.range.start.line;\n                if (diff === 0) {\n                    return a.range.start.character - b.range.start.character;\n                }\n                return diff;\n            });\n            var lastModifiedOffset = text.length;\n            for (var i = sortedEdits.length - 1; i >= 0; i--) {\n                var e = sortedEdits[i];\n                var startOffset = document.offsetAt(e.range.start);\n                var endOffset = document.offsetAt(e.range.end);\n                if (endOffset <= lastModifiedOffset) {\n                    text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n                }\n                else {\n                    throw new Error('Overlapping edit');\n                }\n                lastModifiedOffset = startOffset;\n            }\n            return text;\n        }\n        TextDocument.applyEdits = applyEdits;\n        function mergeSort(data, compare) {\n            if (data.length <= 1) {\n                // sorted\n                return data;\n            }\n            var p = (data.length / 2) | 0;\n            var left = data.slice(0, p);\n            var right = data.slice(p);\n            mergeSort(left, compare);\n            mergeSort(right, compare);\n            var leftIdx = 0;\n            var rightIdx = 0;\n            var i = 0;\n            while (leftIdx < left.length && rightIdx < right.length) {\n                var ret = compare(left[leftIdx], right[rightIdx]);\n                if (ret <= 0) {\n                    // smaller_equal -> take left to preserve order\n                    data[i++] = left[leftIdx++];\n                }\n                else {\n                    // greater -> take right\n                    data[i++] = right[rightIdx++];\n                }\n            }\n            while (leftIdx < left.length) {\n                data[i++] = left[leftIdx++];\n            }\n            while (rightIdx < right.length) {\n                data[i++] = right[rightIdx++];\n            }\n            return data;\n        }\n    })(TextDocument || (exports.TextDocument = TextDocument = {}));\n    /**\n     * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n     */\n    var FullTextDocument = /** @class */ (function () {\n        function FullTextDocument(uri, languageId, version, content) {\n            this._uri = uri;\n            this._languageId = languageId;\n            this._version = version;\n            this._content = content;\n            this._lineOffsets = undefined;\n        }\n        Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n            get: function () {\n                return this._uri;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n            get: function () {\n                return this._languageId;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(FullTextDocument.prototype, \"version\", {\n            get: function () {\n                return this._version;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        FullTextDocument.prototype.getText = function (range) {\n            if (range) {\n                var start = this.offsetAt(range.start);\n                var end = this.offsetAt(range.end);\n                return this._content.substring(start, end);\n            }\n            return this._content;\n        };\n        FullTextDocument.prototype.update = function (event, version) {\n            this._content = event.text;\n            this._version = version;\n            this._lineOffsets = undefined;\n        };\n        FullTextDocument.prototype.getLineOffsets = function () {\n            if (this._lineOffsets === undefined) {\n                var lineOffsets = [];\n                var text = this._content;\n                var isLineStart = true;\n                for (var i = 0; i < text.length; i++) {\n                    if (isLineStart) {\n                        lineOffsets.push(i);\n                        isLineStart = false;\n                    }\n                    var ch = text.charAt(i);\n                    isLineStart = (ch === '\\r' || ch === '\\n');\n                    if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                        i++;\n                    }\n                }\n                if (isLineStart && text.length > 0) {\n                    lineOffsets.push(text.length);\n                }\n                this._lineOffsets = lineOffsets;\n            }\n            return this._lineOffsets;\n        };\n        FullTextDocument.prototype.positionAt = function (offset) {\n            offset = Math.max(Math.min(offset, this._content.length), 0);\n            var lineOffsets = this.getLineOffsets();\n            var low = 0, high = lineOffsets.length;\n            if (high === 0) {\n                return Position.create(0, offset);\n            }\n            while (low < high) {\n                var mid = Math.floor((low + high) / 2);\n                if (lineOffsets[mid] > offset) {\n                    high = mid;\n                }\n                else {\n                    low = mid + 1;\n                }\n            }\n            // low is the least x for which the line offset is larger than the current offset\n            // or array.length if no line offset is larger than the current offset\n            var line = low - 1;\n            return Position.create(line, offset - lineOffsets[line]);\n        };\n        FullTextDocument.prototype.offsetAt = function (position) {\n            var lineOffsets = this.getLineOffsets();\n            if (position.line >= lineOffsets.length) {\n                return this._content.length;\n            }\n            else if (position.line < 0) {\n                return 0;\n            }\n            var lineOffset = lineOffsets[position.line];\n            var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n            return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n        };\n        Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n            get: function () {\n                return this.getLineOffsets().length;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return FullTextDocument;\n    }());\n    var Is;\n    (function (Is) {\n        var toString = Object.prototype.toString;\n        function defined(value) {\n            return typeof value !== 'undefined';\n        }\n        Is.defined = defined;\n        function undefined(value) {\n            return typeof value === 'undefined';\n        }\n        Is.undefined = undefined;\n        function boolean(value) {\n            return value === true || value === false;\n        }\n        Is.boolean = boolean;\n        function string(value) {\n            return toString.call(value) === '[object String]';\n        }\n        Is.string = string;\n        function number(value) {\n            return toString.call(value) === '[object Number]';\n        }\n        Is.number = number;\n        function numberRange(value, min, max) {\n            return toString.call(value) === '[object Number]' && min <= value && value <= max;\n        }\n        Is.numberRange = numberRange;\n        function integer(value) {\n            return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n        }\n        Is.integer = integer;\n        function uinteger(value) {\n            return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n        }\n        Is.uinteger = uinteger;\n        function func(value) {\n            return toString.call(value) === '[object Function]';\n        }\n        Is.func = func;\n        function objectLiteral(value) {\n            // Strictly speaking class instances pass this check as well. Since the LSP\n            // doesn't use classes we ignore this for now. If we do we need to add something\n            // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n            return value !== null && typeof value === 'object';\n        }\n        Is.objectLiteral = objectLiteral;\n        function typedArray(value, check) {\n            return Array.isArray(value) && value.every(check);\n        }\n        Is.typedArray = typedArray;\n    })(Is || (Is = {}));\n});\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCallHierarchyItem extends code.CallHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolCallHierarchyItem;\n","'use strict';\n\nvar createNode = require('../doc/createNode.js');\nvar stringifyPair = require('../stringify/stringifyPair.js');\nvar addPairToJSMap = require('./addPairToJSMap.js');\nvar identity = require('./identity.js');\n\nfunction createPair(key, value, ctx) {\n    const k = createNode.createNode(key, undefined, ctx);\n    const v = createNode.createNode(value, undefined, ctx);\n    return new Pair(k, v);\n}\nclass Pair {\n    constructor(key, value = null) {\n        Object.defineProperty(this, identity.NODE_TYPE, { value: identity.PAIR });\n        this.key = key;\n        this.value = value;\n    }\n    clone(schema) {\n        let { key, value } = this;\n        if (identity.isNode(key))\n            key = key.clone(schema);\n        if (identity.isNode(value))\n            value = value.clone(schema);\n        return new Pair(key, value);\n    }\n    toJSON(_, ctx) {\n        const pair = ctx?.mapAsMap ? new Map() : {};\n        return addPairToJSMap.addPairToJSMap(ctx, pair, this);\n    }\n    toString(ctx, onComment, onChompKeep) {\n        return ctx?.doc\n            ? stringifyPair.stringifyPair(this, ctx, onComment, onChompKeep)\n            : JSON.stringify(this);\n    }\n}\n\nexports.Pair = Pair;\nexports.createPair = createPair;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DefinitionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let definitionSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'definition');\n        definitionSupport.dynamicRegistration = true;\n        definitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.definitionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDefinition\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\n                    : provideDefinition(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.DefinitionFeature = DefinitionFeature;\n","'use strict';\n\nvar Scalar = require('../../nodes/Scalar.js');\nvar stringifyNumber = require('../../stringify/stringifyNumber.js');\n\nconst floatNaN = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^(?:[-+]?\\.(?:inf|Inf|INF)|\\.nan|\\.NaN|\\.NAN)$/,\n    resolve: (str) => str.slice(-3).toLowerCase() === 'nan'\n        ? NaN\n        : str[0] === '-'\n            ? Number.NEGATIVE_INFINITY\n            : Number.POSITIVE_INFINITY,\n    stringify: stringifyNumber.stringifyNumber\n};\nconst floatExp = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'EXP',\n    test: /^[-+]?(?:[0-9][0-9_]*)?(?:\\.[0-9_]*)?[eE][-+]?[0-9]+$/,\n    resolve: (str) => parseFloat(str.replace(/_/g, '')),\n    stringify(node) {\n        const num = Number(node.value);\n        return isFinite(num) ? num.toExponential() : stringifyNumber.stringifyNumber(node);\n    }\n};\nconst float = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^[-+]?(?:[0-9][0-9_]*)?\\.[0-9_]*$/,\n    resolve(str) {\n        const node = new Scalar.Scalar(parseFloat(str.replace(/_/g, '')));\n        const dot = str.indexOf('.');\n        if (dot !== -1) {\n            const f = str.substring(dot + 1).replace(/_/g, '');\n            if (f[f.length - 1] === '0')\n                node.minFractionDigits = f.length;\n        }\n        return node;\n    },\n    stringify: stringifyNumber.stringifyNumber\n};\n\nexports.float = float;\nexports.floatExp = floatExp;\nexports.floatNaN = floatNaN;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst ls = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst async = require(\"./utils/async\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst protocolTypeHierarchyItem_1 = require(\"./protocolTypeHierarchyItem\");\nconst protocolWorkspaceSymbol_1 = require(\"./protocolWorkspaceSymbol\");\nconst protocolInlayHint_1 = require(\"./protocolInlayHint\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nvar CodeBlock;\n(function (CodeBlock) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\n    }\n    CodeBlock.is = is;\n})(CodeBlock || (CodeBlock = {}));\nfunction createConverter(uriConverter, trustMarkdown, supportHtml) {\n    const nullConverter = (value) => code.Uri.parse(value);\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asDocumentSelector(selector) {\n        const result = [];\n        for (const filter of selector) {\n            if (typeof filter === 'string') {\n                result.push(filter);\n            }\n            else if (vscode_languageserver_protocol_1.NotebookCellTextDocumentFilter.is(filter)) {\n                // We first need to check for the notebook cell filter since a TextDocumentFilter would\n                // match both (e.g. the notebook is optional).\n                if (typeof filter.notebook === 'string') {\n                    result.push({ notebookType: filter.notebook, language: filter.language });\n                }\n                else {\n                    const notebookType = filter.notebook.notebookType ?? '*';\n                    result.push({ notebookType: notebookType, scheme: filter.notebook.scheme, pattern: filter.notebook.pattern, language: filter.language });\n                }\n            }\n            else if (vscode_languageserver_protocol_1.TextDocumentFilter.is(filter)) {\n                result.push({ language: filter.language, scheme: filter.scheme, pattern: filter.pattern });\n            }\n        }\n        return result;\n    }\n    async function asDiagnostics(diagnostics, token) {\n        return async.map(diagnostics, asDiagnostic, token);\n    }\n    function asDiagnosticsSync(diagnostics) {\n        const result = new Array(diagnostics.length);\n        for (let i = 0; i < diagnostics.length; i++) {\n            result[i] = asDiagnostic(diagnostics[i]);\n        }\n        return result;\n    }\n    function asDiagnostic(diagnostic) {\n        let result = new protocolDiagnostic_1.ProtocolDiagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity), diagnostic.data);\n        if (diagnostic.code !== undefined) {\n            if (typeof diagnostic.code === 'string' || typeof diagnostic.code === 'number') {\n                if (ls.CodeDescription.is(diagnostic.codeDescription)) {\n                    result.code = {\n                        value: diagnostic.code,\n                        target: asUri(diagnostic.codeDescription.href)\n                    };\n                }\n                else {\n                    result.code = diagnostic.code;\n                }\n            }\n            else if (protocolDiagnostic_1.DiagnosticCode.is(diagnostic.code)) {\n                // This is for backwards compatibility of a proposed API.\n                // We should remove this at some point.\n                result.hasDiagnosticCode = true;\n                const diagnosticCode = diagnostic.code;\n                result.code = {\n                    value: diagnosticCode.value,\n                    target: asUri(diagnosticCode.target)\n                };\n            }\n        }\n        if (diagnostic.source) {\n            result.source = diagnostic.source;\n        }\n        if (diagnostic.relatedInformation) {\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\n        }\n        if (Array.isArray(diagnostic.tags)) {\n            result.tags = asDiagnosticTags(diagnostic.tags);\n        }\n        return result;\n    }\n    function asRelatedInformation(relatedInformation) {\n        const result = new Array(relatedInformation.length);\n        for (let i = 0; i < relatedInformation.length; i++) {\n            const info = relatedInformation[i];\n            result[i] = new code.DiagnosticRelatedInformation(asLocation(info.location), info.message);\n        }\n        return result;\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case ls.DiagnosticTag.Unnecessary:\n                return code.DiagnosticTag.Unnecessary;\n            case ls.DiagnosticTag.Deprecated:\n                return code.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asPosition(value) {\n        return value ? new code.Position(value.line, value.character) : undefined;\n    }\n    function asRange(value) {\n        return value ? new code.Range(value.start.line, value.start.character, value.end.line, value.end.character) : undefined;\n    }\n    async function asRanges(items, token) {\n        return async.map(items, (range) => {\n            return new code.Range(range.start.line, range.start.character, range.end.line, range.end.character);\n        }, token);\n    }\n    function asDiagnosticSeverity(value) {\n        if (value === undefined || value === null) {\n            return code.DiagnosticSeverity.Error;\n        }\n        switch (value) {\n            case ls.DiagnosticSeverity.Error:\n                return code.DiagnosticSeverity.Error;\n            case ls.DiagnosticSeverity.Warning:\n                return code.DiagnosticSeverity.Warning;\n            case ls.DiagnosticSeverity.Information:\n                return code.DiagnosticSeverity.Information;\n            case ls.DiagnosticSeverity.Hint:\n                return code.DiagnosticSeverity.Hint;\n        }\n        return code.DiagnosticSeverity.Error;\n    }\n    function asHoverContent(value) {\n        if (Is.string(value)) {\n            return asMarkdownString(value);\n        }\n        else if (CodeBlock.is(value)) {\n            let result = asMarkdownString();\n            return result.appendCodeblock(value.value, value.language);\n        }\n        else if (Array.isArray(value)) {\n            let result = [];\n            for (let element of value) {\n                let item = asMarkdownString();\n                if (CodeBlock.is(element)) {\n                    item.appendCodeblock(element.value, element.language);\n                }\n                else {\n                    item.appendMarkdown(element);\n                }\n                result.push(item);\n            }\n            return result;\n        }\n        else {\n            return asMarkdownString(value);\n        }\n    }\n    function asDocumentation(value) {\n        if (Is.string(value)) {\n            return value;\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    return asMarkdownString(value.value);\n                case ls.MarkupKind.PlainText:\n                    return value.value;\n                default:\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\n            }\n        }\n    }\n    function asMarkdownString(value) {\n        let result;\n        if (value === undefined || typeof value === 'string') {\n            result = new code.MarkdownString(value);\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    result = new code.MarkdownString(value.value);\n                    break;\n                case ls.MarkupKind.PlainText:\n                    result = new code.MarkdownString();\n                    result.appendText(value.value);\n                    break;\n                default:\n                    result = new code.MarkdownString();\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\n                    break;\n            }\n        }\n        result.isTrusted = trustMarkdown;\n        result.supportHtml = supportHtml;\n        return result;\n    }\n    function asHover(hover) {\n        if (!hover) {\n            return undefined;\n        }\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\n    }\n    async function asCompletionResult(value, allCommitCharacters, token) {\n        if (!value) {\n            return undefined;\n        }\n        if (Array.isArray(value)) {\n            return async.map(value, (item) => asCompletionItem(item, allCommitCharacters), token);\n        }\n        const list = value;\n        const { defaultRange, commitCharacters } = getCompletionItemDefaults(list, allCommitCharacters);\n        const converted = await async.map(list.items, (item) => {\n            return asCompletionItem(item, commitCharacters, defaultRange, list.itemDefaults?.insertTextMode, list.itemDefaults?.insertTextFormat, list.itemDefaults?.data);\n        }, token);\n        return new code.CompletionList(converted, list.isIncomplete);\n    }\n    function getCompletionItemDefaults(list, allCommitCharacters) {\n        const rangeDefaults = list.itemDefaults?.editRange;\n        const commitCharacters = list.itemDefaults?.commitCharacters ?? allCommitCharacters;\n        return ls.Range.is(rangeDefaults)\n            ? { defaultRange: asRange(rangeDefaults), commitCharacters }\n            : rangeDefaults !== undefined\n                ? { defaultRange: { inserting: asRange(rangeDefaults.insert), replacing: asRange(rangeDefaults.replace) }, commitCharacters }\n                : { defaultRange: undefined, commitCharacters };\n    }\n    function asCompletionItemKind(value) {\n        // Protocol item kind is 1 based, codes item kind is zero based.\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\n            return [value - 1, undefined];\n        }\n        return [code.CompletionItemKind.Text, value];\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case ls.CompletionItemTag.Deprecated:\n                return code.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined || tags === null) {\n            return [];\n        }\n        const result = [];\n        for (const tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItem(item, defaultCommitCharacters, defaultRange, defaultInsertTextMode, defaultInsertTextFormat, defaultData) {\n        const tags = asCompletionItemTags(item.tags);\n        const label = asCompletionItemLabel(item);\n        const result = new protocolCompletionItem_1.default(label);\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        const insertText = asCompletionInsertText(item, defaultRange, defaultInsertTextFormat);\n        if (insertText) {\n            result.insertText = insertText.text;\n            result.range = insertText.range;\n            result.fromEdit = insertText.fromEdit;\n        }\n        if (Is.number(item.kind)) {\n            let [itemKind, original] = asCompletionItemKind(item.kind);\n            result.kind = itemKind;\n            if (original) {\n                result.originalItemKind = original;\n            }\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEditsSync(item.additionalTextEdits);\n        }\n        const commitCharacters = item.commitCharacters !== undefined\n            ? Is.stringArray(item.commitCharacters) ? item.commitCharacters : undefined\n            : defaultCommitCharacters;\n        if (commitCharacters) {\n            result.commitCharacters = commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.deprecated === true || item.deprecated === false) {\n            result.deprecated = item.deprecated;\n            if (item.deprecated === true) {\n                tags.push(code.CompletionItemTag.Deprecated);\n            }\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const data = item.data ?? defaultData;\n        if (data !== undefined) {\n            result.data = data;\n        }\n        if (tags.length > 0) {\n            result.tags = tags;\n        }\n        const insertTextMode = item.insertTextMode ?? defaultInsertTextMode;\n        if (insertTextMode !== undefined) {\n            result.insertTextMode = insertTextMode;\n            if (insertTextMode === ls.InsertTextMode.asIs) {\n                result.keepWhitespace = true;\n            }\n        }\n        return result;\n    }\n    function asCompletionItemLabel(item) {\n        if (ls.CompletionItemLabelDetails.is(item.labelDetails)) {\n            return {\n                label: item.label,\n                detail: item.labelDetails.detail,\n                description: item.labelDetails.description\n            };\n        }\n        else {\n            return item.label;\n        }\n    }\n    function asCompletionInsertText(item, defaultRange, defaultInsertTextFormat) {\n        const insertTextFormat = item.insertTextFormat ?? defaultInsertTextFormat;\n        if (item.textEdit !== undefined || defaultRange !== undefined) {\n            const [range, newText] = item.textEdit !== undefined\n                ? getCompletionRangeAndText(item.textEdit)\n                : [defaultRange, item.textEditText ?? item.label];\n            if (insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(newText), range: range, fromEdit: true };\n            }\n            else {\n                return { text: newText, range: range, fromEdit: true };\n            }\n        }\n        else if (item.insertText) {\n            if (insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\n            }\n            else {\n                return { text: item.insertText, fromEdit: false };\n            }\n        }\n        else {\n            return undefined;\n        }\n    }\n    function getCompletionRangeAndText(value) {\n        if (ls.InsertReplaceEdit.is(value)) {\n            return [{ inserting: asRange(value.insert), replacing: asRange(value.replace) }, value.newText];\n        }\n        else {\n            return [asRange(value.range), value.newText];\n        }\n    }\n    function asTextEdit(edit) {\n        if (!edit) {\n            return undefined;\n        }\n        return new code.TextEdit(asRange(edit.range), edit.newText);\n    }\n    async function asTextEdits(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asTextEdit, token);\n    }\n    function asTextEditsSync(items) {\n        if (!items) {\n            return undefined;\n        }\n        const result = new Array(items.length);\n        for (let i = 0; i < items.length; i++) {\n            result[i] = asTextEdit(items[i]);\n        }\n        return result;\n    }\n    async function asSignatureHelp(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new code.SignatureHelp();\n        if (Is.number(item.activeSignature)) {\n            result.activeSignature = item.activeSignature;\n        }\n        else {\n            // activeSignature was optional in the past\n            result.activeSignature = 0;\n        }\n        if (Is.number(item.activeParameter)) {\n            result.activeParameter = item.activeParameter;\n        }\n        else {\n            // activeParameter was optional in the past\n            result.activeParameter = 0;\n        }\n        if (item.signatures) {\n            result.signatures = await asSignatureInformations(item.signatures, token);\n        }\n        return result;\n    }\n    async function asSignatureInformations(items, token) {\n        return async.mapAsync(items, asSignatureInformation, token);\n    }\n    async function asSignatureInformation(item, token) {\n        let result = new code.SignatureInformation(item.label);\n        if (item.documentation !== undefined) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        if (item.parameters !== undefined) {\n            result.parameters = await asParameterInformations(item.parameters, token);\n        }\n        if (item.activeParameter !== undefined) {\n            result.activeParameter = item.activeParameter;\n        }\n        {\n            return result;\n        }\n    }\n    function asParameterInformations(items, token) {\n        return async.map(items, asParameterInformation, token);\n    }\n    function asParameterInformation(item) {\n        let result = new code.ParameterInformation(item.label);\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        return result;\n    }\n    function asLocation(item) {\n        return item ? new code.Location(_uriConverter(item.uri), asRange(item.range)) : undefined;\n    }\n    async function asDeclarationResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item, token);\n    }\n    async function asDefinitionResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item, token);\n    }\n    function asLocationLink(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = {\n            targetUri: _uriConverter(item.targetUri),\n            targetRange: asRange(item.targetRange),\n            originSelectionRange: asRange(item.originSelectionRange),\n            targetSelectionRange: asRange(item.targetSelectionRange)\n        };\n        if (!result.targetSelectionRange) {\n            throw new Error(`targetSelectionRange must not be undefined or null`);\n        }\n        return result;\n    }\n    async function asLocationResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        if (Is.array(item)) {\n            if (item.length === 0) {\n                return [];\n            }\n            else if (ls.LocationLink.is(item[0])) {\n                const links = item;\n                return async.map(links, asLocationLink, token);\n            }\n            else {\n                const locations = item;\n                return async.map(locations, asLocation, token);\n            }\n        }\n        else if (ls.LocationLink.is(item)) {\n            return [asLocationLink(item)];\n        }\n        else {\n            return asLocation(item);\n        }\n    }\n    async function asReferences(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asLocation, token);\n    }\n    async function asDocumentHighlights(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asDocumentHighlight, token);\n    }\n    function asDocumentHighlight(item) {\n        let result = new code.DocumentHighlight(asRange(item.range));\n        if (Is.number(item.kind)) {\n            result.kind = asDocumentHighlightKind(item.kind);\n        }\n        return result;\n    }\n    function asDocumentHighlightKind(item) {\n        switch (item) {\n            case ls.DocumentHighlightKind.Text:\n                return code.DocumentHighlightKind.Text;\n            case ls.DocumentHighlightKind.Read:\n                return code.DocumentHighlightKind.Read;\n            case ls.DocumentHighlightKind.Write:\n                return code.DocumentHighlightKind.Write;\n        }\n        return code.DocumentHighlightKind.Text;\n    }\n    async function asSymbolInformations(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asSymbolInformation, token);\n    }\n    function asSymbolKind(item) {\n        if (item <= ls.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return item - 1;\n        }\n        return code.SymbolKind.Property;\n    }\n    function asSymbolTag(value) {\n        switch (value) {\n            case ls.SymbolTag.Deprecated:\n                return code.SymbolTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asSymbolTags(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        const result = [];\n        for (const item of items) {\n            const converted = asSymbolTag(item);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length === 0 ? undefined : result;\n    }\n    function asSymbolInformation(item) {\n        const data = item.data;\n        const location = item.location;\n        const result = location.range === undefined || data !== undefined\n            ? new protocolWorkspaceSymbol_1.default(item.name, asSymbolKind(item.kind), item.containerName ?? '', location.range === undefined ? _uriConverter(location.uri) : new code.Location(_uriConverter(item.location.uri), asRange(location.range)), data)\n            : new code.SymbolInformation(item.name, asSymbolKind(item.kind), item.containerName ?? '', new code.Location(_uriConverter(item.location.uri), asRange(location.range)));\n        fillTags(result, item);\n        return result;\n    }\n    async function asDocumentSymbols(values, token) {\n        if (values === undefined || values === null) {\n            return undefined;\n        }\n        return async.map(values, asDocumentSymbol, token);\n    }\n    function asDocumentSymbol(value) {\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\n        fillTags(result, value);\n        if (value.children !== undefined && value.children.length > 0) {\n            let children = [];\n            for (let child of value.children) {\n                children.push(asDocumentSymbol(child));\n            }\n            result.children = children;\n        }\n        return result;\n    }\n    function fillTags(result, value) {\n        result.tags = asSymbolTags(value.tags);\n        if (value.deprecated) {\n            if (!result.tags) {\n                result.tags = [code.SymbolTag.Deprecated];\n            }\n            else {\n                if (!result.tags.includes(code.SymbolTag.Deprecated)) {\n                    result.tags = result.tags.concat(code.SymbolTag.Deprecated);\n                }\n            }\n        }\n    }\n    function asCommand(item) {\n        let result = { title: item.title, command: item.command };\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    async function asCommands(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asCommand, token);\n    }\n    const kindMapping = new Map();\n    kindMapping.set(ls.CodeActionKind.Empty, code.CodeActionKind.Empty);\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = kindMapping.get(item);\n        if (result) {\n            return result;\n        }\n        let parts = item.split('.');\n        result = code.CodeActionKind.Empty;\n        for (let part of parts) {\n            result = result.append(part);\n        }\n        return result;\n    }\n    function asCodeActionKinds(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        return items.map(kind => asCodeActionKind(kind));\n    }\n    async function asCodeAction(item, token) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = new protocolCodeAction_1.default(item.title, item.data);\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = asDiagnosticsSync(item.diagnostics);\n        }\n        if (item.edit !== undefined) {\n            result.edit = await asWorkspaceEdit(item.edit, token);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    function asCodeActionResult(items, token) {\n        return async.mapAsync(items, async (item) => {\n            if (ls.Command.is(item)) {\n                return asCommand(item);\n            }\n            else {\n                return asCodeAction(item, token);\n            }\n        }, token);\n    }\n    function asCodeLens(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new protocolCodeLens_1.default(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.data !== undefined && item.data !== null) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    async function asCodeLenses(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asCodeLens, token);\n    }\n    async function asWorkspaceEdit(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        const sharedMetadata = new Map();\n        if (item.changeAnnotations !== undefined) {\n            const changeAnnotations = item.changeAnnotations;\n            await async.forEach(Object.keys(changeAnnotations), (key) => {\n                const metaData = asWorkspaceEditEntryMetadata(changeAnnotations[key]);\n                sharedMetadata.set(key, metaData);\n            }, token);\n        }\n        const asMetadata = (annotation) => {\n            if (annotation === undefined) {\n                return undefined;\n            }\n            else {\n                return sharedMetadata.get(annotation);\n            }\n        };\n        const result = new code.WorkspaceEdit();\n        if (item.documentChanges) {\n            const documentChanges = item.documentChanges;\n            await async.forEach(documentChanges, (change) => {\n                if (ls.CreateFile.is(change)) {\n                    result.createFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.RenameFile.is(change)) {\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.DeleteFile.is(change)) {\n                    result.deleteFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.TextDocumentEdit.is(change)) {\n                    const uri = _uriConverter(change.textDocument.uri);\n                    for (const edit of change.edits) {\n                        if (ls.AnnotatedTextEdit.is(edit)) {\n                            result.replace(uri, asRange(edit.range), edit.newText, asMetadata(edit.annotationId));\n                        }\n                        else {\n                            result.replace(uri, asRange(edit.range), edit.newText);\n                        }\n                    }\n                }\n                else {\n                    throw new Error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\n                }\n            }, token);\n        }\n        else if (item.changes) {\n            const changes = item.changes;\n            await async.forEach(Object.keys(changes), (key) => {\n                result.set(_uriConverter(key), asTextEditsSync(changes[key]));\n            }, token);\n        }\n        return result;\n    }\n    function asWorkspaceEditEntryMetadata(annotation) {\n        if (annotation === undefined) {\n            return undefined;\n        }\n        return { label: annotation.label, needsConfirmation: !!annotation.needsConfirmation, description: annotation.description };\n    }\n    function asDocumentLink(item) {\n        let range = asRange(item.range);\n        let target = item.target ? asUri(item.target) : undefined;\n        // target must be optional in DocumentLink\n        let link = new protocolDocumentLink_1.default(range, target);\n        if (item.tooltip !== undefined) {\n            link.tooltip = item.tooltip;\n        }\n        if (item.data !== undefined && item.data !== null) {\n            link.data = item.data;\n        }\n        return link;\n    }\n    async function asDocumentLinks(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asDocumentLink, token);\n    }\n    function asColor(color) {\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\n    }\n    function asColorInformation(ci) {\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\n    }\n    async function asColorInformations(colorInformation, token) {\n        if (!colorInformation) {\n            return undefined;\n        }\n        return async.map(colorInformation, asColorInformation, token);\n    }\n    function asColorPresentation(cp) {\n        let presentation = new code.ColorPresentation(cp.label);\n        presentation.additionalTextEdits = asTextEditsSync(cp.additionalTextEdits);\n        if (cp.textEdit) {\n            presentation.textEdit = asTextEdit(cp.textEdit);\n        }\n        return presentation;\n    }\n    async function asColorPresentations(colorPresentations, token) {\n        if (!colorPresentations) {\n            return undefined;\n        }\n        return async.map(colorPresentations, asColorPresentation, token);\n    }\n    function asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case ls.FoldingRangeKind.Comment:\n                    return code.FoldingRangeKind.Comment;\n                case ls.FoldingRangeKind.Imports:\n                    return code.FoldingRangeKind.Imports;\n                case ls.FoldingRangeKind.Region:\n                    return code.FoldingRangeKind.Region;\n            }\n        }\n        return undefined;\n    }\n    function asFoldingRange(r) {\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\n    }\n    async function asFoldingRanges(foldingRanges, token) {\n        if (!foldingRanges) {\n            return undefined;\n        }\n        return async.map(foldingRanges, asFoldingRange, token);\n    }\n    function asSelectionRange(selectionRange) {\n        return new code.SelectionRange(asRange(selectionRange.range), selectionRange.parent ? asSelectionRange(selectionRange.parent) : undefined);\n    }\n    async function asSelectionRanges(selectionRanges, token) {\n        if (!Array.isArray(selectionRanges)) {\n            return [];\n        }\n        return async.map(selectionRanges, asSelectionRange, token);\n    }\n    function asInlineValue(inlineValue) {\n        if (ls.InlineValueText.is(inlineValue)) {\n            return new code.InlineValueText(asRange(inlineValue.range), inlineValue.text);\n        }\n        else if (ls.InlineValueVariableLookup.is(inlineValue)) {\n            return new code.InlineValueVariableLookup(asRange(inlineValue.range), inlineValue.variableName, inlineValue.caseSensitiveLookup);\n        }\n        else {\n            return new code.InlineValueEvaluatableExpression(asRange(inlineValue.range), inlineValue.expression);\n        }\n    }\n    async function asInlineValues(inlineValues, token) {\n        if (!Array.isArray(inlineValues)) {\n            return [];\n        }\n        return async.map(inlineValues, asInlineValue, token);\n    }\n    async function asInlayHint(value, token) {\n        const label = typeof value.label === 'string'\n            ? value.label\n            : await async.map(value.label, asInlayHintLabelPart, token);\n        const result = new protocolInlayHint_1.default(asPosition(value.position), label);\n        if (value.kind !== undefined) {\n            result.kind = value.kind;\n        }\n        if (value.textEdits !== undefined) {\n            result.textEdits = await asTextEdits(value.textEdits, token);\n        }\n        if (value.tooltip !== undefined) {\n            result.tooltip = asTooltip(value.tooltip);\n        }\n        if (value.paddingLeft !== undefined) {\n            result.paddingLeft = value.paddingLeft;\n        }\n        if (value.paddingRight !== undefined) {\n            result.paddingRight = value.paddingRight;\n        }\n        if (value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asInlayHintLabelPart(part) {\n        const result = new code.InlayHintLabelPart(part.value);\n        if (part.location !== undefined) {\n            result.location = asLocation(part.location);\n        }\n        if (part.tooltip !== undefined) {\n            result.tooltip = asTooltip(part.tooltip);\n        }\n        if (part.command !== undefined) {\n            result.command = asCommand(part.command);\n        }\n        return result;\n    }\n    function asTooltip(value) {\n        if (typeof value === 'string') {\n            return value;\n        }\n        return asMarkdownString(value);\n    }\n    async function asInlayHints(values, token) {\n        if (!Array.isArray(values)) {\n            return undefined;\n        }\n        return async.mapAsync(values, asInlayHint, token);\n    }\n    function asCallHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        const result = new protocolCallHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    async function asCallHierarchyItems(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.map(items, asCallHierarchyItem, token);\n    }\n    async function asCallHierarchyIncomingCall(item, token) {\n        return new code.CallHierarchyIncomingCall(asCallHierarchyItem(item.from), await asRanges(item.fromRanges, token));\n    }\n    async function asCallHierarchyIncomingCalls(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.mapAsync(items, asCallHierarchyIncomingCall, token);\n    }\n    async function asCallHierarchyOutgoingCall(item, token) {\n        return new code.CallHierarchyOutgoingCall(asCallHierarchyItem(item.to), await asRanges(item.fromRanges, token));\n    }\n    async function asCallHierarchyOutgoingCalls(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.mapAsync(items, asCallHierarchyOutgoingCall, token);\n    }\n    async function asSemanticTokens(value, _token) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokens(new Uint32Array(value.data), value.resultId);\n    }\n    function asSemanticTokensEdit(value) {\n        return new code.SemanticTokensEdit(value.start, value.deleteCount, value.data !== undefined ? new Uint32Array(value.data) : undefined);\n    }\n    async function asSemanticTokensEdits(value, _token) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokensEdits(value.edits.map(asSemanticTokensEdit), value.resultId);\n    }\n    function asSemanticTokensLegend(value) {\n        return value;\n    }\n    async function asLinkedEditingRanges(value, token) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new code.LinkedEditingRanges(await asRanges(value.ranges, token), asRegularExpression(value.wordPattern));\n    }\n    function asRegularExpression(value) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new RegExp(value);\n    }\n    function asTypeHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        let result = new protocolTypeHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    async function asTypeHierarchyItems(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.map(items, asTypeHierarchyItem, token);\n    }\n    function asGlobPattern(pattern) {\n        if (Is.string(pattern)) {\n            return pattern;\n        }\n        if (ls.RelativePattern.is(pattern)) {\n            if (ls.URI.is(pattern.baseUri)) {\n                return new code.RelativePattern(asUri(pattern.baseUri), pattern.pattern);\n            }\n            else if (ls.WorkspaceFolder.is(pattern.baseUri)) {\n                const workspaceFolder = code.workspace.getWorkspaceFolder(asUri(pattern.baseUri.uri));\n                return workspaceFolder !== undefined ? new code.RelativePattern(workspaceFolder, pattern.pattern) : undefined;\n            }\n        }\n        return undefined;\n    }\n    async function asInlineCompletionResult(value, token) {\n        if (!value) {\n            return undefined;\n        }\n        if (Array.isArray(value)) {\n            return async.map(value, (item) => asInlineCompletionItem(item), token);\n        }\n        const list = value;\n        const converted = await async.map(list.items, (item) => {\n            return asInlineCompletionItem(item);\n        }, token);\n        return new code.InlineCompletionList(converted);\n    }\n    function asInlineCompletionItem(item) {\n        let insertText;\n        if (typeof item.insertText === 'string') {\n            insertText = item.insertText;\n        }\n        else {\n            insertText = new code.SnippetString(item.insertText.value);\n        }\n        let command = undefined;\n        if (item.command) {\n            command = asCommand(item.command);\n        }\n        const inlineCompletionItem = new code.InlineCompletionItem(insertText, asRange(item.range), command);\n        if (item.filterText) {\n            inlineCompletionItem.filterText = item.filterText;\n        }\n        return inlineCompletionItem;\n    }\n    return {\n        asUri,\n        asDocumentSelector,\n        asDiagnostics,\n        asDiagnostic,\n        asRange,\n        asRanges,\n        asPosition,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asHover,\n        asCompletionResult,\n        asCompletionItem,\n        asTextEdit,\n        asTextEdits,\n        asSignatureHelp,\n        asSignatureInformations,\n        asSignatureInformation,\n        asParameterInformations,\n        asParameterInformation,\n        asDeclarationResult,\n        asDefinitionResult,\n        asLocation,\n        asReferences,\n        asDocumentHighlights,\n        asDocumentHighlight,\n        asDocumentHighlightKind,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asSymbolInformations,\n        asSymbolInformation,\n        asDocumentSymbols,\n        asDocumentSymbol,\n        asCommand,\n        asCommands,\n        asCodeAction,\n        asCodeActionKind,\n        asCodeActionKinds,\n        asCodeActionResult,\n        asCodeLens,\n        asCodeLenses,\n        asWorkspaceEdit,\n        asDocumentLink,\n        asDocumentLinks,\n        asFoldingRangeKind,\n        asFoldingRange,\n        asFoldingRanges,\n        asColor,\n        asColorInformation,\n        asColorInformations,\n        asColorPresentation,\n        asColorPresentations,\n        asSelectionRange,\n        asSelectionRanges,\n        asInlineValue,\n        asInlineValues,\n        asInlayHint,\n        asInlayHints,\n        asSemanticTokensLegend,\n        asSemanticTokens,\n        asSemanticTokensEdit,\n        asSemanticTokensEdits,\n        asCallHierarchyItem,\n        asCallHierarchyItems,\n        asCallHierarchyIncomingCall,\n        asCallHierarchyIncomingCalls,\n        asCallHierarchyOutgoingCall,\n        asCallHierarchyOutgoingCalls,\n        asLinkedEditingRanges: asLinkedEditingRanges,\n        asTypeHierarchyItem,\n        asTypeHierarchyItems,\n        asGlobPattern,\n        asInlineCompletionResult,\n        asInlineCompletionItem\n    };\n}\nexports.createConverter = createConverter;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompletionItemFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nconst SupportedCompletionItemKinds = [\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\n];\nclass CompletionItemFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\n        this.labelDetailsSupport = new Map();\n    }\n    fillClientCapabilities(capabilities) {\n        let completion = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'completion');\n        completion.dynamicRegistration = true;\n        completion.contextSupport = true;\n        completion.completionItem = {\n            snippetSupport: true,\n            commitCharactersSupport: true,\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\n            deprecatedSupport: true,\n            preselectSupport: true,\n            tagSupport: { valueSet: [vscode_languageserver_protocol_1.CompletionItemTag.Deprecated] },\n            insertReplaceSupport: true,\n            resolveSupport: {\n                properties: ['documentation', 'detail', 'additionalTextEdits']\n            },\n            insertTextModeSupport: { valueSet: [vscode_languageserver_protocol_1.InsertTextMode.asIs, vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation] },\n            labelDetailsSupport: true\n        };\n        completion.insertTextMode = vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation;\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\n        completion.completionList = {\n            itemDefaults: [\n                'commitCharacters', 'editRange', 'insertTextFormat', 'insertTextMode', 'data'\n            ]\n        };\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.completionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options, id) {\n        this.labelDetailsSupport.set(id, !!options.completionItem?.labelDetailsSupport);\n        const triggerCharacters = options.triggerCharacters ?? [];\n        const defaultCommitCharacters = options.allCommitCharacters;\n        const selector = options.documentSelector;\n        const provider = {\n            provideCompletionItems: (document, position, token, context) => {\n                const client = this._client;\n                const middleware = this._client.middleware;\n                const provideCompletionItems = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCompletionResult(result, defaultCommitCharacters, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, token, error, null);\n                    });\n                };\n                return middleware.provideCompletionItem\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\n                    : provideCompletionItems(document, position, context, token);\n            },\n            resolveCompletionItem: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.middleware;\n                    const resolveCompletionItem = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item, !!this.labelDetailsSupport.get(id)), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asCompletionItem(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, token, error, item);\n                        });\n                    };\n                    return middleware.resolveCompletionItem\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\n                        : resolveCompletionItem(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, ...triggerCharacters), provider];\n    }\n}\nexports.CompletionItemFeature = CompletionItemFeature;\n","'use strict';\n\nvar applyReviver = require('../doc/applyReviver.js');\nvar identity = require('./identity.js');\nvar toJS = require('./toJS.js');\n\nclass NodeBase {\n    constructor(type) {\n        Object.defineProperty(this, identity.NODE_TYPE, { value: type });\n    }\n    /** Create a copy of this node.  */\n    clone() {\n        const copy = Object.create(Object.getPrototypeOf(this), Object.getOwnPropertyDescriptors(this));\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /** A plain JavaScript representation of this node. */\n    toJS(doc, { mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {\n        if (!identity.isDocument(doc))\n            throw new TypeError('A document argument is required');\n        const ctx = {\n            anchors: new Map(),\n            doc,\n            keep: true,\n            mapAsMap: mapAsMap === true,\n            mapKeyWarned: false,\n            maxAliasCount: typeof maxAliasCount === 'number' ? maxAliasCount : 100\n        };\n        const res = toJS.toJS(this, '', ctx);\n        if (typeof onAnchor === 'function')\n            for (const { count, res } of ctx.anchors.values())\n                onAnchor(res, count);\n        return typeof reviver === 'function'\n            ? applyReviver.applyReviver(reviver, { '': res }, '', res)\n            : res;\n    }\n}\n\nexports.NodeBase = NodeBase;\n","'use strict';\n\nvar node_buffer = require('buffer');\nvar Scalar = require('../../nodes/Scalar.js');\nvar stringifyString = require('../../stringify/stringifyString.js');\n\nconst binary = {\n    identify: value => value instanceof Uint8Array, // Buffer inherits from Uint8Array\n    default: false,\n    tag: 'tag:yaml.org,2002:binary',\n    /**\n     * Returns a Buffer in node and an Uint8Array in browsers\n     *\n     * To use the resulting buffer as an image, you'll want to do something like:\n     *\n     *   const blob = new Blob([buffer], { type: 'image/jpeg' })\n     *   document.querySelector('#photo').src = URL.createObjectURL(blob)\n     */\n    resolve(src, onError) {\n        if (typeof node_buffer.Buffer === 'function') {\n            return node_buffer.Buffer.from(src, 'base64');\n        }\n        else if (typeof atob === 'function') {\n            // On IE 11, atob() can't handle newlines\n            const str = atob(src.replace(/[\\n\\r]/g, ''));\n            const buffer = new Uint8Array(str.length);\n            for (let i = 0; i < str.length; ++i)\n                buffer[i] = str.charCodeAt(i);\n            return buffer;\n        }\n        else {\n            onError('This environment does not support reading binary tags; either Buffer or atob is required');\n            return src;\n        }\n    },\n    stringify({ comment, type, value }, ctx, onComment, onChompKeep) {\n        if (!value)\n            return '';\n        const buf = value; // checked earlier by binary.identify()\n        let str;\n        if (typeof node_buffer.Buffer === 'function') {\n            str =\n                buf instanceof node_buffer.Buffer\n                    ? buf.toString('base64')\n                    : node_buffer.Buffer.from(buf.buffer).toString('base64');\n        }\n        else if (typeof btoa === 'function') {\n            let s = '';\n            for (let i = 0; i < buf.length; ++i)\n                s += String.fromCharCode(buf[i]);\n            str = btoa(s);\n        }\n        else {\n            throw new Error('This environment does not support writing binary tags; either Buffer or btoa is required');\n        }\n        type ?? (type = Scalar.Scalar.BLOCK_LITERAL);\n        if (type !== Scalar.Scalar.QUOTE_DOUBLE) {\n            const lineWidth = Math.max(ctx.options.lineWidth - ctx.indent.length, ctx.options.minContentWidth);\n            const n = Math.ceil(str.length / lineWidth);\n            const lines = new Array(n);\n            for (let i = 0, o = 0; i < n; ++i, o += lineWidth) {\n                lines[i] = str.substr(o, lineWidth);\n            }\n            str = lines.join(type === Scalar.Scalar.BLOCK_LITERAL ? '\\n' : ' ');\n        }\n        return stringifyString.stringifyString({ comment, type, value: str }, ctx, onComment, onChompKeep);\n    }\n};\n\nexports.binary = binary;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressPart = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nclass ProgressPart {\n    constructor(_client, _token, done) {\n        this._client = _client;\n        this._token = _token;\n        this._reported = 0;\n        this._infinite = false;\n        this._lspProgressDisposable = this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, (value) => {\n            switch (value.kind) {\n                case 'begin':\n                    this.begin(value);\n                    break;\n                case 'report':\n                    this.report(value);\n                    break;\n                case 'end':\n                    this.done();\n                    done && done(this);\n                    break;\n            }\n        });\n    }\n    begin(params) {\n        this._infinite = params.percentage === undefined;\n        // the progress as already been marked as done / canceled. Ignore begin call\n        if (this._lspProgressDisposable === undefined) {\n            return;\n        }\n        // Since we don't use commands this will be a silent window progress with a hidden notification.\n        void vscode_1.window.withProgress({ location: vscode_1.ProgressLocation.Window, cancellable: params.cancellable, title: params.title }, async (progress, cancellationToken) => {\n            // the progress as already been marked as done / canceled. Ignore begin call\n            if (this._lspProgressDisposable === undefined) {\n                return;\n            }\n            this._progress = progress;\n            this._cancellationToken = cancellationToken;\n            this._tokenDisposable = this._cancellationToken.onCancellationRequested(() => {\n                this._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, { token: this._token });\n            });\n            this.report(params);\n            return new Promise((resolve, reject) => {\n                this._resolve = resolve;\n                this._reject = reject;\n            });\n        });\n    }\n    report(params) {\n        if (this._infinite && Is.string(params.message)) {\n            this._progress !== undefined && this._progress.report({ message: params.message });\n        }\n        else if (Is.number(params.percentage)) {\n            const percentage = Math.max(0, Math.min(params.percentage, 100));\n            const delta = Math.max(0, percentage - this._reported);\n            this._reported += delta;\n            this._progress !== undefined && this._progress.report({ message: params.message, increment: delta });\n        }\n    }\n    cancel() {\n        this.cleanup();\n        if (this._reject !== undefined) {\n            this._reject();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    done() {\n        this.cleanup();\n        if (this._resolve !== undefined) {\n            this._resolve();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    cleanup() {\n        if (this._lspProgressDisposable !== undefined) {\n            this._lspProgressDisposable.dispose();\n            this._lspProgressDisposable = undefined;\n        }\n        if (this._tokenDisposable !== undefined) {\n            this._tokenDisposable.dispose();\n            this._tokenDisposable = undefined;\n        }\n        this._progress = undefined;\n        this._cancellationToken = undefined;\n    }\n}\nexports.ProgressPart = ProgressPart;\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n","'use strict'\n\nconst {\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_LENGTH,\n} = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst safeRe = exports.safeRe = []\nconst src = exports.src = []\nconst safeSrc = exports.safeSrc = []\nconst t = exports.t = {}\nlet R = 0\n\nconst LETTERDASHNUMBER = '[a-zA-Z0-9-]'\n\n// Replace some greedy regex tokens to prevent regex dos issues. These regex are\n// used internally via the safeRe object since all inputs in this library get\n// normalized first to trim and collapse all extra whitespace. The original\n// regexes are exported for userland consumption and lower level usage. A\n// future breaking change could export the safer regex only with a note that\n// all input should have extra whitespace removed.\nconst safeRegexReplacements = [\n  ['\\\\s', 1],\n  ['\\\\d', MAX_LENGTH],\n  [LETTERDASHNUMBER, MAX_SAFE_BUILD_LENGTH],\n]\n\nconst makeSafeRegex = (value) => {\n  for (const [token, max] of safeRegexReplacements) {\n    value = value\n      .split(`${token}*`).join(`${token}{0,${max}}`)\n      .split(`${token}+`).join(`${token}{1,${max}}`)\n  }\n  return value\n}\n\nconst createToken = (name, value, isGlobal) => {\n  const safe = makeSafeRegex(value)\n  const index = R++\n  debug(name, index, value)\n  t[name] = index\n  src[index] = value\n  safeSrc[index] = safe\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n  safeRe[index] = new RegExp(safe, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '\\\\d+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', `\\\\d*[a-zA-Z-]${LETTERDASHNUMBER}*`)\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n// Non-numberic identifiers include numberic identifiers but can be longer.\n// Therefore non-numberic identifiers must go first.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NONNUMERICIDENTIFIER]\n}|${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', `${LETTERDASHNUMBER}+`)\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCEPLAIN', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?`)\ncreateToken('COERCE', `${src[t.COERCEPLAIN]}(?:$|[^\\\\d])`)\ncreateToken('COERCEFULL', src[t.COERCEPLAIN] +\n              `(?:${src[t.PRERELEASE]})?` +\n              `(?:${src[t.BUILD]})?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\ncreateToken('COERCERTLFULL', src[t.COERCEFULL], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\\\.0\\\\.0-0\\\\s*$')\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asPromise = exports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\nfunction asPromise(value) {\n    if (value instanceof Promise) {\n        return value;\n    }\n    else if (thenable(value)) {\n        return new Promise((resolve, reject) => {\n            value.then((resolved) => resolve(resolved), (error) => reject(error));\n        });\n    }\n    else {\n        return Promise.resolve(value);\n    }\n}\nexports.asPromise = asPromise;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RenameFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst Is = require(\"./utils/is\");\nconst features_1 = require(\"./features\");\nclass RenameFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let rename = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'rename');\n        rename.dynamicRegistration = true;\n        rename.prepareSupport = true;\n        rename.prepareSupportDefaultBehavior = vscode_languageserver_protocol_1.PrepareSupportDefaultBehavior.Identifier;\n        rename.honorsChangeAnnotations = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.renameProvider);\n        if (!options) {\n            return;\n        }\n        if (Is.boolean(capabilities.renameProvider)) {\n            options.prepareProvider = false;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideRenameEdits: (document, position, newName, token) => {\n                const client = this._client;\n                const provideRenameEdits = (document, position, newName, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        newName: newName\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asWorkspaceEdit(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, token, error, null, false);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideRenameEdits\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\n                    : provideRenameEdits(document, position, newName, token);\n            },\n            prepareRename: options.prepareProvider\n                ? (document, position, token) => {\n                    const client = this._client;\n                    const prepareRename = (document, position, token) => {\n                        let params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            position: client.code2ProtocolConverter.asPosition(position),\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            if (vscode_languageserver_protocol_1.Range.is(result)) {\n                                return client.protocol2CodeConverter.asRange(result);\n                            }\n                            else if (this.isDefaultBehavior(result)) {\n                                return result.defaultBehavior === true\n                                    ? null\n                                    : Promise.reject(new Error(`The element can't be renamed.`));\n                            }\n                            else if (result && vscode_languageserver_protocol_1.Range.is(result.range)) {\n                                return {\n                                    range: client.protocol2CodeConverter.asRange(result.range),\n                                    placeholder: result.placeholder\n                                };\n                            }\n                            // To cancel the rename vscode API expects a rejected promise.\n                            return Promise.reject(new Error(`The element can't be renamed.`));\n                        }, (error) => {\n                            if (typeof error.message === 'string') {\n                                throw new Error(error.message);\n                            }\n                            else {\n                                throw new Error(`The element can't be renamed.`);\n                            }\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.prepareRename\n                        ? middleware.prepareRename(document, position, token, prepareRename)\n                        : prepareRename(document, position, token);\n                }\n                : undefined\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n    isDefaultBehavior(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.defaultBehavior);\n    }\n}\nexports.RenameFeature = RenameFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = DiagnosticRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionItemFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass InlineCompletionItemFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlineCompletionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let inlineCompletion = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlineCompletion');\n        inlineCompletion.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.inlineCompletionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideInlineCompletionItems: (document, position, context, token) => {\n                const client = this._client;\n                const middleware = this._client.middleware;\n                const provideInlineCompletionItems = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.InlineCompletionRequest.type, client.code2ProtocolConverter.asInlineCompletionParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlineCompletionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlineCompletionRequest.type, token, error, null);\n                    });\n                };\n                return middleware.provideInlineCompletionItems\n                    ? middleware.provideInlineCompletionItems(document, position, context, token, provideInlineCompletionItems)\n                    : provideInlineCompletionItems(document, position, context, token);\n            }\n        };\n        return [vscode_1.languages.registerInlineCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.InlineCompletionItemFeature = InlineCompletionItemFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest || (exports.ShowDocumentRequest = ShowDocumentRequest = {}));\n","'use strict';\n\nvar identity = require('../nodes/identity.js');\nvar visit = require('../visit.js');\n\nconst escapeChars = {\n    '!': '%21',\n    ',': '%2C',\n    '[': '%5B',\n    ']': '%5D',\n    '{': '%7B',\n    '}': '%7D'\n};\nconst escapeTagName = (tn) => tn.replace(/[!,[\\]{}]/g, ch => escapeChars[ch]);\nclass Directives {\n    constructor(yaml, tags) {\n        /**\n         * The directives-end/doc-start marker `---`. If `null`, a marker may still be\n         * included in the document's stringified representation.\n         */\n        this.docStart = null;\n        /** The doc-end marker `...`.  */\n        this.docEnd = false;\n        this.yaml = Object.assign({}, Directives.defaultYaml, yaml);\n        this.tags = Object.assign({}, Directives.defaultTags, tags);\n    }\n    clone() {\n        const copy = new Directives(this.yaml, this.tags);\n        copy.docStart = this.docStart;\n        return copy;\n    }\n    /**\n     * During parsing, get a Directives instance for the current document and\n     * update the stream state according to the current version's spec.\n     */\n    atDocument() {\n        const res = new Directives(this.yaml, this.tags);\n        switch (this.yaml.version) {\n            case '1.1':\n                this.atNextDocument = true;\n                break;\n            case '1.2':\n                this.atNextDocument = false;\n                this.yaml = {\n                    explicit: Directives.defaultYaml.explicit,\n                    version: '1.2'\n                };\n                this.tags = Object.assign({}, Directives.defaultTags);\n                break;\n        }\n        return res;\n    }\n    /**\n     * @param onError - May be called even if the action was successful\n     * @returns `true` on success\n     */\n    add(line, onError) {\n        if (this.atNextDocument) {\n            this.yaml = { explicit: Directives.defaultYaml.explicit, version: '1.1' };\n            this.tags = Object.assign({}, Directives.defaultTags);\n            this.atNextDocument = false;\n        }\n        const parts = line.trim().split(/[ \\t]+/);\n        const name = parts.shift();\n        switch (name) {\n            case '%TAG': {\n                if (parts.length !== 2) {\n                    onError(0, '%TAG directive should contain exactly two parts');\n                    if (parts.length < 2)\n                        return false;\n                }\n                const [handle, prefix] = parts;\n                this.tags[handle] = prefix;\n                return true;\n            }\n            case '%YAML': {\n                this.yaml.explicit = true;\n                if (parts.length !== 1) {\n                    onError(0, '%YAML directive should contain exactly one part');\n                    return false;\n                }\n                const [version] = parts;\n                if (version === '1.1' || version === '1.2') {\n                    this.yaml.version = version;\n                    return true;\n                }\n                else {\n                    const isValid = /^\\d+\\.\\d+$/.test(version);\n                    onError(6, `Unsupported YAML version ${version}`, isValid);\n                    return false;\n                }\n            }\n            default:\n                onError(0, `Unknown directive ${name}`, true);\n                return false;\n        }\n    }\n    /**\n     * Resolves a tag, matching handles to those defined in %TAG directives.\n     *\n     * @returns Resolved tag, which may also be the non-specific tag `'!'` or a\n     *   `'!local'` tag, or `null` if unresolvable.\n     */\n    tagName(source, onError) {\n        if (source === '!')\n            return '!'; // non-specific tag\n        if (source[0] !== '!') {\n            onError(`Not a valid tag: ${source}`);\n            return null;\n        }\n        if (source[1] === '<') {\n            const verbatim = source.slice(2, -1);\n            if (verbatim === '!' || verbatim === '!!') {\n                onError(`Verbatim tags aren't resolved, so ${source} is invalid.`);\n                return null;\n            }\n            if (source[source.length - 1] !== '>')\n                onError('Verbatim tags must end with a >');\n            return verbatim;\n        }\n        const [, handle, suffix] = source.match(/^(.*!)([^!]*)$/s);\n        if (!suffix)\n            onError(`The ${source} tag has no suffix`);\n        const prefix = this.tags[handle];\n        if (prefix) {\n            try {\n                return prefix + decodeURIComponent(suffix);\n            }\n            catch (error) {\n                onError(String(error));\n                return null;\n            }\n        }\n        if (handle === '!')\n            return source; // local tag\n        onError(`Could not resolve tag: ${source}`);\n        return null;\n    }\n    /**\n     * Given a fully resolved tag, returns its printable string form,\n     * taking into account current tag prefixes and defaults.\n     */\n    tagString(tag) {\n        for (const [handle, prefix] of Object.entries(this.tags)) {\n            if (tag.startsWith(prefix))\n                return handle + escapeTagName(tag.substring(prefix.length));\n        }\n        return tag[0] === '!' ? tag : `!<${tag}>`;\n    }\n    toString(doc) {\n        const lines = this.yaml.explicit\n            ? [`%YAML ${this.yaml.version || '1.2'}`]\n            : [];\n        const tagEntries = Object.entries(this.tags);\n        let tagNames;\n        if (doc && tagEntries.length > 0 && identity.isNode(doc.contents)) {\n            const tags = {};\n            visit.visit(doc.contents, (_key, node) => {\n                if (identity.isNode(node) && node.tag)\n                    tags[node.tag] = true;\n            });\n            tagNames = Object.keys(tags);\n        }\n        else\n            tagNames = [];\n        for (const [handle, prefix] of tagEntries) {\n            if (handle === '!!' && prefix === 'tag:yaml.org,2002:')\n                continue;\n            if (!doc || tagNames.some(tn => tn.startsWith(prefix)))\n                lines.push(`%TAG ${handle} ${prefix}`);\n        }\n        return lines.join('\\n');\n    }\n}\nDirectives.defaultYaml = { explicit: false, version: '1.2' };\nDirectives.defaultTags = { '!!': 'tag:yaml.org,2002:' };\n\nexports.Directives = Directives;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentSymbolFeature = exports.SupportedSymbolTags = exports.SupportedSymbolKinds = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nexports.SupportedSymbolKinds = [\n    vscode_languageserver_protocol_1.SymbolKind.File,\n    vscode_languageserver_protocol_1.SymbolKind.Module,\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\n    vscode_languageserver_protocol_1.SymbolKind.Package,\n    vscode_languageserver_protocol_1.SymbolKind.Class,\n    vscode_languageserver_protocol_1.SymbolKind.Method,\n    vscode_languageserver_protocol_1.SymbolKind.Property,\n    vscode_languageserver_protocol_1.SymbolKind.Field,\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\n    vscode_languageserver_protocol_1.SymbolKind.Function,\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\n    vscode_languageserver_protocol_1.SymbolKind.String,\n    vscode_languageserver_protocol_1.SymbolKind.Number,\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\n    vscode_languageserver_protocol_1.SymbolKind.Array,\n    vscode_languageserver_protocol_1.SymbolKind.Object,\n    vscode_languageserver_protocol_1.SymbolKind.Key,\n    vscode_languageserver_protocol_1.SymbolKind.Null,\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\n    vscode_languageserver_protocol_1.SymbolKind.Event,\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\n];\nexports.SupportedSymbolTags = [\n    vscode_languageserver_protocol_1.SymbolTag.Deprecated\n];\nclass DocumentSymbolFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentSymbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: exports.SupportedSymbolKinds\n        };\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\n        symbolCapabilities.tagSupport = {\n            valueSet: exports.SupportedSymbolTags\n        };\n        symbolCapabilities.labelSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentSymbolProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentSymbols: (document, token) => {\n                const client = this._client;\n                const _provideDocumentSymbols = async (document, token) => {\n                    try {\n                        const data = await client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token);\n                        if (token.isCancellationRequested || data === undefined || data === null) {\n                            return null;\n                        }\n                        if (data.length === 0) {\n                            return [];\n                        }\n                        else {\n                            const first = data[0];\n                            if (vscode_languageserver_protocol_1.DocumentSymbol.is(first)) {\n                                return await client.protocol2CodeConverter.asDocumentSymbols(data, token);\n                            }\n                            else {\n                                return await client.protocol2CodeConverter.asSymbolInformations(data, token);\n                            }\n                        }\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentSymbols\n                    ? middleware.provideDocumentSymbols(document, token, _provideDocumentSymbols)\n                    : _provideDocumentSymbols(document, token);\n            }\n        };\n        const metaData = options.label !== undefined ? { label: options.label } : undefined;\n        return [vscode_1.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, metaData), provider];\n    }\n}\nexports.DocumentSymbolFeature = DocumentSymbolFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n","import * as vscode from 'vscode';\nimport * as path from 'path';\nimport * as YAML from 'yaml';\nimport { ExecutionGraphBuilder } from '@workflow/graph';\nimport type { WorkflowSpec } from '@workflow/types';\n\nexport class WorkflowGraphPanel {\n  public static currentPanel: WorkflowGraphPanel | undefined;\n  private readonly _panel: vscode.WebviewPanel;\n  private readonly _extensionUri: vscode.Uri;\n  private _disposables: vscode.Disposable[] = [];\n\n  public static createOrShow(extensionUri: vscode.Uri, workflowYaml: string) {\n    const column = vscode.window.activeTextEditor\n      ? vscode.window.activeTextEditor.viewColumn\n      : undefined;\n\n    // If we already have a panel, show it\n    if (WorkflowGraphPanel.currentPanel) {\n      WorkflowGraphPanel.currentPanel._panel.reveal(column);\n      WorkflowGraphPanel.currentPanel._update(workflowYaml);\n      return;\n    }\n\n    // Otherwise, create a new panel\n    const panel = vscode.window.createWebviewPanel(\n      'workflowGraph',\n      'Workflow Graph',\n      column || vscode.ViewColumn.Two,\n      {\n        enableScripts: true,\n        localResourceRoots: [\n          vscode.Uri.joinPath(extensionUri, 'client', 'dist', 'webview')\n        ]\n      }\n    );\n\n    WorkflowGraphPanel.currentPanel = new WorkflowGraphPanel(panel, extensionUri, workflowYaml);\n  }\n\n  private constructor(panel: vscode.WebviewPanel, extensionUri: vscode.Uri, workflowYaml: string) {\n    this._panel = panel;\n    this._extensionUri = extensionUri;\n\n    // Set HTML first\n    this._panel.webview.html = this._getHtmlForWebview(this._panel.webview);\n\n    // Listen for messages from webview\n    this._panel.webview.onDidReceiveMessage(\n      (message) => {\n        if (message.type === 'webviewReady') {\n          console.log('[GraphPanel] WebView ready, sending workflow data');\n          this._update(workflowYaml);\n        }\n      },\n      null,\n      this._disposables\n    );\n\n    // Listen for when the panel is disposed\n    this._panel.onDidDispose(() => this.dispose(), null, this._disposables);\n  }\n\n  public dispose() {\n    WorkflowGraphPanel.currentPanel = undefined;\n\n    this._panel.dispose();\n\n    while (this._disposables.length) {\n      const disposable = this._disposables.pop();\n      if (disposable) {\n        disposable.dispose();\n      }\n    }\n  }\n\n  private _update(workflowYaml: string) {\n    const webview = this._panel.webview;\n\n    try {\n      // Parse YAML and build graph\n      const workflow = YAML.parse(workflowYaml) as any;\n      console.log('[GraphPanel] Parsed workflow:', workflow);\n\n      if (!workflow || workflow.kind !== 'Workflow') {\n        console.log('[GraphPanel] Invalid workflow kind:', workflow?.kind);\n        webview.postMessage({\n          type: 'error',\n          message: 'Not a valid Workflow document'\n        });\n        return;\n      }\n\n      // Build execution graph\n      const graphBuilder = new ExecutionGraphBuilder();\n      const executionGraph = graphBuilder.build(workflow.spec as WorkflowSpec);\n      console.log('[GraphPanel] Built execution graph:', executionGraph);\n\n      // Convert to the format expected by the WebView\n      const graph = {\n        nodes: executionGraph.nodes.map((node: any) => ({\n          id: node.id,\n          type: 'task',\n          label: node.taskRef || node.id\n        })),\n        edges: executionGraph.edges.map((edge: any) => ({\n          source: edge.from,\n          target: edge.to\n        })),\n        parallelGroups: []\n      };\n\n      console.log('[GraphPanel] Sending graph to webview with', graph.nodes.length, 'nodes and', graph.edges.length, 'edges');\n\n      // Send graph to webview\n      webview.postMessage({\n        type: 'updateGraph',\n        graph\n      });\n\n    } catch (err: any) {\n      console.error('[GraphPanel] Error:', err);\n      webview.postMessage({\n        type: 'error',\n        message: `Failed to parse workflow: ${err.message}`\n      });\n    }\n  }\n\n  private _getHtmlForWebview(webview: vscode.Webview) {\n    // Get the URI for the bundled React app\n    const scriptUri = webview.asWebviewUri(\n      vscode.Uri.joinPath(this._extensionUri, 'client', 'dist', 'webview', 'bundle.js')\n    );\n\n    // Use a nonce to only allow specific scripts to be run\n    const nonce = getNonce();\n\n    return `<!DOCTYPE html>\n<html lang=\"en\">\n<head>\n  <meta charset=\"UTF-8\">\n  <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n  <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; img-src data: ${webview.cspSource}; style-src ${webview.cspSource} 'unsafe-inline'; script-src 'nonce-${nonce}';\">\n  <title>Workflow Graph</title>\n  <style>\n    body {\n      margin: 0;\n      padding: 0;\n      overflow: hidden;\n    }\n    #root {\n      width: 100vw;\n      height: 100vh;\n    }\n  </style>\n</head>\n<body>\n  <div id=\"root\"></div>\n  <script nonce=\"${nonce}\" src=\"${scriptUri}\"></script>\n</body>\n</html>`;\n  }\n}\n\nfunction getNonce() {\n  let text = '';\n  const possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\n  for (let i = 0; i < 32; i++) {\n    text += possible.charAt(Math.floor(Math.random() * possible.length));\n  }\n  return text;\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReferencesFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass ReferencesFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'references').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.referencesProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideReferences: (document, position, options, token) => {\n                const client = this._client;\n                const _providerReferences = (document, position, options, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asReferences(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideReferences\n                    ? middleware.provideReferences(document, position, options, token, _providerReferences)\n                    : _providerReferences(document, position, options, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.ReferencesFeature = ReferencesFeature;\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst parse = (version, options, throwErrors = false) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    if (!throwErrors) {\n      return null\n    }\n    throw er\n  }\n}\n\nmodule.exports = parse\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type {@link DocumentColorParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest || (exports.DocumentColorRequest = DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type {@link ColorPresentationParams} the\n * response is of type {@link ColorInformation ColorInformation[]} or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest || (exports.ColorPresentationRequest = ColorPresentationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocumentSyncFeature = void 0;\nconst vscode = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst Is = require(\"./utils/is\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar Converter;\n(function (Converter) {\n    let c2p;\n    (function (c2p) {\n        function asVersionedNotebookDocumentIdentifier(notebookDocument, base) {\n            return {\n                version: notebookDocument.version,\n                uri: base.asUri(notebookDocument.uri)\n            };\n        }\n        c2p.asVersionedNotebookDocumentIdentifier = asVersionedNotebookDocumentIdentifier;\n        function asNotebookDocument(notebookDocument, cells, base) {\n            const result = proto.NotebookDocument.create(base.asUri(notebookDocument.uri), notebookDocument.notebookType, notebookDocument.version, asNotebookCells(cells, base));\n            if (Object.keys(notebookDocument.metadata).length > 0) {\n                result.metadata = asMetadata(notebookDocument.metadata);\n            }\n            return result;\n        }\n        c2p.asNotebookDocument = asNotebookDocument;\n        function asNotebookCells(cells, base) {\n            return cells.map(cell => asNotebookCell(cell, base));\n        }\n        c2p.asNotebookCells = asNotebookCells;\n        function asMetadata(metadata) {\n            const seen = new Set();\n            return deepCopy(seen, metadata);\n        }\n        c2p.asMetadata = asMetadata;\n        function asNotebookCell(cell, base) {\n            const result = proto.NotebookCell.create(asNotebookCellKind(cell.kind), base.asUri(cell.document.uri));\n            if (Object.keys(cell.metadata).length > 0) {\n                result.metadata = asMetadata(cell.metadata);\n            }\n            if (cell.executionSummary !== undefined && (Is.number(cell.executionSummary.executionOrder) && Is.boolean(cell.executionSummary.success))) {\n                result.executionSummary = {\n                    executionOrder: cell.executionSummary.executionOrder,\n                    success: cell.executionSummary.success\n                };\n            }\n            return result;\n        }\n        c2p.asNotebookCell = asNotebookCell;\n        function asNotebookCellKind(kind) {\n            switch (kind) {\n                case vscode.NotebookCellKind.Markup:\n                    return proto.NotebookCellKind.Markup;\n                case vscode.NotebookCellKind.Code:\n                    return proto.NotebookCellKind.Code;\n            }\n        }\n        function deepCopy(seen, value) {\n            if (seen.has(value)) {\n                throw new Error(`Can't deep copy cyclic structures.`);\n            }\n            if (Array.isArray(value)) {\n                const result = [];\n                for (const elem of value) {\n                    if (elem !== null && typeof elem === 'object' || Array.isArray(elem)) {\n                        result.push(deepCopy(seen, elem));\n                    }\n                    else {\n                        if (elem instanceof RegExp) {\n                            throw new Error(`Can't transfer regular expressions to the server`);\n                        }\n                        result.push(elem);\n                    }\n                }\n                return result;\n            }\n            else {\n                const props = Object.keys(value);\n                const result = Object.create(null);\n                for (const prop of props) {\n                    const elem = value[prop];\n                    if (elem !== null && typeof elem === 'object' || Array.isArray(elem)) {\n                        result[prop] = deepCopy(seen, elem);\n                    }\n                    else {\n                        if (elem instanceof RegExp) {\n                            throw new Error(`Can't transfer regular expressions to the server`);\n                        }\n                        result[prop] = elem;\n                    }\n                }\n                return result;\n            }\n        }\n        function asTextContentChange(event, base) {\n            const params = base.asChangeTextDocumentParams(event, event.document.uri, event.document.version);\n            return { document: params.textDocument, changes: params.contentChanges };\n        }\n        c2p.asTextContentChange = asTextContentChange;\n        function asNotebookDocumentChangeEvent(event, base) {\n            const result = Object.create(null);\n            if (event.metadata) {\n                result.metadata = Converter.c2p.asMetadata(event.metadata);\n            }\n            if (event.cells !== undefined) {\n                const cells = Object.create(null);\n                const changedCells = event.cells;\n                if (changedCells.structure) {\n                    cells.structure = {\n                        array: {\n                            start: changedCells.structure.array.start,\n                            deleteCount: changedCells.structure.array.deleteCount,\n                            cells: changedCells.structure.array.cells !== undefined ? changedCells.structure.array.cells.map(cell => Converter.c2p.asNotebookCell(cell, base)) : undefined\n                        },\n                        didOpen: changedCells.structure.didOpen !== undefined\n                            ? changedCells.structure.didOpen.map(cell => base.asOpenTextDocumentParams(cell.document).textDocument)\n                            : undefined,\n                        didClose: changedCells.structure.didClose !== undefined\n                            ? changedCells.structure.didClose.map(cell => base.asCloseTextDocumentParams(cell.document).textDocument)\n                            : undefined\n                    };\n                }\n                if (changedCells.data !== undefined) {\n                    cells.data = changedCells.data.map(cell => Converter.c2p.asNotebookCell(cell, base));\n                }\n                if (changedCells.textContent !== undefined) {\n                    cells.textContent = changedCells.textContent.map(event => Converter.c2p.asTextContentChange(event, base));\n                }\n                if (Object.keys(cells).length > 0) {\n                    result.cells = cells;\n                }\n            }\n            return result;\n        }\n        c2p.asNotebookDocumentChangeEvent = asNotebookDocumentChangeEvent;\n    })(c2p = Converter.c2p || (Converter.c2p = {}));\n})(Converter || (Converter = {}));\nvar $NotebookCell;\n(function ($NotebookCell) {\n    function computeDiff(originalCells, modifiedCells, compareMetadata) {\n        const originalLength = originalCells.length;\n        const modifiedLength = modifiedCells.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && equals(originalCells[startIndex], modifiedCells[startIndex], compareMetadata)) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= 0 && modifiedEndIndex >= 0 && equals(originalCells[originalEndIndex], modifiedCells[modifiedEndIndex], compareMetadata)) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            const deleteCount = (originalEndIndex + 1) - startIndex;\n            const newCells = startIndex === modifiedEndIndex + 1 ? undefined : modifiedCells.slice(startIndex, modifiedEndIndex + 1);\n            return newCells !== undefined ? { start: startIndex, deleteCount, cells: newCells } : { start: startIndex, deleteCount };\n        }\n        else if (startIndex < modifiedLength) {\n            return { start: startIndex, deleteCount: 0, cells: modifiedCells.slice(startIndex) };\n        }\n        else if (startIndex < originalLength) {\n            return { start: startIndex, deleteCount: originalLength - startIndex };\n        }\n        else {\n            // The two arrays are the same.\n            return undefined;\n        }\n    }\n    $NotebookCell.computeDiff = computeDiff;\n    /**\n     * We only sync kind, document, execution and metadata to the server. So we only need to compare those.\n     */\n    function equals(one, other, compareMetaData = true) {\n        if (one.kind !== other.kind || one.document.uri.toString() !== other.document.uri.toString() || one.document.languageId !== other.document.languageId ||\n            !equalsExecution(one.executionSummary, other.executionSummary)) {\n            return false;\n        }\n        return !compareMetaData || (compareMetaData && equalsMetadata(one.metadata, other.metadata));\n    }\n    function equalsExecution(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === undefined || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success && equalsTiming(one.timing, other.timing);\n    }\n    function equalsTiming(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === undefined || other === undefined) {\n            return false;\n        }\n        return one.startTime === other.startTime && one.endTime === other.endTime;\n    }\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (isObjectLiteral(one) && isObjectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    function isObjectLiteral(value) {\n        return value !== null && typeof value === 'object';\n    }\n    $NotebookCell.isObjectLiteral = isObjectLiteral;\n})($NotebookCell || ($NotebookCell = {}));\nvar $NotebookDocumentFilter;\n(function ($NotebookDocumentFilter) {\n    function matchNotebook(filter, notebookDocument) {\n        if (typeof filter === 'string') {\n            return filter === '*' || notebookDocument.notebookType === filter;\n        }\n        if (filter.notebookType !== undefined && filter.notebookType !== '*' && notebookDocument.notebookType !== filter.notebookType) {\n            return false;\n        }\n        const uri = notebookDocument.uri;\n        if (filter.scheme !== undefined && filter.scheme !== '*' && uri.scheme !== filter.scheme) {\n            return false;\n        }\n        if (filter.pattern !== undefined) {\n            const matcher = new minimatch.Minimatch(filter.pattern, { noext: true });\n            if (!matcher.makeRe()) {\n                return false;\n            }\n            if (!matcher.match(uri.fsPath)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    $NotebookDocumentFilter.matchNotebook = matchNotebook;\n})($NotebookDocumentFilter || ($NotebookDocumentFilter = {}));\nvar $NotebookDocumentSyncOptions;\n(function ($NotebookDocumentSyncOptions) {\n    function asDocumentSelector(options) {\n        const selector = options.notebookSelector;\n        const result = [];\n        for (const element of selector) {\n            const notebookType = (typeof element.notebook === 'string' ? element.notebook : element.notebook?.notebookType) ?? '*';\n            const scheme = (typeof element.notebook === 'string') ? undefined : element.notebook?.scheme;\n            const pattern = (typeof element.notebook === 'string') ? undefined : element.notebook?.pattern;\n            if (element.cells !== undefined) {\n                for (const cell of element.cells) {\n                    result.push(asDocumentFilter(notebookType, scheme, pattern, cell.language));\n                }\n            }\n            else {\n                result.push(asDocumentFilter(notebookType, scheme, pattern, undefined));\n            }\n        }\n        return result;\n    }\n    $NotebookDocumentSyncOptions.asDocumentSelector = asDocumentSelector;\n    function asDocumentFilter(notebookType, scheme, pattern, language) {\n        return scheme === undefined && pattern === undefined\n            ? { notebook: notebookType, language }\n            : { notebook: { notebookType, scheme, pattern }, language };\n    }\n})($NotebookDocumentSyncOptions || ($NotebookDocumentSyncOptions = {}));\nvar SyncInfo;\n(function (SyncInfo) {\n    function create(cells) {\n        return {\n            cells,\n            uris: new Set(cells.map(cell => cell.document.uri.toString()))\n        };\n    }\n    SyncInfo.create = create;\n})(SyncInfo || (SyncInfo = {}));\nclass NotebookDocumentSyncFeatureProvider {\n    constructor(client, options) {\n        this.client = client;\n        this.options = options;\n        this.notebookSyncInfo = new Map();\n        this.notebookDidOpen = new Set();\n        this.disposables = [];\n        this.selector = client.protocol2CodeConverter.asDocumentSelector($NotebookDocumentSyncOptions.asDocumentSelector(options));\n        // open\n        vscode.workspace.onDidOpenNotebookDocument((notebookDocument) => {\n            this.notebookDidOpen.add(notebookDocument.uri.toString());\n            this.didOpen(notebookDocument);\n        }, undefined, this.disposables);\n        for (const notebookDocument of vscode.workspace.notebookDocuments) {\n            this.notebookDidOpen.add(notebookDocument.uri.toString());\n            this.didOpen(notebookDocument);\n        }\n        // Notebook document changed.\n        vscode.workspace.onDidChangeNotebookDocument(event => this.didChangeNotebookDocument(event), undefined, this.disposables);\n        //save\n        if (this.options.save === true) {\n            vscode.workspace.onDidSaveNotebookDocument(notebookDocument => this.didSave(notebookDocument), undefined, this.disposables);\n        }\n        // close\n        vscode.workspace.onDidCloseNotebookDocument((notebookDocument) => {\n            this.didClose(notebookDocument);\n            this.notebookDidOpen.delete(notebookDocument.uri.toString());\n        }, undefined, this.disposables);\n    }\n    getState() {\n        for (const notebook of vscode.workspace.notebookDocuments) {\n            const matchingCells = this.getMatchingCells(notebook);\n            if (matchingCells !== undefined) {\n                return { kind: 'document', id: '$internal', registrations: true, matches: true };\n            }\n        }\n        return { kind: 'document', id: '$internal', registrations: true, matches: false };\n    }\n    get mode() {\n        return 'notebook';\n    }\n    handles(textDocument) {\n        return vscode.languages.match(this.selector, textDocument) > 0;\n    }\n    didOpenNotebookCellTextDocument(notebookDocument, cell) {\n        if (vscode.languages.match(this.selector, cell.document) === 0) {\n            return;\n        }\n        if (!this.notebookDidOpen.has(notebookDocument.uri.toString())) {\n            // We have never received an open notification for the notebook document.\n            // VS Code guarantees that we first get cell document open and then\n            // notebook open. So simply wait for the notebook open.\n            return;\n        }\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        // In VS Code we receive a notebook open before a cell document open.\n        // The document and the cell is synced.\n        const cellMatches = this.cellMatches(notebookDocument, cell);\n        if (syncInfo !== undefined) {\n            const cellIsSynced = syncInfo.uris.has(cell.document.uri.toString());\n            if ((cellMatches && cellIsSynced) || (!cellMatches && !cellIsSynced)) {\n                // The cell doesn't match and was not synced or it matches and is synced.\n                // In both cases nothing to do.\n                //\n                // Note that if the language mode of a document changes we remove the\n                // cell and add it back to update the language mode on the server side.\n                return;\n            }\n            if (cellMatches) {\n                // don't use cells from above since there might be more matching cells in the notebook\n                // Since we had a matching cell above we will have matching cells now.\n                const matchingCells = this.getMatchingCells(notebookDocument);\n                if (matchingCells !== undefined) {\n                    const event = this.asNotebookDocumentChangeEvent(notebookDocument, undefined, syncInfo, matchingCells);\n                    if (event !== undefined) {\n                        this.doSendChange(event, matchingCells).catch(() => { });\n                    }\n                }\n            }\n        }\n        else {\n            // No sync info. But we have a open event for the notebook document\n            // itself. If the cell matches then we need to send an open with\n            // exactly that cell.\n            if (cellMatches) {\n                this.doSendOpen(notebookDocument, [cell]).catch(() => { });\n            }\n        }\n    }\n    didChangeNotebookCellTextDocument(notebookDocument, event) {\n        // No match with the selector\n        if (vscode.languages.match(this.selector, event.document) === 0) {\n            return;\n        }\n        this.doSendChange({\n            notebook: notebookDocument,\n            cells: { textContent: [event] }\n        }, undefined).catch(() => { });\n    }\n    didCloseNotebookCellTextDocument(notebookDocument, cell) {\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            // The notebook document got never synced. So it doesn't matter if a cell\n            // document closes.\n            return;\n        }\n        const cellUri = cell.document.uri;\n        const index = syncInfo.cells.findIndex((item) => item.document.uri.toString() === cellUri.toString());\n        if (index === -1) {\n            // The cell never got synced or it got deleted and we now received the document\n            // close event.\n            return;\n        }\n        if (index === 0 && syncInfo.cells.length === 1) {\n            // The last cell. Close the notebook document in the server.\n            this.doSendClose(notebookDocument, syncInfo.cells).catch(() => { });\n        }\n        else {\n            const newCells = syncInfo.cells.slice();\n            const deleted = newCells.splice(index, 1);\n            this.doSendChange({\n                notebook: notebookDocument,\n                cells: {\n                    structure: {\n                        array: { start: index, deleteCount: 1 },\n                        didClose: deleted\n                    }\n                }\n            }, newCells).catch(() => { });\n        }\n    }\n    dispose() {\n        for (const disposable of this.disposables) {\n            disposable.dispose();\n        }\n    }\n    didOpen(notebookDocument, matchingCells = this.getMatchingCells(notebookDocument), syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString())) {\n        if (syncInfo !== undefined) {\n            if (matchingCells !== undefined) {\n                const event = this.asNotebookDocumentChangeEvent(notebookDocument, undefined, syncInfo, matchingCells);\n                if (event !== undefined) {\n                    this.doSendChange(event, matchingCells).catch(() => { });\n                }\n            }\n            else {\n                this.doSendClose(notebookDocument, []).catch(() => { });\n            }\n        }\n        else {\n            // Check if we need to sync the notebook document.\n            if (matchingCells === undefined) {\n                return;\n            }\n            this.doSendOpen(notebookDocument, matchingCells).catch(() => { });\n        }\n    }\n    didChangeNotebookDocument(event) {\n        const notebookDocument = event.notebook;\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            // We have no changes to the cells. Since the notebook wasn't synced\n            // it will not be synced now.\n            if (event.contentChanges.length === 0) {\n                return;\n            }\n            // Check if we have new matching cells.\n            const cells = this.getMatchingCells(notebookDocument);\n            // No matching cells and the notebook never synced. So still no need\n            // to sync it.\n            if (cells === undefined) {\n                return;\n            }\n            // Open the notebook document and ignore the rest of the changes\n            // this the notebooks will be synced with the correct settings.\n            this.didOpen(notebookDocument, cells, syncInfo);\n        }\n        else {\n            // The notebook is synced. First check if we have no matching\n            // cells anymore and if so close the notebook\n            const cells = this.getMatchingCells(notebookDocument);\n            if (cells === undefined) {\n                this.didClose(notebookDocument, syncInfo);\n                return;\n            }\n            const newEvent = this.asNotebookDocumentChangeEvent(event.notebook, event, syncInfo, cells);\n            if (newEvent !== undefined) {\n                this.doSendChange(newEvent, cells).catch(() => { });\n            }\n        }\n    }\n    didSave(notebookDocument) {\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            return;\n        }\n        this.doSendSave(notebookDocument).catch(() => { });\n    }\n    didClose(notebookDocument, syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString())) {\n        if (syncInfo === undefined) {\n            return;\n        }\n        const syncedCells = notebookDocument.getCells().filter(cell => syncInfo.uris.has(cell.document.uri.toString()));\n        this.doSendClose(notebookDocument, syncedCells).catch(() => { });\n    }\n    async sendDidOpenNotebookDocument(notebookDocument) {\n        const cells = this.getMatchingCells(notebookDocument);\n        if (cells === undefined) {\n            return;\n        }\n        return this.doSendOpen(notebookDocument, cells);\n    }\n    async doSendOpen(notebookDocument, cells) {\n        const send = async (notebookDocument, cells) => {\n            const nb = Converter.c2p.asNotebookDocument(notebookDocument, cells, this.client.code2ProtocolConverter);\n            const cellDocuments = cells.map(cell => this.client.code2ProtocolConverter.asTextDocumentItem(cell.document));\n            try {\n                await this.client.sendNotification(proto.DidOpenNotebookDocumentNotification.type, {\n                    notebookDocument: nb,\n                    cellTextDocuments: cellDocuments\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidOpenNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        this.notebookSyncInfo.set(notebookDocument.uri.toString(), SyncInfo.create(cells));\n        return middleware?.didOpen !== undefined ? middleware.didOpen(notebookDocument, cells, send) : send(notebookDocument, cells);\n    }\n    async sendDidChangeNotebookDocument(event) {\n        return this.doSendChange(event, undefined);\n    }\n    async doSendChange(event, cells = this.getMatchingCells(event.notebook)) {\n        const send = async (event) => {\n            try {\n                await this.client.sendNotification(proto.DidChangeNotebookDocumentNotification.type, {\n                    notebookDocument: Converter.c2p.asVersionedNotebookDocumentIdentifier(event.notebook, this.client.code2ProtocolConverter),\n                    change: Converter.c2p.asNotebookDocumentChangeEvent(event, this.client.code2ProtocolConverter)\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidChangeNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        if (event.cells?.structure !== undefined) {\n            this.notebookSyncInfo.set(event.notebook.uri.toString(), SyncInfo.create(cells ?? []));\n        }\n        return middleware?.didChange !== undefined ? middleware?.didChange(event, send) : send(event);\n    }\n    async sendDidSaveNotebookDocument(notebookDocument) {\n        return this.doSendSave(notebookDocument);\n    }\n    async doSendSave(notebookDocument) {\n        const send = async (notebookDocument) => {\n            try {\n                await this.client.sendNotification(proto.DidSaveNotebookDocumentNotification.type, {\n                    notebookDocument: { uri: this.client.code2ProtocolConverter.asUri(notebookDocument.uri) }\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidSaveNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        return middleware?.didSave !== undefined ? middleware.didSave(notebookDocument, send) : send(notebookDocument);\n    }\n    async sendDidCloseNotebookDocument(notebookDocument) {\n        return this.doSendClose(notebookDocument, this.getMatchingCells(notebookDocument) ?? []);\n    }\n    async doSendClose(notebookDocument, cells) {\n        const send = async (notebookDocument, cells) => {\n            try {\n                await this.client.sendNotification(proto.DidCloseNotebookDocumentNotification.type, {\n                    notebookDocument: { uri: this.client.code2ProtocolConverter.asUri(notebookDocument.uri) },\n                    cellTextDocuments: cells.map(cell => this.client.code2ProtocolConverter.asTextDocumentIdentifier(cell.document))\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidCloseNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        this.notebookSyncInfo.delete(notebookDocument.uri.toString());\n        return middleware?.didClose !== undefined ? middleware.didClose(notebookDocument, cells, send) : send(notebookDocument, cells);\n    }\n    asNotebookDocumentChangeEvent(notebook, event, syncInfo, matchingCells) {\n        if (event !== undefined && event.notebook !== notebook) {\n            throw new Error('Notebook must be identical');\n        }\n        const result = {\n            notebook: notebook\n        };\n        if (event?.metadata !== undefined) {\n            result.metadata = Converter.c2p.asMetadata(event.metadata);\n        }\n        let matchingCellsSet;\n        if (event?.cellChanges !== undefined && event.cellChanges.length > 0) {\n            const data = [];\n            // Only consider the new matching cells.\n            matchingCellsSet = new Set(matchingCells.map(cell => cell.document.uri.toString()));\n            for (const cellChange of event.cellChanges) {\n                if (matchingCellsSet.has(cellChange.cell.document.uri.toString()) && (cellChange.executionSummary !== undefined || cellChange.metadata !== undefined)) {\n                    data.push(cellChange.cell);\n                }\n            }\n            if (data.length > 0) {\n                result.cells = result.cells ?? {};\n                result.cells.data = data;\n            }\n        }\n        if (((event?.contentChanges !== undefined && event.contentChanges.length > 0) || event === undefined) && syncInfo !== undefined && matchingCells !== undefined) {\n            // We still have matching cells. Check if the cell changes\n            // affect the notebook on the server side.\n            const oldCells = syncInfo.cells;\n            const newCells = matchingCells;\n            // meta data changes are reported using on the cell itself. So we can ignore comparing\n            // it which has a positive effect on performance.\n            const diff = $NotebookCell.computeDiff(oldCells, newCells, false);\n            let addedCells;\n            let removedCells;\n            if (diff !== undefined) {\n                addedCells = diff.cells === undefined\n                    ? new Map()\n                    : new Map(diff.cells.map(cell => [cell.document.uri.toString(), cell]));\n                removedCells = diff.deleteCount === 0\n                    ? new Map()\n                    : new Map(oldCells.slice(diff.start, diff.start + diff.deleteCount).map(cell => [cell.document.uri.toString(), cell]));\n                // Remove the onces that got deleted and inserted again.\n                for (const key of Array.from(removedCells.keys())) {\n                    if (addedCells.has(key)) {\n                        removedCells.delete(key);\n                        addedCells.delete(key);\n                    }\n                }\n                result.cells = result.cells ?? {};\n                const didOpen = [];\n                const didClose = [];\n                if (addedCells.size > 0 || removedCells.size > 0) {\n                    for (const cell of addedCells.values()) {\n                        didOpen.push(cell);\n                    }\n                    for (const cell of removedCells.values()) {\n                        didClose.push(cell);\n                    }\n                }\n                result.cells.structure = {\n                    array: diff,\n                    didOpen,\n                    didClose\n                };\n            }\n        }\n        // The notebook is a property as well.\n        return Object.keys(result).length > 1 ? result : undefined;\n    }\n    getMatchingCells(notebookDocument, cells = notebookDocument.getCells()) {\n        if (this.options.notebookSelector === undefined) {\n            return undefined;\n        }\n        for (const item of this.options.notebookSelector) {\n            if (item.notebook === undefined || $NotebookDocumentFilter.matchNotebook(item.notebook, notebookDocument)) {\n                const filtered = this.filterCells(notebookDocument, cells, item.cells);\n                return filtered.length === 0 ? undefined : filtered;\n            }\n        }\n        return undefined;\n    }\n    cellMatches(notebookDocument, cell) {\n        const cells = this.getMatchingCells(notebookDocument, [cell]);\n        return cells !== undefined && cells[0] === cell;\n    }\n    filterCells(notebookDocument, cells, cellSelector) {\n        const filtered = cellSelector !== undefined ? cells.filter((cell) => {\n            const cellLanguage = cell.document.languageId;\n            return cellSelector.some((filter => (filter.language === '*' || cellLanguage === filter.language)));\n        }) : cells;\n        return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells === 'function'\n            ? this.client.clientOptions.notebookDocumentOptions.filterCells(notebookDocument, filtered)\n            : filtered;\n    }\n}\nclass NotebookDocumentSyncFeature {\n    constructor(client) {\n        this.client = client;\n        this.registrations = new Map();\n        this.registrationType = proto.NotebookDocumentSyncRegistrationType.type;\n        // We don't receive an event for cells where the document changes its language mode\n        // Since we allow servers to filter on the language mode we fire such an event ourselves.\n        vscode.workspace.onDidOpenTextDocument((textDocument) => {\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            const [notebookDocument, notebookCell] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined || notebookCell === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didOpenNotebookCellTextDocument(notebookDocument, notebookCell);\n                }\n            }\n        });\n        vscode.workspace.onDidChangeTextDocument((event) => {\n            if (event.contentChanges.length === 0) {\n                return;\n            }\n            const textDocument = event.document;\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            const [notebookDocument,] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didChangeNotebookCellTextDocument(notebookDocument, event);\n                }\n            }\n        });\n        vscode.workspace.onDidCloseTextDocument((textDocument) => {\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            // There are two cases when we receive a close for a text document\n            // 1: the cell got removed. This is handled in `onDidChangeNotebookCells`\n            // 2: the language mode of a cell changed. This keeps the URI stable so\n            //    we will still find the cell and the notebook document.\n            const [notebookDocument, notebookCell] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined || notebookCell === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didCloseNotebookCellTextDocument(notebookDocument, notebookCell);\n                }\n            }\n        });\n    }\n    getState() {\n        if (this.registrations.size === 0) {\n            return { kind: 'document', id: this.registrationType.method, registrations: false, matches: false };\n        }\n        for (const provider of this.registrations.values()) {\n            const state = provider.getState();\n            if (state.kind === 'document' && state.registrations === true && state.matches === true) {\n                return { kind: 'document', id: this.registrationType.method, registrations: true, matches: true };\n            }\n        }\n        return { kind: 'document', id: this.registrationType.method, registrations: true, matches: false };\n    }\n    fillClientCapabilities(capabilities) {\n        const synchronization = ensure(ensure(capabilities, 'notebookDocument'), 'synchronization');\n        synchronization.dynamicRegistration = true;\n        synchronization.executionSummarySupport = true;\n    }\n    preInitialize(capabilities) {\n        const options = capabilities.notebookDocumentSync;\n        if (options === undefined) {\n            return;\n        }\n        this.dedicatedChannel = this.client.protocol2CodeConverter.asDocumentSelector($NotebookDocumentSyncOptions.asDocumentSelector(options));\n    }\n    initialize(capabilities) {\n        const options = capabilities.notebookDocumentSync;\n        if (options === undefined) {\n            return;\n        }\n        const id = options.id ?? UUID.generateUuid();\n        this.register({ id, registerOptions: options });\n    }\n    register(data) {\n        const provider = new NotebookDocumentSyncFeatureProvider(this.client, data.registerOptions);\n        this.registrations.set(data.id, provider);\n    }\n    unregister(id) {\n        const provider = this.registrations.get(id);\n        provider && provider.dispose();\n    }\n    clear() {\n        for (const provider of this.registrations.values()) {\n            provider.dispose();\n        }\n        this.registrations.clear();\n    }\n    handles(textDocument) {\n        if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n            return false;\n        }\n        if (this.dedicatedChannel !== undefined && vscode.languages.match(this.dedicatedChannel, textDocument) > 0) {\n            return true;\n        }\n        for (const provider of this.registrations.values()) {\n            if (provider.handles(textDocument)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getProvider(notebookCell) {\n        for (const provider of this.registrations.values()) {\n            if (provider.handles(notebookCell.document)) {\n                return provider;\n            }\n        }\n        return undefined;\n    }\n    findNotebookDocumentAndCell(textDocument) {\n        const uri = textDocument.uri.toString();\n        for (const notebookDocument of vscode.workspace.notebookDocuments) {\n            for (const cell of notebookDocument.getCells()) {\n                if (cell.document.uri.toString() === uri) {\n                    return [notebookDocument, cell];\n                }\n            }\n        }\n        return [undefined, undefined];\n    }\n}\nexports.NotebookDocumentSyncFeature = NotebookDocumentSyncFeature;\nNotebookDocumentSyncFeature.CellScheme = 'vscode-notebook-cell';\n","'use strict';\n\nclass YAMLError extends Error {\n    constructor(name, pos, code, message) {\n        super();\n        this.name = name;\n        this.code = code;\n        this.message = message;\n        this.pos = pos;\n    }\n}\nclass YAMLParseError extends YAMLError {\n    constructor(pos, code, message) {\n        super('YAMLParseError', pos, code, message);\n    }\n}\nclass YAMLWarning extends YAMLError {\n    constructor(pos, code, message) {\n        super('YAMLWarning', pos, code, message);\n    }\n}\nconst prettifyError = (src, lc) => (error) => {\n    if (error.pos[0] === -1)\n        return;\n    error.linePos = error.pos.map(pos => lc.linePos(pos));\n    const { line, col } = error.linePos[0];\n    error.message += ` at line ${line}, column ${col}`;\n    let ci = col - 1;\n    let lineStr = src\n        .substring(lc.lineStarts[line - 1], lc.lineStarts[line])\n        .replace(/[\\n\\r]+$/, '');\n    // Trim to max 80 chars, keeping col position near the middle\n    if (ci >= 60 && lineStr.length > 80) {\n        const trimStart = Math.min(ci - 39, lineStr.length - 79);\n        lineStr = '' + lineStr.substring(trimStart);\n        ci -= trimStart - 1;\n    }\n    if (lineStr.length > 80)\n        lineStr = lineStr.substring(0, 79) + '';\n    // Include previous line in context if pointing at line start\n    if (line > 1 && /^ *$/.test(lineStr.substring(0, ci))) {\n        // Regexp won't match if start is trimmed\n        let prev = src.substring(lc.lineStarts[line - 2], lc.lineStarts[line - 1]);\n        if (prev.length > 80)\n            prev = prev.substring(0, 79) + '\\n';\n        lineStr = prev + lineStr;\n    }\n    if (/[^ ]/.test(lineStr)) {\n        let count = 1;\n        const end = error.linePos[1];\n        if (end && end.line === line && end.col > col) {\n            count = Math.max(1, Math.min(end.col - col, 80 - ci));\n        }\n        const pointer = ' '.repeat(ci) + '^'.repeat(count);\n        error.message += `:\\n\\n${lineStr}\\n${pointer}\\n`;\n    }\n};\n\nexports.YAMLError = YAMLError;\nexports.YAMLParseError = YAMLParseError;\nexports.YAMLWarning = YAMLWarning;\nexports.prettifyError = prettifyError;\n","'use strict';\n\nvar identity = require('../../nodes/identity.js');\nvar Scalar = require('../../nodes/Scalar.js');\n\n// If the value associated with a merge key is a single mapping node, each of\n// its key/value pairs is inserted into the current mapping, unless the key\n// already exists in it. If the value associated with the merge key is a\n// sequence, then this sequence is expected to contain mapping nodes and each\n// of these nodes is merged in turn according to its order in the sequence.\n// Keys in mapping nodes earlier in the sequence override keys specified in\n// later mapping nodes. -- http://yaml.org/type/merge.html\nconst MERGE_KEY = '<<';\nconst merge = {\n    identify: value => value === MERGE_KEY ||\n        (typeof value === 'symbol' && value.description === MERGE_KEY),\n    default: 'key',\n    tag: 'tag:yaml.org,2002:merge',\n    test: /^<<$/,\n    resolve: () => Object.assign(new Scalar.Scalar(Symbol(MERGE_KEY)), {\n        addToJSMap: addMergeToJSMap\n    }),\n    stringify: () => MERGE_KEY\n};\nconst isMergeKey = (ctx, key) => (merge.identify(key) ||\n    (identity.isScalar(key) &&\n        (!key.type || key.type === Scalar.Scalar.PLAIN) &&\n        merge.identify(key.value))) &&\n    ctx?.doc.schema.tags.some(tag => tag.tag === merge.tag && tag.default);\nfunction addMergeToJSMap(ctx, map, value) {\n    value = ctx && identity.isAlias(value) ? value.resolve(ctx.doc) : value;\n    if (identity.isSeq(value))\n        for (const it of value.items)\n            mergeValue(ctx, map, it);\n    else if (Array.isArray(value))\n        for (const it of value)\n            mergeValue(ctx, map, it);\n    else\n        mergeValue(ctx, map, value);\n}\nfunction mergeValue(ctx, map, value) {\n    const source = ctx && identity.isAlias(value) ? value.resolve(ctx.doc) : value;\n    if (!identity.isMap(source))\n        throw new Error('Merge sources must be maps or map aliases');\n    const srcMap = source.toJSON(null, ctx, Map);\n    for (const [key, value] of srcMap) {\n        if (map instanceof Map) {\n            if (!map.has(key))\n                map.set(key, value);\n        }\n        else if (map instanceof Set) {\n            map.add(key);\n        }\n        else if (!Object.prototype.hasOwnProperty.call(map, key)) {\n            Object.defineProperty(map, key, {\n                value,\n                writable: true,\n                enumerable: true,\n                configurable: true\n            });\n        }\n    }\n    return map;\n}\n\nexports.addMergeToJSMap = addMergeToJSMap;\nexports.isMergeKey = isMergeKey;\nexports.merge = merge;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders(lowerCaseKeys = false) {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error(`Message header must separate key and value using ':'\\n${header}`);\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(lowerCaseKeys ? key.toLowerCase() : key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes || (exports.LSPErrorCodes = LSPErrorCodes = {}));\n","'use strict';\n\nvar Scalar = require('../../nodes/Scalar.js');\n\nconst nullTag = {\n    identify: value => value == null,\n    createNode: () => new Scalar.Scalar(null),\n    default: true,\n    tag: 'tag:yaml.org,2002:null',\n    test: /^(?:~|[Nn]ull|NULL)?$/,\n    resolve: () => new Scalar.Scalar(null),\n    stringify: ({ source }, ctx) => typeof source === 'string' && nullTag.test.test(source)\n        ? source\n        : ctx.options.nullStr\n};\n\nexports.nullTag = nullTag;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SharedArrayReceiverStrategy = exports.SharedArraySenderStrategy = void 0;\nconst cancellation_1 = require(\"./cancellation\");\nvar CancellationState;\n(function (CancellationState) {\n    CancellationState.Continue = 0;\n    CancellationState.Cancelled = 1;\n})(CancellationState || (CancellationState = {}));\nclass SharedArraySenderStrategy {\n    constructor() {\n        this.buffers = new Map();\n    }\n    enableCancellation(request) {\n        if (request.id === null) {\n            return;\n        }\n        const buffer = new SharedArrayBuffer(4);\n        const data = new Int32Array(buffer, 0, 1);\n        data[0] = CancellationState.Continue;\n        this.buffers.set(request.id, buffer);\n        request.$cancellationData = buffer;\n    }\n    async sendCancellation(_conn, id) {\n        const buffer = this.buffers.get(id);\n        if (buffer === undefined) {\n            return;\n        }\n        const data = new Int32Array(buffer, 0, 1);\n        Atomics.store(data, 0, CancellationState.Cancelled);\n    }\n    cleanup(id) {\n        this.buffers.delete(id);\n    }\n    dispose() {\n        this.buffers.clear();\n    }\n}\nexports.SharedArraySenderStrategy = SharedArraySenderStrategy;\nclass SharedArrayBufferCancellationToken {\n    constructor(buffer) {\n        this.data = new Int32Array(buffer, 0, 1);\n    }\n    get isCancellationRequested() {\n        return Atomics.load(this.data, 0) === CancellationState.Cancelled;\n    }\n    get onCancellationRequested() {\n        throw new Error(`Cancellation over SharedArrayBuffer doesn't support cancellation events`);\n    }\n}\nclass SharedArrayBufferCancellationTokenSource {\n    constructor(buffer) {\n        this.token = new SharedArrayBufferCancellationToken(buffer);\n    }\n    cancel() {\n    }\n    dispose() {\n    }\n}\nclass SharedArrayReceiverStrategy {\n    constructor() {\n        this.kind = 'request';\n    }\n    createCancellationTokenSource(request) {\n        const buffer = request.$cancellationData;\n        if (buffer === undefined) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n        return new SharedArrayBufferCancellationTokenSource(buffer);\n    }\n}\nexports.SharedArrayReceiverStrategy = SharedArrayReceiverStrategy;\n","module.exports = require(\"child_process\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass ImplementationFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let implementationSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'implementation');\n        implementationSupport.dynamicRegistration = true;\n        implementationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.implementationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideImplementation: (document, position, token) => {\n                const client = this._client;\n                const provideImplementation = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideImplementation\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\n                    : provideImplementation(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.ImplementationFeature = ImplementationFeature;\n","'use strict'\n\nconst eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object') {\n        a = a.version\n      }\n      if (typeof b === 'object') {\n        b = b.version\n      }\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExecuteCommandFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass ExecuteCommandFeature {\n    constructor(client) {\n        this._client = client;\n        this._commands = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._commands.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\n    }\n    initialize(capabilities) {\n        if (!capabilities.executeCommandProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\n        });\n    }\n    register(data) {\n        const client = this._client;\n        const middleware = client.middleware;\n        const executeCommand = (command, args) => {\n            let params = {\n                command,\n                arguments: args\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, undefined, error, undefined);\n            });\n        };\n        if (data.registerOptions.commands) {\n            const disposables = [];\n            for (const command of data.registerOptions.commands) {\n                disposables.push(vscode_1.commands.registerCommand(command, (...args) => {\n                    return middleware.executeCommand\n                        ? middleware.executeCommand(command, args, executeCommand)\n                        : executeCommand(command, args);\n                }));\n            }\n            this._commands.set(data.id, disposables);\n        }\n    }\n    unregister(id) {\n        let disposables = this._commands.get(id);\n        if (disposables) {\n            disposables.forEach(disposable => disposable.dispose());\n        }\n    }\n    clear() {\n        this._commands.forEach((value) => {\n            value.forEach(disposable => disposable.dispose());\n        });\n        this._commands.clear();\n    }\n}\nexports.ExecuteCommandFeature = ExecuteCommandFeature;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch || (exports.Touch = Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n","'use strict';\n\nvar Scalar = require('../nodes/Scalar.js');\nvar resolveEnd = require('./resolve-end.js');\n\nfunction resolveFlowScalar(scalar, strict, onError) {\n    const { offset, type, source, end } = scalar;\n    let _type;\n    let value;\n    const _onError = (rel, code, msg) => onError(offset + rel, code, msg);\n    switch (type) {\n        case 'scalar':\n            _type = Scalar.Scalar.PLAIN;\n            value = plainValue(source, _onError);\n            break;\n        case 'single-quoted-scalar':\n            _type = Scalar.Scalar.QUOTE_SINGLE;\n            value = singleQuotedValue(source, _onError);\n            break;\n        case 'double-quoted-scalar':\n            _type = Scalar.Scalar.QUOTE_DOUBLE;\n            value = doubleQuotedValue(source, _onError);\n            break;\n        /* istanbul ignore next should not happen */\n        default:\n            onError(scalar, 'UNEXPECTED_TOKEN', `Expected a flow scalar value, but found: ${type}`);\n            return {\n                value: '',\n                type: null,\n                comment: '',\n                range: [offset, offset + source.length, offset + source.length]\n            };\n    }\n    const valueEnd = offset + source.length;\n    const re = resolveEnd.resolveEnd(end, valueEnd, strict, onError);\n    return {\n        value,\n        type: _type,\n        comment: re.comment,\n        range: [offset, valueEnd, re.offset]\n    };\n}\nfunction plainValue(source, onError) {\n    let badChar = '';\n    switch (source[0]) {\n        /* istanbul ignore next should not happen */\n        case '\\t':\n            badChar = 'a tab character';\n            break;\n        case ',':\n            badChar = 'flow indicator character ,';\n            break;\n        case '%':\n            badChar = 'directive indicator character %';\n            break;\n        case '|':\n        case '>': {\n            badChar = `block scalar indicator ${source[0]}`;\n            break;\n        }\n        case '@':\n        case '`': {\n            badChar = `reserved character ${source[0]}`;\n            break;\n        }\n    }\n    if (badChar)\n        onError(0, 'BAD_SCALAR_START', `Plain value cannot start with ${badChar}`);\n    return foldLines(source);\n}\nfunction singleQuotedValue(source, onError) {\n    if (source[source.length - 1] !== \"'\" || source.length === 1)\n        onError(source.length, 'MISSING_CHAR', \"Missing closing 'quote\");\n    return foldLines(source.slice(1, -1)).replace(/''/g, \"'\");\n}\nfunction foldLines(source) {\n    /**\n     * The negative lookbehind here and in the `re` RegExp is to\n     * prevent causing a polynomial search time in certain cases.\n     *\n     * The try-catch is for Safari, which doesn't support this yet:\n     * https://caniuse.com/js-regexp-lookbehind\n     */\n    let first, line;\n    try {\n        first = new RegExp('(.*?)(?<![ \\t])[ \\t]*\\r?\\n', 'sy');\n        line = new RegExp('[ \\t]*(.*?)(?:(?<![ \\t])[ \\t]*)?\\r?\\n', 'sy');\n    }\n    catch {\n        first = /(.*?)[ \\t]*\\r?\\n/sy;\n        line = /[ \\t]*(.*?)[ \\t]*\\r?\\n/sy;\n    }\n    let match = first.exec(source);\n    if (!match)\n        return source;\n    let res = match[1];\n    let sep = ' ';\n    let pos = first.lastIndex;\n    line.lastIndex = pos;\n    while ((match = line.exec(source))) {\n        if (match[1] === '') {\n            if (sep === '\\n')\n                res += sep;\n            else\n                sep = '\\n';\n        }\n        else {\n            res += sep + match[1];\n            sep = ' ';\n        }\n        pos = line.lastIndex;\n    }\n    const last = /[ \\t]*(.*)/sy;\n    last.lastIndex = pos;\n    match = last.exec(source);\n    return res + sep + (match?.[1] ?? '');\n}\nfunction doubleQuotedValue(source, onError) {\n    let res = '';\n    for (let i = 1; i < source.length - 1; ++i) {\n        const ch = source[i];\n        if (ch === '\\r' && source[i + 1] === '\\n')\n            continue;\n        if (ch === '\\n') {\n            const { fold, offset } = foldNewline(source, i);\n            res += fold;\n            i = offset;\n        }\n        else if (ch === '\\\\') {\n            let next = source[++i];\n            const cc = escapeCodes[next];\n            if (cc)\n                res += cc;\n            else if (next === '\\n') {\n                // skip escaped newlines, but still trim the following line\n                next = source[i + 1];\n                while (next === ' ' || next === '\\t')\n                    next = source[++i + 1];\n            }\n            else if (next === '\\r' && source[i + 1] === '\\n') {\n                // skip escaped CRLF newlines, but still trim the following line\n                next = source[++i + 1];\n                while (next === ' ' || next === '\\t')\n                    next = source[++i + 1];\n            }\n            else if (next === 'x' || next === 'u' || next === 'U') {\n                const length = { x: 2, u: 4, U: 8 }[next];\n                res += parseCharCode(source, i + 1, length, onError);\n                i += length;\n            }\n            else {\n                const raw = source.substr(i - 1, 2);\n                onError(i - 1, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\n                res += raw;\n            }\n        }\n        else if (ch === ' ' || ch === '\\t') {\n            // trim trailing whitespace\n            const wsStart = i;\n            let next = source[i + 1];\n            while (next === ' ' || next === '\\t')\n                next = source[++i + 1];\n            if (next !== '\\n' && !(next === '\\r' && source[i + 2] === '\\n'))\n                res += i > wsStart ? source.slice(wsStart, i + 1) : ch;\n        }\n        else {\n            res += ch;\n        }\n    }\n    if (source[source.length - 1] !== '\"' || source.length === 1)\n        onError(source.length, 'MISSING_CHAR', 'Missing closing \"quote');\n    return res;\n}\n/**\n * Fold a single newline into a space, multiple newlines to N - 1 newlines.\n * Presumes `source[offset] === '\\n'`\n */\nfunction foldNewline(source, offset) {\n    let fold = '';\n    let ch = source[offset + 1];\n    while (ch === ' ' || ch === '\\t' || ch === '\\n' || ch === '\\r') {\n        if (ch === '\\r' && source[offset + 2] !== '\\n')\n            break;\n        if (ch === '\\n')\n            fold += '\\n';\n        offset += 1;\n        ch = source[offset + 1];\n    }\n    if (!fold)\n        fold = ' ';\n    return { fold, offset };\n}\nconst escapeCodes = {\n    '0': '\\0', // null character\n    a: '\\x07', // bell character\n    b: '\\b', // backspace\n    e: '\\x1b', // escape character\n    f: '\\f', // form feed\n    n: '\\n', // line feed\n    r: '\\r', // carriage return\n    t: '\\t', // horizontal tab\n    v: '\\v', // vertical tab\n    N: '\\u0085', // Unicode next line\n    _: '\\u00a0', // Unicode non-breaking space\n    L: '\\u2028', // Unicode line separator\n    P: '\\u2029', // Unicode paragraph separator\n    ' ': ' ',\n    '\"': '\"',\n    '/': '/',\n    '\\\\': '\\\\',\n    '\\t': '\\t'\n};\nfunction parseCharCode(source, offset, length, onError) {\n    const cc = source.substr(offset, length);\n    const ok = cc.length === length && /^[0-9a-fA-F]+$/.test(cc);\n    const code = ok ? parseInt(cc, 16) : NaN;\n    if (isNaN(code)) {\n        const raw = source.substr(offset - 2, length + 2);\n        onError(offset - 2, 'BAD_DQ_ESCAPE', `Invalid escape sequence ${raw}`);\n        return raw;\n    }\n    return String.fromCodePoint(code);\n}\n\nexports.resolveFlowScalar = resolveFlowScalar;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.PortMessageWriter = exports.PortMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\nconst api_1 = require(\"../common/api\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        const eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass PortMessageReader extends api_1.AbstractMessageReader {\n    constructor(port) {\n        super();\n        this.onData = new api_1.Emitter;\n        port.on('close', () => this.fireClose);\n        port.on('error', (error) => this.fireError(error));\n        port.on('message', (message) => {\n            this.onData.fire(message);\n        });\n    }\n    listen(callback) {\n        return this.onData.event(callback);\n    }\n}\nexports.PortMessageReader = PortMessageReader;\nclass PortMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(port) {\n        super();\n        this.port = port;\n        this.errorCount = 0;\n        port.on('close', () => this.fireClose());\n        port.on('error', (error) => this.fireError(error));\n    }\n    write(msg) {\n        try {\n            this.port.postMessage(msg);\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.PortMessageWriter = PortMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readable, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readable), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = (0, crypto_1.randomBytes)(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length > limit) {\n        (0, ril_1.default)().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n","'use strict';\n\nconst FOLD_FLOW = 'flow';\nconst FOLD_BLOCK = 'block';\nconst FOLD_QUOTED = 'quoted';\n/**\n * Tries to keep input at up to `lineWidth` characters, splitting only on spaces\n * not followed by newlines or spaces unless `mode` is `'quoted'`. Lines are\n * terminated with `\\n` and started with `indent`.\n */\nfunction foldFlowLines(text, indent, mode = 'flow', { indentAtStart, lineWidth = 80, minContentWidth = 20, onFold, onOverflow } = {}) {\n    if (!lineWidth || lineWidth < 0)\n        return text;\n    if (lineWidth < minContentWidth)\n        minContentWidth = 0;\n    const endStep = Math.max(1 + minContentWidth, 1 + lineWidth - indent.length);\n    if (text.length <= endStep)\n        return text;\n    const folds = [];\n    const escapedFolds = {};\n    let end = lineWidth - indent.length;\n    if (typeof indentAtStart === 'number') {\n        if (indentAtStart > lineWidth - Math.max(2, minContentWidth))\n            folds.push(0);\n        else\n            end = lineWidth - indentAtStart;\n    }\n    let split = undefined;\n    let prev = undefined;\n    let overflow = false;\n    let i = -1;\n    let escStart = -1;\n    let escEnd = -1;\n    if (mode === FOLD_BLOCK) {\n        i = consumeMoreIndentedLines(text, i, indent.length);\n        if (i !== -1)\n            end = i + endStep;\n    }\n    for (let ch; (ch = text[(i += 1)]);) {\n        if (mode === FOLD_QUOTED && ch === '\\\\') {\n            escStart = i;\n            switch (text[i + 1]) {\n                case 'x':\n                    i += 3;\n                    break;\n                case 'u':\n                    i += 5;\n                    break;\n                case 'U':\n                    i += 9;\n                    break;\n                default:\n                    i += 1;\n            }\n            escEnd = i;\n        }\n        if (ch === '\\n') {\n            if (mode === FOLD_BLOCK)\n                i = consumeMoreIndentedLines(text, i, indent.length);\n            end = i + indent.length + endStep;\n            split = undefined;\n        }\n        else {\n            if (ch === ' ' &&\n                prev &&\n                prev !== ' ' &&\n                prev !== '\\n' &&\n                prev !== '\\t') {\n                // space surrounded by non-space can be replaced with newline + indent\n                const next = text[i + 1];\n                if (next && next !== ' ' && next !== '\\n' && next !== '\\t')\n                    split = i;\n            }\n            if (i >= end) {\n                if (split) {\n                    folds.push(split);\n                    end = split + endStep;\n                    split = undefined;\n                }\n                else if (mode === FOLD_QUOTED) {\n                    // white-space collected at end may stretch past lineWidth\n                    while (prev === ' ' || prev === '\\t') {\n                        prev = ch;\n                        ch = text[(i += 1)];\n                        overflow = true;\n                    }\n                    // Account for newline escape, but don't break preceding escape\n                    const j = i > escEnd + 1 ? i - 2 : escStart - 1;\n                    // Bail out if lineWidth & minContentWidth are shorter than an escape string\n                    if (escapedFolds[j])\n                        return text;\n                    folds.push(j);\n                    escapedFolds[j] = true;\n                    end = j + endStep;\n                    split = undefined;\n                }\n                else {\n                    overflow = true;\n                }\n            }\n        }\n        prev = ch;\n    }\n    if (overflow && onOverflow)\n        onOverflow();\n    if (folds.length === 0)\n        return text;\n    if (onFold)\n        onFold();\n    let res = text.slice(0, folds[0]);\n    for (let i = 0; i < folds.length; ++i) {\n        const fold = folds[i];\n        const end = folds[i + 1] || text.length;\n        if (fold === 0)\n            res = `\\n${indent}${text.slice(0, end)}`;\n        else {\n            if (mode === FOLD_QUOTED && escapedFolds[fold])\n                res += `${text[fold]}\\\\`;\n            res += `\\n${indent}${text.slice(fold + 1, end)}`;\n        }\n    }\n    return res;\n}\n/**\n * Presumes `i + 1` is at the start of a line\n * @returns index of last newline in more-indented block\n */\nfunction consumeMoreIndentedLines(text, i, indent) {\n    let end = i;\n    let start = i + 1;\n    let ch = text[start];\n    while (ch === ' ' || ch === '\\t') {\n        if (i < start + indent) {\n            ch = text[++i];\n        }\n        else {\n            do {\n                ch = text[++i];\n            } while (ch && ch !== '\\n');\n            end = i;\n            start = i + 1;\n            ch = text[start];\n        }\n    }\n    return end;\n}\n\nexports.FOLD_BLOCK = FOLD_BLOCK;\nexports.FOLD_FLOW = FOLD_FLOW;\nexports.FOLD_QUOTED = FOLD_QUOTED;\nexports.foldFlowLines = foldFlowLines;\n","'use strict';\n\nvar identity = require('../../nodes/identity.js');\nvar toJS = require('../../nodes/toJS.js');\nvar YAMLMap = require('../../nodes/YAMLMap.js');\nvar YAMLSeq = require('../../nodes/YAMLSeq.js');\nvar pairs = require('./pairs.js');\n\nclass YAMLOMap extends YAMLSeq.YAMLSeq {\n    constructor() {\n        super();\n        this.add = YAMLMap.YAMLMap.prototype.add.bind(this);\n        this.delete = YAMLMap.YAMLMap.prototype.delete.bind(this);\n        this.get = YAMLMap.YAMLMap.prototype.get.bind(this);\n        this.has = YAMLMap.YAMLMap.prototype.has.bind(this);\n        this.set = YAMLMap.YAMLMap.prototype.set.bind(this);\n        this.tag = YAMLOMap.tag;\n    }\n    /**\n     * If `ctx` is given, the return type is actually `Map<unknown, unknown>`,\n     * but TypeScript won't allow widening the signature of a child method.\n     */\n    toJSON(_, ctx) {\n        if (!ctx)\n            return super.toJSON(_);\n        const map = new Map();\n        if (ctx?.onCreate)\n            ctx.onCreate(map);\n        for (const pair of this.items) {\n            let key, value;\n            if (identity.isPair(pair)) {\n                key = toJS.toJS(pair.key, '', ctx);\n                value = toJS.toJS(pair.value, key, ctx);\n            }\n            else {\n                key = toJS.toJS(pair, '', ctx);\n            }\n            if (map.has(key))\n                throw new Error('Ordered maps must not include duplicate keys');\n            map.set(key, value);\n        }\n        return map;\n    }\n    static from(schema, iterable, ctx) {\n        const pairs$1 = pairs.createPairs(schema, iterable, ctx);\n        const omap = new this();\n        omap.items = pairs$1.items;\n        return omap;\n    }\n}\nYAMLOMap.tag = 'tag:yaml.org,2002:omap';\nconst omap = {\n    collection: 'seq',\n    identify: value => value instanceof Map,\n    nodeClass: YAMLOMap,\n    default: false,\n    tag: 'tag:yaml.org,2002:omap',\n    resolve(seq, onError) {\n        const pairs$1 = pairs.resolvePairs(seq, onError);\n        const seenKeys = [];\n        for (const { key } of pairs$1.items) {\n            if (identity.isScalar(key)) {\n                if (seenKeys.includes(key.value)) {\n                    onError(`Ordered maps must not include duplicate keys: ${key.value}`);\n                }\n                else {\n                    seenKeys.push(key.value);\n                }\n            }\n        }\n        return Object.assign(new YAMLOMap(), pairs$1);\n    },\n    createNode: (schema, iterable, ctx) => YAMLOMap.from(schema, iterable, ctx)\n};\n\nexports.YAMLOMap = YAMLOMap;\nexports.omap = omap;\n","'use strict';\n\nvar identity = require('../nodes/identity.js');\n\nfunction mapIncludes(ctx, items, search) {\n    const { uniqueKeys } = ctx.options;\n    if (uniqueKeys === false)\n        return false;\n    const isEqual = typeof uniqueKeys === 'function'\n        ? uniqueKeys\n        : (a, b) => a === b || (identity.isScalar(a) && identity.isScalar(b) && a.value === b.value);\n    return items.some(pair => isEqual(pair.key, search));\n}\n\nexports.mapIncludes = mapIncludes;\n","'use strict';\n\nvar Scalar = require('../nodes/Scalar.js');\n\nfunction resolveBlockScalar(ctx, scalar, onError) {\n    const start = scalar.offset;\n    const header = parseBlockScalarHeader(scalar, ctx.options.strict, onError);\n    if (!header)\n        return { value: '', type: null, comment: '', range: [start, start, start] };\n    const type = header.mode === '>' ? Scalar.Scalar.BLOCK_FOLDED : Scalar.Scalar.BLOCK_LITERAL;\n    const lines = scalar.source ? splitLines(scalar.source) : [];\n    // determine the end of content & start of chomping\n    let chompStart = lines.length;\n    for (let i = lines.length - 1; i >= 0; --i) {\n        const content = lines[i][1];\n        if (content === '' || content === '\\r')\n            chompStart = i;\n        else\n            break;\n    }\n    // shortcut for empty contents\n    if (chompStart === 0) {\n        const value = header.chomp === '+' && lines.length > 0\n            ? '\\n'.repeat(Math.max(1, lines.length - 1))\n            : '';\n        let end = start + header.length;\n        if (scalar.source)\n            end += scalar.source.length;\n        return { value, type, comment: header.comment, range: [start, end, end] };\n    }\n    // find the indentation level to trim from start\n    let trimIndent = scalar.indent + header.indent;\n    let offset = scalar.offset + header.length;\n    let contentStart = 0;\n    for (let i = 0; i < chompStart; ++i) {\n        const [indent, content] = lines[i];\n        if (content === '' || content === '\\r') {\n            if (header.indent === 0 && indent.length > trimIndent)\n                trimIndent = indent.length;\n        }\n        else {\n            if (indent.length < trimIndent) {\n                const message = 'Block scalars with more-indented leading empty lines must use an explicit indentation indicator';\n                onError(offset + indent.length, 'MISSING_CHAR', message);\n            }\n            if (header.indent === 0)\n                trimIndent = indent.length;\n            contentStart = i;\n            if (trimIndent === 0 && !ctx.atRoot) {\n                const message = 'Block scalar values in collections must be indented';\n                onError(offset, 'BAD_INDENT', message);\n            }\n            break;\n        }\n        offset += indent.length + content.length + 1;\n    }\n    // include trailing more-indented empty lines in content\n    for (let i = lines.length - 1; i >= chompStart; --i) {\n        if (lines[i][0].length > trimIndent)\n            chompStart = i + 1;\n    }\n    let value = '';\n    let sep = '';\n    let prevMoreIndented = false;\n    // leading whitespace is kept intact\n    for (let i = 0; i < contentStart; ++i)\n        value += lines[i][0].slice(trimIndent) + '\\n';\n    for (let i = contentStart; i < chompStart; ++i) {\n        let [indent, content] = lines[i];\n        offset += indent.length + content.length + 1;\n        const crlf = content[content.length - 1] === '\\r';\n        if (crlf)\n            content = content.slice(0, -1);\n        /* istanbul ignore if already caught in lexer */\n        if (content && indent.length < trimIndent) {\n            const src = header.indent\n                ? 'explicit indentation indicator'\n                : 'first line';\n            const message = `Block scalar lines must not be less indented than their ${src}`;\n            onError(offset - content.length - (crlf ? 2 : 1), 'BAD_INDENT', message);\n            indent = '';\n        }\n        if (type === Scalar.Scalar.BLOCK_LITERAL) {\n            value += sep + indent.slice(trimIndent) + content;\n            sep = '\\n';\n        }\n        else if (indent.length > trimIndent || content[0] === '\\t') {\n            // more-indented content within a folded block\n            if (sep === ' ')\n                sep = '\\n';\n            else if (!prevMoreIndented && sep === '\\n')\n                sep = '\\n\\n';\n            value += sep + indent.slice(trimIndent) + content;\n            sep = '\\n';\n            prevMoreIndented = true;\n        }\n        else if (content === '') {\n            // empty line\n            if (sep === '\\n')\n                value += '\\n';\n            else\n                sep = '\\n';\n        }\n        else {\n            value += sep + content;\n            sep = ' ';\n            prevMoreIndented = false;\n        }\n    }\n    switch (header.chomp) {\n        case '-':\n            break;\n        case '+':\n            for (let i = chompStart; i < lines.length; ++i)\n                value += '\\n' + lines[i][0].slice(trimIndent);\n            if (value[value.length - 1] !== '\\n')\n                value += '\\n';\n            break;\n        default:\n            value += '\\n';\n    }\n    const end = start + header.length + scalar.source.length;\n    return { value, type, comment: header.comment, range: [start, end, end] };\n}\nfunction parseBlockScalarHeader({ offset, props }, strict, onError) {\n    /* istanbul ignore if should not happen */\n    if (props[0].type !== 'block-scalar-header') {\n        onError(props[0], 'IMPOSSIBLE', 'Block scalar header not found');\n        return null;\n    }\n    const { source } = props[0];\n    const mode = source[0];\n    let indent = 0;\n    let chomp = '';\n    let error = -1;\n    for (let i = 1; i < source.length; ++i) {\n        const ch = source[i];\n        if (!chomp && (ch === '-' || ch === '+'))\n            chomp = ch;\n        else {\n            const n = Number(ch);\n            if (!indent && n)\n                indent = n;\n            else if (error === -1)\n                error = offset + i;\n        }\n    }\n    if (error !== -1)\n        onError(error, 'UNEXPECTED_TOKEN', `Block scalar header includes extra characters: ${source}`);\n    let hasSpace = false;\n    let comment = '';\n    let length = source.length;\n    for (let i = 1; i < props.length; ++i) {\n        const token = props[i];\n        switch (token.type) {\n            case 'space':\n                hasSpace = true;\n            // fallthrough\n            case 'newline':\n                length += token.source.length;\n                break;\n            case 'comment':\n                if (strict && !hasSpace) {\n                    const message = 'Comments must be separated from other tokens by white space characters';\n                    onError(token, 'MISSING_CHAR', message);\n                }\n                length += token.source.length;\n                comment = token.source.substring(1);\n                break;\n            case 'error':\n                onError(token, 'UNEXPECTED_TOKEN', token.message);\n                length += token.source.length;\n                break;\n            /* istanbul ignore next should not happen */\n            default: {\n                const message = `Unexpected token in block scalar header: ${token.type}`;\n                onError(token, 'UNEXPECTED_TOKEN', message);\n                const ts = token.source;\n                if (ts && typeof ts === 'string')\n                    length += ts.length;\n            }\n        }\n    }\n    return { mode, indent, chomp, comment, length };\n}\n/** @returns Array of lines split up as `[indent, content]` */\nfunction splitLines(source) {\n    const split = source.split(/\\n( *)/);\n    const first = split[0];\n    const m = first.match(/^( *)/);\n    const line0 = m?.[1]\n        ? [m[1], first.slice(m[1].length)]\n        : ['', first];\n    const lines = [line0];\n    for (let i = 1; i < split.length; i += 2)\n        lines.push([split[i], split[i + 1]]);\n    return lines;\n}\n\nexports.resolveBlockScalar = resolveBlockScalar;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCompletionItem extends code.CompletionItem {\n    constructor(label) {\n        super(label);\n    }\n}\nexports.default = ProtocolCompletionItem;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFeature = exports.TextDocumentLanguageFeature = exports.TextDocumentEventFeature = exports.DynamicDocumentFeature = exports.DynamicFeature = exports.StaticFeature = exports.ensure = exports.LSPCancellationError = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nclass LSPCancellationError extends vscode_1.CancellationError {\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n}\nexports.LSPCancellationError = LSPCancellationError;\nfunction ensure(target, key) {\n    if (target[key] === undefined) {\n        target[key] = {};\n    }\n    return target[key];\n}\nexports.ensure = ensure;\nvar StaticFeature;\n(function (StaticFeature) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null &&\n            Is.func(candidate.fillClientCapabilities) && Is.func(candidate.initialize) && Is.func(candidate.getState) && Is.func(candidate.clear) &&\n            (candidate.fillInitializeParams === undefined || Is.func(candidate.fillInitializeParams));\n    }\n    StaticFeature.is = is;\n})(StaticFeature || (exports.StaticFeature = StaticFeature = {}));\nvar DynamicFeature;\n(function (DynamicFeature) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null &&\n            Is.func(candidate.fillClientCapabilities) && Is.func(candidate.initialize) && Is.func(candidate.getState) && Is.func(candidate.clear) &&\n            (candidate.fillInitializeParams === undefined || Is.func(candidate.fillInitializeParams)) && Is.func(candidate.register) &&\n            Is.func(candidate.unregister) && candidate.registrationType !== undefined;\n    }\n    DynamicFeature.is = is;\n})(DynamicFeature || (exports.DynamicFeature = DynamicFeature = {}));\n/**\n * An abstract dynamic feature implementation that operates on documents (e.g. text\n * documents or notebooks).\n */\nclass DynamicDocumentFeature {\n    constructor(client) {\n        this._client = client;\n    }\n    /**\n     * Returns the state the feature is in.\n     */\n    getState() {\n        const selectors = this.getDocumentSelectors();\n        let count = 0;\n        for (const selector of selectors) {\n            count++;\n            for (const document of vscode_1.workspace.textDocuments) {\n                if (vscode_1.languages.match(selector, document) > 0) {\n                    return { kind: 'document', id: this.registrationType.method, registrations: true, matches: true };\n                }\n            }\n        }\n        const registrations = count > 0;\n        return { kind: 'document', id: this.registrationType.method, registrations, matches: false };\n    }\n}\nexports.DynamicDocumentFeature = DynamicDocumentFeature;\n/**\n * An abstract base class to implement features that react to events\n * emitted from text documents.\n */\nclass TextDocumentEventFeature extends DynamicDocumentFeature {\n    static textDocumentFilter(selectors, textDocument) {\n        for (const selector of selectors) {\n            if (vscode_1.languages.match(selector, textDocument) > 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n    constructor(client, event, type, middleware, createParams, textDocument, selectorFilter) {\n        super(client);\n        this._event = event;\n        this._type = type;\n        this._middleware = middleware;\n        this._createParams = createParams;\n        this._textDocument = textDocument;\n        this._selectorFilter = selectorFilter;\n        this._selectors = new Map();\n        this._onNotificationSent = new vscode_1.EventEmitter();\n    }\n    getStateInfo() {\n        return [this._selectors.values(), false];\n    }\n    getDocumentSelectors() {\n        return this._selectors.values();\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = this._event((data) => {\n                this.callback(data).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed.`, error);\n                });\n            });\n        }\n        this._selectors.set(data.id, this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector));\n    }\n    async callback(data) {\n        const doSend = async (data) => {\n            const params = this._createParams(data);\n            await this._client.sendNotification(this._type, params);\n            this.notificationSent(this.getTextDocument(data), this._type, params);\n        };\n        if (this.matches(data)) {\n            const middleware = this._middleware();\n            return middleware ? middleware(data, (data) => doSend(data)) : doSend(data);\n        }\n    }\n    matches(data) {\n        if (this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(data))) {\n            return false;\n        }\n        return !this._selectorFilter || this._selectorFilter(this._selectors.values(), data);\n    }\n    get onNotificationSent() {\n        return this._onNotificationSent.event;\n    }\n    notificationSent(textDocument, type, params) {\n        this._onNotificationSent.fire({ textDocument, type, params });\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    clear() {\n        this._selectors.clear();\n        this._onNotificationSent.dispose();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getProvider(document) {\n        for (const selector of this._selectors.values()) {\n            if (vscode_1.languages.match(selector, document) > 0) {\n                return {\n                    send: (data) => {\n                        return this.callback(data);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nexports.TextDocumentEventFeature = TextDocumentEventFeature;\n/**\n * A abstract feature implementation that registers language providers\n * for text documents using a given document selector.\n */\nclass TextDocumentLanguageFeature extends DynamicDocumentFeature {\n    constructor(client, registrationType) {\n        super(client);\n        this._registrationType = registrationType;\n        this._registrations = new Map();\n    }\n    *getDocumentSelectors() {\n        for (const registration of this._registrations.values()) {\n            const selector = registration.data.registerOptions.documentSelector;\n            if (selector === null) {\n                continue;\n            }\n            yield this._client.protocol2CodeConverter.asDocumentSelector(selector);\n        }\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        let registration = this.registerLanguageProvider(data.registerOptions, data.id);\n        this._registrations.set(data.id, { disposable: registration[0], data, provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    clear() {\n        this._registrations.forEach((value) => {\n            value.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getRegistration(documentSelector, capability) {\n        if (!capability) {\n            return [undefined, undefined];\n        }\n        else if (vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)) {\n            const id = vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability) ? capability.id : UUID.generateUuid();\n            const selector = capability.documentSelector ?? documentSelector;\n            if (selector) {\n                return [id, Object.assign({}, capability, { documentSelector: selector })];\n            }\n        }\n        else if (Is.boolean(capability) && capability === true || vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)) {\n            if (!documentSelector) {\n                return [undefined, undefined];\n            }\n            const options = (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n            return [UUID.generateUuid(), options];\n        }\n        return [undefined, undefined];\n    }\n    getRegistrationOptions(documentSelector, capability) {\n        if (!documentSelector || !capability) {\n            return undefined;\n        }\n        return (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n    }\n    getProvider(textDocument) {\n        for (const registration of this._registrations.values()) {\n            let selector = registration.data.registerOptions.documentSelector;\n            if (selector !== null && vscode_1.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(selector), textDocument) > 0) {\n                return registration.provider;\n            }\n        }\n        return undefined;\n    }\n    getAllProviders() {\n        const result = [];\n        for (const item of this._registrations.values()) {\n            result.push(item.provider);\n        }\n        return result;\n    }\n}\nexports.TextDocumentLanguageFeature = TextDocumentLanguageFeature;\nclass WorkspaceFeature {\n    constructor(client, registrationType) {\n        this._client = client;\n        this._registrationType = registrationType;\n        this._registrations = new Map();\n    }\n    getState() {\n        const registrations = this._registrations.size > 0;\n        return { kind: 'workspace', id: this._registrationType.method, registrations };\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        const registration = this.registerLanguageProvider(data.registerOptions);\n        this._registrations.set(data.id, { disposable: registration[0], provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    clear() {\n        this._registrations.forEach((registration) => {\n            registration.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getProviders() {\n        const result = [];\n        for (const registration of this._registrations.values()) {\n            result.push(registration.provider);\n        }\n        return result;\n    }\n}\nexports.WorkspaceFeature = WorkspaceFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensFeature = void 0;\nconst vscode = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst Is = require(\"./utils/is\");\nclass SemanticTokensFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SemanticTokensRegistrationType.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'semanticTokens');\n        capability.dynamicRegistration = true;\n        capability.tokenTypes = [\n            vscode_languageserver_protocol_1.SemanticTokenTypes.namespace,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.type,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.class,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enum,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.interface,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.struct,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.typeParameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.parameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.variable,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.property,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enumMember,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.event,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.function,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.method,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.macro,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.keyword,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.modifier,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.comment,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.string,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.number,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.regexp,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.operator,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.decorator\n        ];\n        capability.tokenModifiers = [\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.declaration,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.definition,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.readonly,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.static,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.deprecated,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.abstract,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.async,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.modification,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.documentation,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.defaultLibrary\n        ];\n        capability.formats = [vscode_languageserver_protocol_1.TokenFormat.Relative];\n        capability.requests = {\n            range: true,\n            full: {\n                delta: true\n            }\n        };\n        capability.multilineTokenSupport = false;\n        capability.overlappingTokenSupport = false;\n        capability.serverCancelSupport = true;\n        capability.augmentsSyntaxTokens = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'semanticTokens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeSemanticTokensEmitter.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.semanticTokensProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const fullProvider = Is.boolean(options.full) ? options.full : options.full !== undefined;\n        const hasEditProvider = options.full !== undefined && typeof options.full !== 'boolean' && options.full.delta === true;\n        const eventEmitter = new vscode.EventEmitter();\n        const documentProvider = fullProvider\n            ? {\n                onDidChangeSemanticTokens: eventEmitter.event,\n                provideDocumentSemanticTokens: (document, token) => {\n                    const client = this._client;\n                    const middleware = client.middleware;\n                    const provideDocumentSemanticTokens = (document, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSemanticTokens(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, token, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentSemanticTokens\n                        ? middleware.provideDocumentSemanticTokens(document, token, provideDocumentSemanticTokens)\n                        : provideDocumentSemanticTokens(document, token);\n                },\n                provideDocumentSemanticTokensEdits: hasEditProvider\n                    ? (document, previousResultId, token) => {\n                        const client = this._client;\n                        const middleware = client.middleware;\n                        const provideDocumentSemanticTokensEdits = (document, previousResultId, token) => {\n                            const params = {\n                                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                                previousResultId\n                            };\n                            return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, params, token).then(async (result) => {\n                                if (token.isCancellationRequested) {\n                                    return null;\n                                }\n                                if (vscode_languageserver_protocol_1.SemanticTokens.is(result)) {\n                                    return await client.protocol2CodeConverter.asSemanticTokens(result, token);\n                                }\n                                else {\n                                    return await client.protocol2CodeConverter.asSemanticTokensEdits(result, token);\n                                }\n                            }, (error) => {\n                                return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, token, error, null);\n                            });\n                        };\n                        return middleware.provideDocumentSemanticTokensEdits\n                            ? middleware.provideDocumentSemanticTokensEdits(document, previousResultId, token, provideDocumentSemanticTokensEdits)\n                            : provideDocumentSemanticTokensEdits(document, previousResultId, token);\n                    }\n                    : undefined\n            }\n            : undefined;\n        const hasRangeProvider = options.range === true;\n        const rangeProvider = hasRangeProvider\n            ? {\n                provideDocumentRangeSemanticTokens: (document, range, token) => {\n                    const client = this._client;\n                    const middleware = client.middleware;\n                    const provideDocumentRangeSemanticTokens = (document, range, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            range: client.code2ProtocolConverter.asRange(range)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSemanticTokens(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, token, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentRangeSemanticTokens\n                        ? middleware.provideDocumentRangeSemanticTokens(document, range, token, provideDocumentRangeSemanticTokens)\n                        : provideDocumentRangeSemanticTokens(document, range, token);\n                }\n            }\n            : undefined;\n        const disposables = [];\n        const client = this._client;\n        const legend = client.protocol2CodeConverter.asSemanticTokensLegend(options.legend);\n        const documentSelector = client.protocol2CodeConverter.asDocumentSelector(selector);\n        if (documentProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentSemanticTokensProvider(documentSelector, documentProvider, legend));\n        }\n        if (rangeProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentRangeSemanticTokensProvider(documentSelector, rangeProvider, legend));\n        }\n        return [new vscode.Disposable(() => disposables.forEach(item => item.dispose())), { range: rangeProvider, full: documentProvider, onDidChangeSemanticTokensEmitter: eventEmitter }];\n    }\n}\nexports.SemanticTokensFeature = SemanticTokensFeature;\n","'use strict';\n\nvar stringifyNumber = require('../../stringify/stringifyNumber.js');\n\nconst intIdentify = (value) => typeof value === 'bigint' || Number.isInteger(value);\nfunction intResolve(str, offset, radix, { intAsBigInt }) {\n    const sign = str[0];\n    if (sign === '-' || sign === '+')\n        offset += 1;\n    str = str.substring(offset).replace(/_/g, '');\n    if (intAsBigInt) {\n        switch (radix) {\n            case 2:\n                str = `0b${str}`;\n                break;\n            case 8:\n                str = `0o${str}`;\n                break;\n            case 16:\n                str = `0x${str}`;\n                break;\n        }\n        const n = BigInt(str);\n        return sign === '-' ? BigInt(-1) * n : n;\n    }\n    const n = parseInt(str, radix);\n    return sign === '-' ? -1 * n : n;\n}\nfunction intStringify(node, radix, prefix) {\n    const { value } = node;\n    if (intIdentify(value)) {\n        const str = value.toString(radix);\n        return value < 0 ? '-' + prefix + str.substr(1) : prefix + str;\n    }\n    return stringifyNumber.stringifyNumber(node);\n}\nconst intBin = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'BIN',\n    test: /^[-+]?0b[0-1_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 2, opt),\n    stringify: node => intStringify(node, 2, '0b')\n};\nconst intOct = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'OCT',\n    test: /^[-+]?0[0-7_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 1, 8, opt),\n    stringify: node => intStringify(node, 8, '0')\n};\nconst int = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    test: /^[-+]?[0-9][0-9_]*$/,\n    resolve: (str, _onError, opt) => intResolve(str, 0, 10, opt),\n    stringify: stringifyNumber.stringifyNumber\n};\nconst intHex = {\n    identify: intIdentify,\n    default: true,\n    tag: 'tag:yaml.org,2002:int',\n    format: 'HEX',\n    test: /^[-+]?0x[0-9a-fA-F_]+$/,\n    resolve: (str, _onError, opt) => intResolve(str, 2, 16, opt),\n    stringify: node => intStringify(node, 16, '0x')\n};\n\nexports.int = int;\nexports.intBin = intBin;\nexports.intHex = intHex;\nexports.intOct = intOct;\n","'use strict';\n\nvar Scalar = require('../../nodes/Scalar.js');\nvar stringifyNumber = require('../../stringify/stringifyNumber.js');\n\nconst floatNaN = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^(?:[-+]?\\.(?:inf|Inf|INF)|\\.nan|\\.NaN|\\.NAN)$/,\n    resolve: str => str.slice(-3).toLowerCase() === 'nan'\n        ? NaN\n        : str[0] === '-'\n            ? Number.NEGATIVE_INFINITY\n            : Number.POSITIVE_INFINITY,\n    stringify: stringifyNumber.stringifyNumber\n};\nconst floatExp = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    format: 'EXP',\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+(?:\\.[0-9]*)?)[eE][-+]?[0-9]+$/,\n    resolve: str => parseFloat(str),\n    stringify(node) {\n        const num = Number(node.value);\n        return isFinite(num) ? num.toExponential() : stringifyNumber.stringifyNumber(node);\n    }\n};\nconst float = {\n    identify: value => typeof value === 'number',\n    default: true,\n    tag: 'tag:yaml.org,2002:float',\n    test: /^[-+]?(?:\\.[0-9]+|[0-9]+\\.[0-9]*)$/,\n    resolve(str) {\n        const node = new Scalar.Scalar(parseFloat(str));\n        const dot = str.indexOf('.');\n        if (dot !== -1 && str[str.length - 1] === '0')\n            node.minFractionDigits = str.length - dot - 1;\n        return node;\n    },\n    stringify: stringifyNumber.stringifyNumber\n};\n\nexports.float = float;\nexports.floatExp = floatExp;\nexports.floatNaN = floatNaN;\n","'use strict';\n\nvar cst = require('./cst.js');\n\n/*\nSTART -> stream\n\nstream\n  directive -> line-end -> stream\n  indent + line-end -> stream\n  [else] -> line-start\n\nline-end\n  comment -> line-end\n  newline -> .\n  input-end -> END\n\nline-start\n  doc-start -> doc\n  doc-end -> stream\n  [else] -> indent -> block-start\n\nblock-start\n  seq-item-start -> block-start\n  explicit-key-start -> block-start\n  map-value-start -> block-start\n  [else] -> doc\n\ndoc\n  line-end -> line-start\n  spaces -> doc\n  anchor -> doc\n  tag -> doc\n  flow-start -> flow -> doc\n  flow-end -> error -> doc\n  seq-item-start -> error -> doc\n  explicit-key-start -> error -> doc\n  map-value-start -> doc\n  alias -> doc\n  quote-start -> quoted-scalar -> doc\n  block-scalar-header -> line-end -> block-scalar(min) -> line-start\n  [else] -> plain-scalar(false, min) -> doc\n\nflow\n  line-end -> flow\n  spaces -> flow\n  anchor -> flow\n  tag -> flow\n  flow-start -> flow -> flow\n  flow-end -> .\n  seq-item-start -> error -> flow\n  explicit-key-start -> flow\n  map-value-start -> flow\n  alias -> flow\n  quote-start -> quoted-scalar -> flow\n  comma -> flow\n  [else] -> plain-scalar(true, 0) -> flow\n\nquoted-scalar\n  quote-end -> .\n  [else] -> quoted-scalar\n\nblock-scalar(min)\n  newline + peek(indent < min) -> .\n  [else] -> block-scalar(min)\n\nplain-scalar(is-flow, min)\n  scalar-end(is-flow) -> .\n  peek(newline + (indent < min)) -> .\n  [else] -> plain-scalar(min)\n*/\nfunction isEmpty(ch) {\n    switch (ch) {\n        case undefined:\n        case ' ':\n        case '\\n':\n        case '\\r':\n        case '\\t':\n            return true;\n        default:\n            return false;\n    }\n}\nconst hexDigits = new Set('0123456789ABCDEFabcdef');\nconst tagChars = new Set(\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()\");\nconst flowIndicatorChars = new Set(',[]{}');\nconst invalidAnchorChars = new Set(' ,[]{}\\n\\r\\t');\nconst isNotAnchorChar = (ch) => !ch || invalidAnchorChars.has(ch);\n/**\n * Splits an input string into lexical tokens, i.e. smaller strings that are\n * easily identifiable by `tokens.tokenType()`.\n *\n * Lexing starts always in a \"stream\" context. Incomplete input may be buffered\n * until a complete token can be emitted.\n *\n * In addition to slices of the original input, the following control characters\n * may also be emitted:\n *\n * - `\\x02` (Start of Text): A document starts with the next token\n * - `\\x18` (Cancel): Unexpected end of flow-mode (indicates an error)\n * - `\\x1f` (Unit Separator): Next token is a scalar value\n * - `\\u{FEFF}` (Byte order mark): Emitted separately outside documents\n */\nclass Lexer {\n    constructor() {\n        /**\n         * Flag indicating whether the end of the current buffer marks the end of\n         * all input\n         */\n        this.atEnd = false;\n        /**\n         * Explicit indent set in block scalar header, as an offset from the current\n         * minimum indent, so e.g. set to 1 from a header `|2+`. Set to -1 if not\n         * explicitly set.\n         */\n        this.blockScalarIndent = -1;\n        /**\n         * Block scalars that include a + (keep) chomping indicator in their header\n         * include trailing empty lines, which are otherwise excluded from the\n         * scalar's contents.\n         */\n        this.blockScalarKeep = false;\n        /** Current input */\n        this.buffer = '';\n        /**\n         * Flag noting whether the map value indicator : can immediately follow this\n         * node within a flow context.\n         */\n        this.flowKey = false;\n        /** Count of surrounding flow collection levels. */\n        this.flowLevel = 0;\n        /**\n         * Minimum level of indentation required for next lines to be parsed as a\n         * part of the current scalar value.\n         */\n        this.indentNext = 0;\n        /** Indentation level of the current line. */\n        this.indentValue = 0;\n        /** Position of the next \\n character. */\n        this.lineEndPos = null;\n        /** Stores the state of the lexer if reaching the end of incpomplete input */\n        this.next = null;\n        /** A pointer to `buffer`; the current position of the lexer. */\n        this.pos = 0;\n    }\n    /**\n     * Generate YAML tokens from the `source` string. If `incomplete`,\n     * a part of the last line may be left as a buffer for the next call.\n     *\n     * @returns A generator of lexical tokens\n     */\n    *lex(source, incomplete = false) {\n        if (source) {\n            if (typeof source !== 'string')\n                throw TypeError('source is not a string');\n            this.buffer = this.buffer ? this.buffer + source : source;\n            this.lineEndPos = null;\n        }\n        this.atEnd = !incomplete;\n        let next = this.next ?? 'stream';\n        while (next && (incomplete || this.hasChars(1)))\n            next = yield* this.parseNext(next);\n    }\n    atLineEnd() {\n        let i = this.pos;\n        let ch = this.buffer[i];\n        while (ch === ' ' || ch === '\\t')\n            ch = this.buffer[++i];\n        if (!ch || ch === '#' || ch === '\\n')\n            return true;\n        if (ch === '\\r')\n            return this.buffer[i + 1] === '\\n';\n        return false;\n    }\n    charAt(n) {\n        return this.buffer[this.pos + n];\n    }\n    continueScalar(offset) {\n        let ch = this.buffer[offset];\n        if (this.indentNext > 0) {\n            let indent = 0;\n            while (ch === ' ')\n                ch = this.buffer[++indent + offset];\n            if (ch === '\\r') {\n                const next = this.buffer[indent + offset + 1];\n                if (next === '\\n' || (!next && !this.atEnd))\n                    return offset + indent + 1;\n            }\n            return ch === '\\n' || indent >= this.indentNext || (!ch && !this.atEnd)\n                ? offset + indent\n                : -1;\n        }\n        if (ch === '-' || ch === '.') {\n            const dt = this.buffer.substr(offset, 3);\n            if ((dt === '---' || dt === '...') && isEmpty(this.buffer[offset + 3]))\n                return -1;\n        }\n        return offset;\n    }\n    getLine() {\n        let end = this.lineEndPos;\n        if (typeof end !== 'number' || (end !== -1 && end < this.pos)) {\n            end = this.buffer.indexOf('\\n', this.pos);\n            this.lineEndPos = end;\n        }\n        if (end === -1)\n            return this.atEnd ? this.buffer.substring(this.pos) : null;\n        if (this.buffer[end - 1] === '\\r')\n            end -= 1;\n        return this.buffer.substring(this.pos, end);\n    }\n    hasChars(n) {\n        return this.pos + n <= this.buffer.length;\n    }\n    setNext(state) {\n        this.buffer = this.buffer.substring(this.pos);\n        this.pos = 0;\n        this.lineEndPos = null;\n        this.next = state;\n        return null;\n    }\n    peek(n) {\n        return this.buffer.substr(this.pos, n);\n    }\n    *parseNext(next) {\n        switch (next) {\n            case 'stream':\n                return yield* this.parseStream();\n            case 'line-start':\n                return yield* this.parseLineStart();\n            case 'block-start':\n                return yield* this.parseBlockStart();\n            case 'doc':\n                return yield* this.parseDocument();\n            case 'flow':\n                return yield* this.parseFlowCollection();\n            case 'quoted-scalar':\n                return yield* this.parseQuotedScalar();\n            case 'block-scalar':\n                return yield* this.parseBlockScalar();\n            case 'plain-scalar':\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseStream() {\n        let line = this.getLine();\n        if (line === null)\n            return this.setNext('stream');\n        if (line[0] === cst.BOM) {\n            yield* this.pushCount(1);\n            line = line.substring(1);\n        }\n        if (line[0] === '%') {\n            let dirEnd = line.length;\n            let cs = line.indexOf('#');\n            while (cs !== -1) {\n                const ch = line[cs - 1];\n                if (ch === ' ' || ch === '\\t') {\n                    dirEnd = cs - 1;\n                    break;\n                }\n                else {\n                    cs = line.indexOf('#', cs + 1);\n                }\n            }\n            while (true) {\n                const ch = line[dirEnd - 1];\n                if (ch === ' ' || ch === '\\t')\n                    dirEnd -= 1;\n                else\n                    break;\n            }\n            const n = (yield* this.pushCount(dirEnd)) + (yield* this.pushSpaces(true));\n            yield* this.pushCount(line.length - n); // possible comment\n            this.pushNewline();\n            return 'stream';\n        }\n        if (this.atLineEnd()) {\n            const sp = yield* this.pushSpaces(true);\n            yield* this.pushCount(line.length - sp);\n            yield* this.pushNewline();\n            return 'stream';\n        }\n        yield cst.DOCUMENT;\n        return yield* this.parseLineStart();\n    }\n    *parseLineStart() {\n        const ch = this.charAt(0);\n        if (!ch && !this.atEnd)\n            return this.setNext('line-start');\n        if (ch === '-' || ch === '.') {\n            if (!this.atEnd && !this.hasChars(4))\n                return this.setNext('line-start');\n            const s = this.peek(3);\n            if ((s === '---' || s === '...') && isEmpty(this.charAt(3))) {\n                yield* this.pushCount(3);\n                this.indentValue = 0;\n                this.indentNext = 0;\n                return s === '---' ? 'doc' : 'stream';\n            }\n        }\n        this.indentValue = yield* this.pushSpaces(false);\n        if (this.indentNext > this.indentValue && !isEmpty(this.charAt(1)))\n            this.indentNext = this.indentValue;\n        return yield* this.parseBlockStart();\n    }\n    *parseBlockStart() {\n        const [ch0, ch1] = this.peek(2);\n        if (!ch1 && !this.atEnd)\n            return this.setNext('block-start');\n        if ((ch0 === '-' || ch0 === '?' || ch0 === ':') && isEmpty(ch1)) {\n            const n = (yield* this.pushCount(1)) + (yield* this.pushSpaces(true));\n            this.indentNext = this.indentValue + 1;\n            this.indentValue += n;\n            return yield* this.parseBlockStart();\n        }\n        return 'doc';\n    }\n    *parseDocument() {\n        yield* this.pushSpaces(true);\n        const line = this.getLine();\n        if (line === null)\n            return this.setNext('doc');\n        let n = yield* this.pushIndicators();\n        switch (line[n]) {\n            case '#':\n                yield* this.pushCount(line.length - n);\n            // fallthrough\n            case undefined:\n                yield* this.pushNewline();\n                return yield* this.parseLineStart();\n            case '{':\n            case '[':\n                yield* this.pushCount(1);\n                this.flowKey = false;\n                this.flowLevel = 1;\n                return 'flow';\n            case '}':\n            case ']':\n                // this is an error\n                yield* this.pushCount(1);\n                return 'doc';\n            case '*':\n                yield* this.pushUntil(isNotAnchorChar);\n                return 'doc';\n            case '\"':\n            case \"'\":\n                return yield* this.parseQuotedScalar();\n            case '|':\n            case '>':\n                n += yield* this.parseBlockScalarHeader();\n                n += yield* this.pushSpaces(true);\n                yield* this.pushCount(line.length - n);\n                yield* this.pushNewline();\n                return yield* this.parseBlockScalar();\n            default:\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseFlowCollection() {\n        let nl, sp;\n        let indent = -1;\n        do {\n            nl = yield* this.pushNewline();\n            if (nl > 0) {\n                sp = yield* this.pushSpaces(false);\n                this.indentValue = indent = sp;\n            }\n            else {\n                sp = 0;\n            }\n            sp += yield* this.pushSpaces(true);\n        } while (nl + sp > 0);\n        const line = this.getLine();\n        if (line === null)\n            return this.setNext('flow');\n        if ((indent !== -1 && indent < this.indentNext && line[0] !== '#') ||\n            (indent === 0 &&\n                (line.startsWith('---') || line.startsWith('...')) &&\n                isEmpty(line[3]))) {\n            // Allowing for the terminal ] or } at the same (rather than greater)\n            // indent level as the initial [ or { is technically invalid, but\n            // failing here would be surprising to users.\n            const atFlowEndMarker = indent === this.indentNext - 1 &&\n                this.flowLevel === 1 &&\n                (line[0] === ']' || line[0] === '}');\n            if (!atFlowEndMarker) {\n                // this is an error\n                this.flowLevel = 0;\n                yield cst.FLOW_END;\n                return yield* this.parseLineStart();\n            }\n        }\n        let n = 0;\n        while (line[n] === ',') {\n            n += yield* this.pushCount(1);\n            n += yield* this.pushSpaces(true);\n            this.flowKey = false;\n        }\n        n += yield* this.pushIndicators();\n        switch (line[n]) {\n            case undefined:\n                return 'flow';\n            case '#':\n                yield* this.pushCount(line.length - n);\n                return 'flow';\n            case '{':\n            case '[':\n                yield* this.pushCount(1);\n                this.flowKey = false;\n                this.flowLevel += 1;\n                return 'flow';\n            case '}':\n            case ']':\n                yield* this.pushCount(1);\n                this.flowKey = true;\n                this.flowLevel -= 1;\n                return this.flowLevel ? 'flow' : 'doc';\n            case '*':\n                yield* this.pushUntil(isNotAnchorChar);\n                return 'flow';\n            case '\"':\n            case \"'\":\n                this.flowKey = true;\n                return yield* this.parseQuotedScalar();\n            case ':': {\n                const next = this.charAt(1);\n                if (this.flowKey || isEmpty(next) || next === ',') {\n                    this.flowKey = false;\n                    yield* this.pushCount(1);\n                    yield* this.pushSpaces(true);\n                    return 'flow';\n                }\n            }\n            // fallthrough\n            default:\n                this.flowKey = false;\n                return yield* this.parsePlainScalar();\n        }\n    }\n    *parseQuotedScalar() {\n        const quote = this.charAt(0);\n        let end = this.buffer.indexOf(quote, this.pos + 1);\n        if (quote === \"'\") {\n            while (end !== -1 && this.buffer[end + 1] === \"'\")\n                end = this.buffer.indexOf(\"'\", end + 2);\n        }\n        else {\n            // double-quote\n            while (end !== -1) {\n                let n = 0;\n                while (this.buffer[end - 1 - n] === '\\\\')\n                    n += 1;\n                if (n % 2 === 0)\n                    break;\n                end = this.buffer.indexOf('\"', end + 1);\n            }\n        }\n        // Only looking for newlines within the quotes\n        const qb = this.buffer.substring(0, end);\n        let nl = qb.indexOf('\\n', this.pos);\n        if (nl !== -1) {\n            while (nl !== -1) {\n                const cs = this.continueScalar(nl + 1);\n                if (cs === -1)\n                    break;\n                nl = qb.indexOf('\\n', cs);\n            }\n            if (nl !== -1) {\n                // this is an error caused by an unexpected unindent\n                end = nl - (qb[nl - 1] === '\\r' ? 2 : 1);\n            }\n        }\n        if (end === -1) {\n            if (!this.atEnd)\n                return this.setNext('quoted-scalar');\n            end = this.buffer.length;\n        }\n        yield* this.pushToIndex(end + 1, false);\n        return this.flowLevel ? 'flow' : 'doc';\n    }\n    *parseBlockScalarHeader() {\n        this.blockScalarIndent = -1;\n        this.blockScalarKeep = false;\n        let i = this.pos;\n        while (true) {\n            const ch = this.buffer[++i];\n            if (ch === '+')\n                this.blockScalarKeep = true;\n            else if (ch > '0' && ch <= '9')\n                this.blockScalarIndent = Number(ch) - 1;\n            else if (ch !== '-')\n                break;\n        }\n        return yield* this.pushUntil(ch => isEmpty(ch) || ch === '#');\n    }\n    *parseBlockScalar() {\n        let nl = this.pos - 1; // may be -1 if this.pos === 0\n        let indent = 0;\n        let ch;\n        loop: for (let i = this.pos; (ch = this.buffer[i]); ++i) {\n            switch (ch) {\n                case ' ':\n                    indent += 1;\n                    break;\n                case '\\n':\n                    nl = i;\n                    indent = 0;\n                    break;\n                case '\\r': {\n                    const next = this.buffer[i + 1];\n                    if (!next && !this.atEnd)\n                        return this.setNext('block-scalar');\n                    if (next === '\\n')\n                        break;\n                } // fallthrough\n                default:\n                    break loop;\n            }\n        }\n        if (!ch && !this.atEnd)\n            return this.setNext('block-scalar');\n        if (indent >= this.indentNext) {\n            if (this.blockScalarIndent === -1)\n                this.indentNext = indent;\n            else {\n                this.indentNext =\n                    this.blockScalarIndent + (this.indentNext === 0 ? 1 : this.indentNext);\n            }\n            do {\n                const cs = this.continueScalar(nl + 1);\n                if (cs === -1)\n                    break;\n                nl = this.buffer.indexOf('\\n', cs);\n            } while (nl !== -1);\n            if (nl === -1) {\n                if (!this.atEnd)\n                    return this.setNext('block-scalar');\n                nl = this.buffer.length;\n            }\n        }\n        // Trailing insufficiently indented tabs are invalid.\n        // To catch that during parsing, we include them in the block scalar value.\n        let i = nl + 1;\n        ch = this.buffer[i];\n        while (ch === ' ')\n            ch = this.buffer[++i];\n        if (ch === '\\t') {\n            while (ch === '\\t' || ch === ' ' || ch === '\\r' || ch === '\\n')\n                ch = this.buffer[++i];\n            nl = i - 1;\n        }\n        else if (!this.blockScalarKeep) {\n            do {\n                let i = nl - 1;\n                let ch = this.buffer[i];\n                if (ch === '\\r')\n                    ch = this.buffer[--i];\n                const lastChar = i; // Drop the line if last char not more indented\n                while (ch === ' ')\n                    ch = this.buffer[--i];\n                if (ch === '\\n' && i >= this.pos && i + 1 + indent > lastChar)\n                    nl = i;\n                else\n                    break;\n            } while (true);\n        }\n        yield cst.SCALAR;\n        yield* this.pushToIndex(nl + 1, true);\n        return yield* this.parseLineStart();\n    }\n    *parsePlainScalar() {\n        const inFlow = this.flowLevel > 0;\n        let end = this.pos - 1;\n        let i = this.pos - 1;\n        let ch;\n        while ((ch = this.buffer[++i])) {\n            if (ch === ':') {\n                const next = this.buffer[i + 1];\n                if (isEmpty(next) || (inFlow && flowIndicatorChars.has(next)))\n                    break;\n                end = i;\n            }\n            else if (isEmpty(ch)) {\n                let next = this.buffer[i + 1];\n                if (ch === '\\r') {\n                    if (next === '\\n') {\n                        i += 1;\n                        ch = '\\n';\n                        next = this.buffer[i + 1];\n                    }\n                    else\n                        end = i;\n                }\n                if (next === '#' || (inFlow && flowIndicatorChars.has(next)))\n                    break;\n                if (ch === '\\n') {\n                    const cs = this.continueScalar(i + 1);\n                    if (cs === -1)\n                        break;\n                    i = Math.max(i, cs - 2); // to advance, but still account for ' #'\n                }\n            }\n            else {\n                if (inFlow && flowIndicatorChars.has(ch))\n                    break;\n                end = i;\n            }\n        }\n        if (!ch && !this.atEnd)\n            return this.setNext('plain-scalar');\n        yield cst.SCALAR;\n        yield* this.pushToIndex(end + 1, true);\n        return inFlow ? 'flow' : 'doc';\n    }\n    *pushCount(n) {\n        if (n > 0) {\n            yield this.buffer.substr(this.pos, n);\n            this.pos += n;\n            return n;\n        }\n        return 0;\n    }\n    *pushToIndex(i, allowEmpty) {\n        const s = this.buffer.slice(this.pos, i);\n        if (s) {\n            yield s;\n            this.pos += s.length;\n            return s.length;\n        }\n        else if (allowEmpty)\n            yield '';\n        return 0;\n    }\n    *pushIndicators() {\n        switch (this.charAt(0)) {\n            case '!':\n                return ((yield* this.pushTag()) +\n                    (yield* this.pushSpaces(true)) +\n                    (yield* this.pushIndicators()));\n            case '&':\n                return ((yield* this.pushUntil(isNotAnchorChar)) +\n                    (yield* this.pushSpaces(true)) +\n                    (yield* this.pushIndicators()));\n            case '-': // this is an error\n            case '?': // this is an error outside flow collections\n            case ':': {\n                const inFlow = this.flowLevel > 0;\n                const ch1 = this.charAt(1);\n                if (isEmpty(ch1) || (inFlow && flowIndicatorChars.has(ch1))) {\n                    if (!inFlow)\n                        this.indentNext = this.indentValue + 1;\n                    else if (this.flowKey)\n                        this.flowKey = false;\n                    return ((yield* this.pushCount(1)) +\n                        (yield* this.pushSpaces(true)) +\n                        (yield* this.pushIndicators()));\n                }\n            }\n        }\n        return 0;\n    }\n    *pushTag() {\n        if (this.charAt(1) === '<') {\n            let i = this.pos + 2;\n            let ch = this.buffer[i];\n            while (!isEmpty(ch) && ch !== '>')\n                ch = this.buffer[++i];\n            return yield* this.pushToIndex(ch === '>' ? i + 1 : i, false);\n        }\n        else {\n            let i = this.pos + 1;\n            let ch = this.buffer[i];\n            while (ch) {\n                if (tagChars.has(ch))\n                    ch = this.buffer[++i];\n                else if (ch === '%' &&\n                    hexDigits.has(this.buffer[i + 1]) &&\n                    hexDigits.has(this.buffer[i + 2])) {\n                    ch = this.buffer[(i += 3)];\n                }\n                else\n                    break;\n            }\n            return yield* this.pushToIndex(i, false);\n        }\n    }\n    *pushNewline() {\n        const ch = this.buffer[this.pos];\n        if (ch === '\\n')\n            return yield* this.pushCount(1);\n        else if (ch === '\\r' && this.charAt(1) === '\\n')\n            return yield* this.pushCount(2);\n        else\n            return 0;\n    }\n    *pushSpaces(allowTabs) {\n        let i = this.pos - 1;\n        let ch;\n        do {\n            ch = this.buffer[++i];\n        } while (ch === ' ' || (allowTabs && ch === '\\t'));\n        const n = i - this.pos;\n        if (n > 0) {\n            yield this.buffer.substr(this.pos, n);\n            this.pos = i;\n        }\n        return n;\n    }\n    *pushUntil(test) {\n        let i = this.pos;\n        let ch = this.buffer[i];\n        while (!test(ch))\n            ch = this.buffer[++i];\n        return yield* this.pushToIndex(i, false);\n    }\n}\n\nexports.Lexer = Lexer;\n","'use strict'\n\nconst compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","'use strict';\n\nvar identity = require('../../nodes/identity.js');\nvar Pair = require('../../nodes/Pair.js');\nvar Scalar = require('../../nodes/Scalar.js');\nvar YAMLSeq = require('../../nodes/YAMLSeq.js');\n\nfunction resolvePairs(seq, onError) {\n    if (identity.isSeq(seq)) {\n        for (let i = 0; i < seq.items.length; ++i) {\n            let item = seq.items[i];\n            if (identity.isPair(item))\n                continue;\n            else if (identity.isMap(item)) {\n                if (item.items.length > 1)\n                    onError('Each pair must have its own sequence indicator');\n                const pair = item.items[0] || new Pair.Pair(new Scalar.Scalar(null));\n                if (item.commentBefore)\n                    pair.key.commentBefore = pair.key.commentBefore\n                        ? `${item.commentBefore}\\n${pair.key.commentBefore}`\n                        : item.commentBefore;\n                if (item.comment) {\n                    const cn = pair.value ?? pair.key;\n                    cn.comment = cn.comment\n                        ? `${item.comment}\\n${cn.comment}`\n                        : item.comment;\n                }\n                item = pair;\n            }\n            seq.items[i] = identity.isPair(item) ? item : new Pair.Pair(item);\n        }\n    }\n    else\n        onError('Expected a sequence for this tag');\n    return seq;\n}\nfunction createPairs(schema, iterable, ctx) {\n    const { replacer } = ctx;\n    const pairs = new YAMLSeq.YAMLSeq(schema);\n    pairs.tag = 'tag:yaml.org,2002:pairs';\n    let i = 0;\n    if (iterable && Symbol.iterator in Object(iterable))\n        for (let it of iterable) {\n            if (typeof replacer === 'function')\n                it = replacer.call(iterable, String(i++), it);\n            let key, value;\n            if (Array.isArray(it)) {\n                if (it.length === 2) {\n                    key = it[0];\n                    value = it[1];\n                }\n                else\n                    throw new TypeError(`Expected [key, value] tuple: ${it}`);\n            }\n            else if (it && it instanceof Object) {\n                const keys = Object.keys(it);\n                if (keys.length === 1) {\n                    key = keys[0];\n                    value = it[key];\n                }\n                else {\n                    throw new TypeError(`Expected tuple with one key, not ${keys.length} keys`);\n                }\n            }\n            else {\n                key = it;\n            }\n            pairs.items.push(Pair.createPair(key, value, ctx));\n        }\n    return pairs;\n}\nconst pairs = {\n    collection: 'seq',\n    default: false,\n    tag: 'tag:yaml.org,2002:pairs',\n    resolve: resolvePairs,\n    createNode: createPairs\n};\n\nexports.createPairs = createPairs;\nexports.pairs = pairs;\nexports.resolvePairs = resolvePairs;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass TypeHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.middleware;\n    }\n    prepareTypeHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareTypeHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, token, error, null);\n            });\n        };\n        return middleware.prepareTypeHierarchy\n            ? middleware.prepareTypeHierarchy(document, position, token, prepareTypeHierarchy)\n            : prepareTypeHierarchy(document, position, token);\n    }\n    provideTypeHierarchySupertypes(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideTypeHierarchySupertypes = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asTypeHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideTypeHierarchySupertypes\n            ? middleware.provideTypeHierarchySupertypes(item, token, provideTypeHierarchySupertypes)\n            : provideTypeHierarchySupertypes(item, token);\n    }\n    provideTypeHierarchySubtypes(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideTypeHierarchySubtypes = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asTypeHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideTypeHierarchySubtypes\n            ? middleware.provideTypeHierarchySubtypes(item, token, provideTypeHierarchySubtypes)\n            : provideTypeHierarchySubtypes(item, token);\n    }\n}\nclass TypeHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.typeHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new TypeHierarchyProvider(client);\n        return [vscode_1.languages.registerTypeHierarchyProvider(client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n    }\n}\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n","'use strict';\n\nvar identity = require('../nodes/identity.js');\nvar Scalar = require('../nodes/Scalar.js');\nvar resolveBlockScalar = require('./resolve-block-scalar.js');\nvar resolveFlowScalar = require('./resolve-flow-scalar.js');\n\nfunction composeScalar(ctx, token, tagToken, onError) {\n    const { value, type, comment, range } = token.type === 'block-scalar'\n        ? resolveBlockScalar.resolveBlockScalar(ctx, token, onError)\n        : resolveFlowScalar.resolveFlowScalar(token, ctx.options.strict, onError);\n    const tagName = tagToken\n        ? ctx.directives.tagName(tagToken.source, msg => onError(tagToken, 'TAG_RESOLVE_FAILED', msg))\n        : null;\n    let tag;\n    if (ctx.options.stringKeys && ctx.atKey) {\n        tag = ctx.schema[identity.SCALAR];\n    }\n    else if (tagName)\n        tag = findScalarTagByName(ctx.schema, value, tagName, tagToken, onError);\n    else if (token.type === 'scalar')\n        tag = findScalarTagByTest(ctx, value, token, onError);\n    else\n        tag = ctx.schema[identity.SCALAR];\n    let scalar;\n    try {\n        const res = tag.resolve(value, msg => onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg), ctx.options);\n        scalar = identity.isScalar(res) ? res : new Scalar.Scalar(res);\n    }\n    catch (error) {\n        const msg = error instanceof Error ? error.message : String(error);\n        onError(tagToken ?? token, 'TAG_RESOLVE_FAILED', msg);\n        scalar = new Scalar.Scalar(value);\n    }\n    scalar.range = range;\n    scalar.source = value;\n    if (type)\n        scalar.type = type;\n    if (tagName)\n        scalar.tag = tagName;\n    if (tag.format)\n        scalar.format = tag.format;\n    if (comment)\n        scalar.comment = comment;\n    return scalar;\n}\nfunction findScalarTagByName(schema, value, tagName, tagToken, onError) {\n    if (tagName === '!')\n        return schema[identity.SCALAR]; // non-specific tag\n    const matchWithTest = [];\n    for (const tag of schema.tags) {\n        if (!tag.collection && tag.tag === tagName) {\n            if (tag.default && tag.test)\n                matchWithTest.push(tag);\n            else\n                return tag;\n        }\n    }\n    for (const tag of matchWithTest)\n        if (tag.test?.test(value))\n            return tag;\n    const kt = schema.knownTags[tagName];\n    if (kt && !kt.collection) {\n        // Ensure that the known tag is available for stringifying,\n        // but does not get used by default.\n        schema.tags.push(Object.assign({}, kt, { default: false, test: undefined }));\n        return kt;\n    }\n    onError(tagToken, 'TAG_RESOLVE_FAILED', `Unresolved tag: ${tagName}`, tagName !== 'tag:yaml.org,2002:str');\n    return schema[identity.SCALAR];\n}\nfunction findScalarTagByTest({ atKey, directives, schema }, value, token, onError) {\n    const tag = schema.tags.find(tag => (tag.default === true || (atKey && tag.default === 'key')) &&\n        tag.test?.test(value)) || schema[identity.SCALAR];\n    if (schema.compat) {\n        const compat = schema.compat.find(tag => tag.default && tag.test?.test(value)) ??\n            schema[identity.SCALAR];\n        if (tag.tag !== compat.tag) {\n            const ts = directives.tagString(tag.tag);\n            const cs = directives.tagString(compat.tag);\n            const msg = `Value may be parsed as either ${ts} or ${cs}`;\n            onError(token, 'TAG_RESOLVE_FAILED', msg, true);\n        }\n    }\n    return tag;\n}\n\nexports.composeScalar = composeScalar;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeActionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass CodeActionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const cap = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'codeAction');\n        cap.dynamicRegistration = true;\n        cap.isPreferredSupport = true;\n        cap.disabledSupport = true;\n        cap.dataSupport = true;\n        // We can only resolve the edit property.\n        cap.resolveSupport = {\n            properties: ['edit']\n        };\n        cap.codeActionLiteralSupport = {\n            codeActionKind: {\n                valueSet: [\n                    vscode_languageserver_protocol_1.CodeActionKind.Empty,\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\n                ]\n            }\n        };\n        cap.honorsChangeAnnotations = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeActionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideCodeActions: (document, range, context, token) => {\n                const client = this._client;\n                const _provideCodeActions = async (document, range, context, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        context: client.code2ProtocolConverter.asCodeActionContextSync(context)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\n                        if (token.isCancellationRequested || values === null || values === undefined) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCodeActionResult(values, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideCodeActions\n                    ? middleware.provideCodeActions(document, range, context, token, _provideCodeActions)\n                    : _provideCodeActions(document, range, context, token);\n            },\n            resolveCodeAction: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.middleware;\n                    const resolveCodeAction = async (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, client.code2ProtocolConverter.asCodeActionSync(item), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return item;\n                            }\n                            return client.protocol2CodeConverter.asCodeAction(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, token, error, item);\n                        });\n                    };\n                    return middleware.resolveCodeAction\n                        ? middleware.resolveCodeAction(item, token, resolveCodeAction)\n                        : resolveCodeAction(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, (options.codeActionKinds\n                ? { providedCodeActionKinds: this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\n                : undefined)), provider];\n    }\n}\nexports.CodeActionFeature = CodeActionFeature;\n","'use strict';\n\nvar Scalar = require('../nodes/Scalar.js');\nvar foldFlowLines = require('./foldFlowLines.js');\n\nconst getFoldOptions = (ctx, isBlock) => ({\n    indentAtStart: isBlock ? ctx.indent.length : ctx.indentAtStart,\n    lineWidth: ctx.options.lineWidth,\n    minContentWidth: ctx.options.minContentWidth\n});\n// Also checks for lines starting with %, as parsing the output as YAML 1.1 will\n// presume that's starting a new document.\nconst containsDocumentMarker = (str) => /^(%|---|\\.\\.\\.)/m.test(str);\nfunction lineLengthOverLimit(str, lineWidth, indentLength) {\n    if (!lineWidth || lineWidth < 0)\n        return false;\n    const limit = lineWidth - indentLength;\n    const strLen = str.length;\n    if (strLen <= limit)\n        return false;\n    for (let i = 0, start = 0; i < strLen; ++i) {\n        if (str[i] === '\\n') {\n            if (i - start > limit)\n                return true;\n            start = i + 1;\n            if (strLen - start <= limit)\n                return false;\n        }\n    }\n    return true;\n}\nfunction doubleQuotedString(value, ctx) {\n    const json = JSON.stringify(value);\n    if (ctx.options.doubleQuotedAsJSON)\n        return json;\n    const { implicitKey } = ctx;\n    const minMultiLineLength = ctx.options.doubleQuotedMinMultiLineLength;\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\n    let str = '';\n    let start = 0;\n    for (let i = 0, ch = json[i]; ch; ch = json[++i]) {\n        if (ch === ' ' && json[i + 1] === '\\\\' && json[i + 2] === 'n') {\n            // space before newline needs to be escaped to not be folded\n            str += json.slice(start, i) + '\\\\ ';\n            i += 1;\n            start = i;\n            ch = '\\\\';\n        }\n        if (ch === '\\\\')\n            switch (json[i + 1]) {\n                case 'u':\n                    {\n                        str += json.slice(start, i);\n                        const code = json.substr(i + 2, 4);\n                        switch (code) {\n                            case '0000':\n                                str += '\\\\0';\n                                break;\n                            case '0007':\n                                str += '\\\\a';\n                                break;\n                            case '000b':\n                                str += '\\\\v';\n                                break;\n                            case '001b':\n                                str += '\\\\e';\n                                break;\n                            case '0085':\n                                str += '\\\\N';\n                                break;\n                            case '00a0':\n                                str += '\\\\_';\n                                break;\n                            case '2028':\n                                str += '\\\\L';\n                                break;\n                            case '2029':\n                                str += '\\\\P';\n                                break;\n                            default:\n                                if (code.substr(0, 2) === '00')\n                                    str += '\\\\x' + code.substr(2);\n                                else\n                                    str += json.substr(i, 6);\n                        }\n                        i += 5;\n                        start = i + 1;\n                    }\n                    break;\n                case 'n':\n                    if (implicitKey ||\n                        json[i + 2] === '\"' ||\n                        json.length < minMultiLineLength) {\n                        i += 1;\n                    }\n                    else {\n                        // folding will eat first newline\n                        str += json.slice(start, i) + '\\n\\n';\n                        while (json[i + 2] === '\\\\' &&\n                            json[i + 3] === 'n' &&\n                            json[i + 4] !== '\"') {\n                            str += '\\n';\n                            i += 2;\n                        }\n                        str += indent;\n                        // space after newline needs to be escaped to not be folded\n                        if (json[i + 2] === ' ')\n                            str += '\\\\';\n                        i += 1;\n                        start = i + 1;\n                    }\n                    break;\n                default:\n                    i += 1;\n            }\n    }\n    str = start ? str + json.slice(start) : json;\n    return implicitKey\n        ? str\n        : foldFlowLines.foldFlowLines(str, indent, foldFlowLines.FOLD_QUOTED, getFoldOptions(ctx, false));\n}\nfunction singleQuotedString(value, ctx) {\n    if (ctx.options.singleQuote === false ||\n        (ctx.implicitKey && value.includes('\\n')) ||\n        /[ \\t]\\n|\\n[ \\t]/.test(value) // single quoted string can't have leading or trailing whitespace around newline\n    )\n        return doubleQuotedString(value, ctx);\n    const indent = ctx.indent || (containsDocumentMarker(value) ? '  ' : '');\n    const res = \"'\" + value.replace(/'/g, \"''\").replace(/\\n+/g, `$&\\n${indent}`) + \"'\";\n    return ctx.implicitKey\n        ? res\n        : foldFlowLines.foldFlowLines(res, indent, foldFlowLines.FOLD_FLOW, getFoldOptions(ctx, false));\n}\nfunction quotedString(value, ctx) {\n    const { singleQuote } = ctx.options;\n    let qs;\n    if (singleQuote === false)\n        qs = doubleQuotedString;\n    else {\n        const hasDouble = value.includes('\"');\n        const hasSingle = value.includes(\"'\");\n        if (hasDouble && !hasSingle)\n            qs = singleQuotedString;\n        else if (hasSingle && !hasDouble)\n            qs = doubleQuotedString;\n        else\n            qs = singleQuote ? singleQuotedString : doubleQuotedString;\n    }\n    return qs(value, ctx);\n}\n// The negative lookbehind avoids a polynomial search,\n// but isn't supported yet on Safari: https://caniuse.com/js-regexp-lookbehind\nlet blockEndNewlines;\ntry {\n    blockEndNewlines = new RegExp('(^|(?<!\\n))\\n+(?!\\n|$)', 'g');\n}\ncatch {\n    blockEndNewlines = /\\n+(?!\\n|$)/g;\n}\nfunction blockString({ comment, type, value }, ctx, onComment, onChompKeep) {\n    const { blockQuote, commentString, lineWidth } = ctx.options;\n    // 1. Block can't end in whitespace unless the last line is non-empty.\n    // 2. Strings consisting of only whitespace are best rendered explicitly.\n    if (!blockQuote || /\\n[\\t ]+$/.test(value)) {\n        return quotedString(value, ctx);\n    }\n    const indent = ctx.indent ||\n        (ctx.forceBlockIndent || containsDocumentMarker(value) ? '  ' : '');\n    const literal = blockQuote === 'literal'\n        ? true\n        : blockQuote === 'folded' || type === Scalar.Scalar.BLOCK_FOLDED\n            ? false\n            : type === Scalar.Scalar.BLOCK_LITERAL\n                ? true\n                : !lineLengthOverLimit(value, lineWidth, indent.length);\n    if (!value)\n        return literal ? '|\\n' : '>\\n';\n    // determine chomping from whitespace at value end\n    let chomp;\n    let endStart;\n    for (endStart = value.length; endStart > 0; --endStart) {\n        const ch = value[endStart - 1];\n        if (ch !== '\\n' && ch !== '\\t' && ch !== ' ')\n            break;\n    }\n    let end = value.substring(endStart);\n    const endNlPos = end.indexOf('\\n');\n    if (endNlPos === -1) {\n        chomp = '-'; // strip\n    }\n    else if (value === end || endNlPos !== end.length - 1) {\n        chomp = '+'; // keep\n        if (onChompKeep)\n            onChompKeep();\n    }\n    else {\n        chomp = ''; // clip\n    }\n    if (end) {\n        value = value.slice(0, -end.length);\n        if (end[end.length - 1] === '\\n')\n            end = end.slice(0, -1);\n        end = end.replace(blockEndNewlines, `$&${indent}`);\n    }\n    // determine indent indicator from whitespace at value start\n    let startWithSpace = false;\n    let startEnd;\n    let startNlPos = -1;\n    for (startEnd = 0; startEnd < value.length; ++startEnd) {\n        const ch = value[startEnd];\n        if (ch === ' ')\n            startWithSpace = true;\n        else if (ch === '\\n')\n            startNlPos = startEnd;\n        else\n            break;\n    }\n    let start = value.substring(0, startNlPos < startEnd ? startNlPos + 1 : startEnd);\n    if (start) {\n        value = value.substring(start.length);\n        start = start.replace(/\\n+/g, `$&${indent}`);\n    }\n    const indentSize = indent ? '2' : '1'; // root is at -1\n    // Leading | or > is added later\n    let header = (startWithSpace ? indentSize : '') + chomp;\n    if (comment) {\n        header += ' ' + commentString(comment.replace(/ ?[\\r\\n]+/g, ' '));\n        if (onComment)\n            onComment();\n    }\n    if (!literal) {\n        const foldedValue = value\n            .replace(/\\n+/g, '\\n$&')\n            .replace(/(?:^|\\n)([\\t ].*)(?:([\\n\\t ]*)\\n(?![\\n\\t ]))?/g, '$1$2') // more-indented lines aren't folded\n            //                ^ more-ind. ^ empty     ^ capture next empty lines only at end of indent\n            .replace(/\\n+/g, `$&${indent}`);\n        let literalFallback = false;\n        const foldOptions = getFoldOptions(ctx, true);\n        if (blockQuote !== 'folded' && type !== Scalar.Scalar.BLOCK_FOLDED) {\n            foldOptions.onOverflow = () => {\n                literalFallback = true;\n            };\n        }\n        const body = foldFlowLines.foldFlowLines(`${start}${foldedValue}${end}`, indent, foldFlowLines.FOLD_BLOCK, foldOptions);\n        if (!literalFallback)\n            return `>${header}\\n${indent}${body}`;\n    }\n    value = value.replace(/\\n+/g, `$&${indent}`);\n    return `|${header}\\n${indent}${start}${value}${end}`;\n}\nfunction plainString(item, ctx, onComment, onChompKeep) {\n    const { type, value } = item;\n    const { actualString, implicitKey, indent, indentStep, inFlow } = ctx;\n    if ((implicitKey && value.includes('\\n')) ||\n        (inFlow && /[[\\]{},]/.test(value))) {\n        return quotedString(value, ctx);\n    }\n    if (/^[\\n\\t ,[\\]{}#&*!|>'\"%@`]|^[?-]$|^[?-][ \\t]|[\\n:][ \\t]|[ \\t]\\n|[\\n\\t ]#|[\\n\\t :]$/.test(value)) {\n        // not allowed:\n        // - '-' or '?'\n        // - start with an indicator character (except [?:-]) or /[?-] /\n        // - '\\n ', ': ' or ' \\n' anywhere\n        // - '#' not preceded by a non-space char\n        // - end with ' ' or ':'\n        return implicitKey || inFlow || !value.includes('\\n')\n            ? quotedString(value, ctx)\n            : blockString(item, ctx, onComment, onChompKeep);\n    }\n    if (!implicitKey &&\n        !inFlow &&\n        type !== Scalar.Scalar.PLAIN &&\n        value.includes('\\n')) {\n        // Where allowed & type not set explicitly, prefer block style for multiline strings\n        return blockString(item, ctx, onComment, onChompKeep);\n    }\n    if (containsDocumentMarker(value)) {\n        if (indent === '') {\n            ctx.forceBlockIndent = true;\n            return blockString(item, ctx, onComment, onChompKeep);\n        }\n        else if (implicitKey && indent === indentStep) {\n            return quotedString(value, ctx);\n        }\n    }\n    const str = value.replace(/\\n+/g, `$&\\n${indent}`);\n    // Verify that output will be parsed as a string, as e.g. plain numbers and\n    // booleans get parsed with those types in v1.2 (e.g. '42', 'true' & '0.9e-3'),\n    // and others in v1.1.\n    if (actualString) {\n        const test = (tag) => tag.default && tag.tag !== 'tag:yaml.org,2002:str' && tag.test?.test(str);\n        const { compat, tags } = ctx.doc.schema;\n        if (tags.some(test) || compat?.some(test))\n            return quotedString(value, ctx);\n    }\n    return implicitKey\n        ? str\n        : foldFlowLines.foldFlowLines(str, indent, foldFlowLines.FOLD_FLOW, getFoldOptions(ctx, false));\n}\nfunction stringifyString(item, ctx, onComment, onChompKeep) {\n    const { implicitKey, inFlow } = ctx;\n    const ss = typeof item.value === 'string'\n        ? item\n        : Object.assign({}, item, { value: String(item.value) });\n    let { type } = item;\n    if (type !== Scalar.Scalar.QUOTE_DOUBLE) {\n        // force double quotes on control characters & unpaired surrogates\n        if (/[\\x00-\\x08\\x0b-\\x1f\\x7f-\\x9f\\u{D800}-\\u{DFFF}]/u.test(ss.value))\n            type = Scalar.Scalar.QUOTE_DOUBLE;\n    }\n    const _stringify = (_type) => {\n        switch (_type) {\n            case Scalar.Scalar.BLOCK_FOLDED:\n            case Scalar.Scalar.BLOCK_LITERAL:\n                return implicitKey || inFlow\n                    ? quotedString(ss.value, ctx) // blocks are not valid inside flow containers\n                    : blockString(ss, ctx, onComment, onChompKeep);\n            case Scalar.Scalar.QUOTE_DOUBLE:\n                return doubleQuotedString(ss.value, ctx);\n            case Scalar.Scalar.QUOTE_SINGLE:\n                return singleQuotedString(ss.value, ctx);\n            case Scalar.Scalar.PLAIN:\n                return plainString(ss, ctx, onComment, onChompKeep);\n            default:\n                return null;\n        }\n    };\n    let res = _stringify(type);\n    if (res === null) {\n        const { defaultKeyType, defaultStringType } = ctx.options;\n        const t = (implicitKey && defaultKeyType) || defaultStringType;\n        res = _stringify(t);\n        if (res === null)\n            throw new Error(`Unsupported default string type ${t}`);\n    }\n    return res;\n}\n\nexports.stringifyString = stringifyString;\n","module.exports = require(\"path\");","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","module.exports = require(\"crypto\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection || (exports.MessageDirection = MessageDirection = {}));\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst progressPart_1 = require(\"./progressPart\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = Object.create(null);\n    }\n    return target[key];\n}\nclass ProgressFeature {\n    constructor(_client) {\n        this._client = _client;\n        this.activeParts = new Set();\n    }\n    getState() {\n        return { kind: 'window', id: vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.method, registrations: this.activeParts.size > 0 };\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(capabilities, 'window').workDoneProgress = true;\n    }\n    initialize() {\n        const client = this._client;\n        const deleteHandler = (part) => {\n            this.activeParts.delete(part);\n        };\n        const createHandler = (params) => {\n            this.activeParts.add(new progressPart_1.ProgressPart(this._client, params.token, deleteHandler));\n        };\n        client.onRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, createHandler);\n    }\n    clear() {\n        for (const part of this.activeParts) {\n            part.done();\n        }\n        this.activeParts.clear();\n    }\n}\nexports.ProgressFeature = ProgressFeature;\n","'use strict';\n\nvar map = require('../common/map.js');\nvar _null = require('../common/null.js');\nvar seq = require('../common/seq.js');\nvar string = require('../common/string.js');\nvar bool = require('./bool.js');\nvar float = require('./float.js');\nvar int = require('./int.js');\n\nconst schema = [\n    map.map,\n    seq.seq,\n    string.string,\n    _null.nullTag,\n    bool.boolTag,\n    int.intOct,\n    int.int,\n    int.intHex,\n    float.floatNaN,\n    float.floatExp,\n    float.float\n];\n\nexports.schema = schema;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolDiagnostic = exports.DiagnosticCode = void 0;\nconst vscode = require(\"vscode\");\nconst Is = require(\"./utils/is\");\nvar DiagnosticCode;\n(function (DiagnosticCode) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\n    }\n    DiagnosticCode.is = is;\n})(DiagnosticCode || (exports.DiagnosticCode = DiagnosticCode = {}));\nclass ProtocolDiagnostic extends vscode.Diagnostic {\n    constructor(range, message, severity, data) {\n        super(range, message, severity);\n        this.data = data;\n        this.hasDiagnosticCode = false;\n    }\n}\nexports.ProtocolDiagnostic = ProtocolDiagnostic;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingFeature = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass LinkedEditingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, proto.LinkedEditingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const linkedEditingSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'linkedEditingRange');\n        linkedEditingSupport.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.linkedEditingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideLinkedEditingRanges: (document, position, token) => {\n                const client = this._client;\n                const provideLinkedEditing = (document, position, token) => {\n                    return client.sendRequest(proto.LinkedEditingRangeRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asLinkedEditingRanges(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(proto.LinkedEditingRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideLinkedEditingRange\n                    ? middleware.provideLinkedEditingRange(document, position, token, provideLinkedEditing)\n                    : provideLinkedEditing(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return code.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.LinkedEditingFeature = LinkedEditingFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass SelectionRangeFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SelectionRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'selectionRange');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.selectionRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideSelectionRanges: (document, positions, token) => {\n                const client = this._client;\n                const provideSelectionRanges = async (document, positions, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        positions: client.code2ProtocolConverter.asPositionsSync(positions, token)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, requestParams, token).then((ranges) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSelectionRanges(ranges, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideSelectionRanges\n                    ? middleware.provideSelectionRanges(document, positions, token, provideSelectionRanges)\n                    : provideSelectionRanges(document, positions, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.SelectionRangeFeature = SelectionRangeFeature;\n","'use strict';\n\nvar cstScalar = require('./cst-scalar.js');\nvar cstStringify = require('./cst-stringify.js');\nvar cstVisit = require('./cst-visit.js');\n\n/** The byte order mark */\nconst BOM = '\\u{FEFF}';\n/** Start of doc-mode */\nconst DOCUMENT = '\\x02'; // C0: Start of Text\n/** Unexpected end of flow-mode */\nconst FLOW_END = '\\x18'; // C0: Cancel\n/** Next token is a scalar value */\nconst SCALAR = '\\x1f'; // C0: Unit Separator\n/** @returns `true` if `token` is a flow or block collection */\nconst isCollection = (token) => !!token && 'items' in token;\n/** @returns `true` if `token` is a flow or block scalar; not an alias */\nconst isScalar = (token) => !!token &&\n    (token.type === 'scalar' ||\n        token.type === 'single-quoted-scalar' ||\n        token.type === 'double-quoted-scalar' ||\n        token.type === 'block-scalar');\n/* istanbul ignore next */\n/** Get a printable representation of a lexer token */\nfunction prettyToken(token) {\n    switch (token) {\n        case BOM:\n            return '<BOM>';\n        case DOCUMENT:\n            return '<DOC>';\n        case FLOW_END:\n            return '<FLOW_END>';\n        case SCALAR:\n            return '<SCALAR>';\n        default:\n            return JSON.stringify(token);\n    }\n}\n/** Identify the type of a lexer token. May return `null` for unknown tokens. */\nfunction tokenType(source) {\n    switch (source) {\n        case BOM:\n            return 'byte-order-mark';\n        case DOCUMENT:\n            return 'doc-mode';\n        case FLOW_END:\n            return 'flow-error-end';\n        case SCALAR:\n            return 'scalar';\n        case '---':\n            return 'doc-start';\n        case '...':\n            return 'doc-end';\n        case '':\n        case '\\n':\n        case '\\r\\n':\n            return 'newline';\n        case '-':\n            return 'seq-item-ind';\n        case '?':\n            return 'explicit-key-ind';\n        case ':':\n            return 'map-value-ind';\n        case '{':\n            return 'flow-map-start';\n        case '}':\n            return 'flow-map-end';\n        case '[':\n            return 'flow-seq-start';\n        case ']':\n            return 'flow-seq-end';\n        case ',':\n            return 'comma';\n    }\n    switch (source[0]) {\n        case ' ':\n        case '\\t':\n            return 'space';\n        case '#':\n            return 'comment';\n        case '%':\n            return 'directive-line';\n        case '*':\n            return 'alias';\n        case '&':\n            return 'anchor';\n        case '!':\n            return 'tag';\n        case \"'\":\n            return 'single-quoted-scalar';\n        case '\"':\n            return 'double-quoted-scalar';\n        case '|':\n        case '>':\n            return 'block-scalar-header';\n    }\n    return null;\n}\n\nexports.createScalarToken = cstScalar.createScalarToken;\nexports.resolveAsScalar = cstScalar.resolveAsScalar;\nexports.setScalarValue = cstScalar.setScalarValue;\nexports.stringify = cstStringify.stringify;\nexports.visit = cstVisit.visit;\nexports.BOM = BOM;\nexports.DOCUMENT = DOCUMENT;\nexports.FLOW_END = FLOW_END;\nexports.SCALAR = SCALAR;\nexports.isCollection = isCollection;\nexports.isScalar = isScalar;\nexports.prettyToken = prettyToken;\nexports.tokenType = tokenType;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintsFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass InlayHintsFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlayHintRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const inlayHint = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlayHint');\n        inlayHint.dynamicRegistration = true;\n        inlayHint.resolveSupport = {\n            properties: ['tooltip', 'textEdits', 'label.tooltip', 'label.location', 'label.command']\n        };\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'inlayHint').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeInlayHints.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.inlayHintProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeInlayHints: eventEmitter.event,\n            provideInlayHints: (document, viewPort, token) => {\n                const client = this._client;\n                const provideInlayHints = async (document, viewPort, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(viewPort)\n                    };\n                    try {\n                        const values = await client.sendRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, requestParams, token);\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlayHints(values, token);\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.provideInlayHints\n                    ? middleware.provideInlayHints(document, viewPort, token, provideInlayHints)\n                    : provideInlayHints(document, viewPort, token);\n            }\n        };\n        provider.resolveInlayHint = options.resolveProvider === true\n            ? (hint, token) => {\n                const client = this._client;\n                const resolveInlayHint = async (item, token) => {\n                    try {\n                        const value = await client.sendRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, client.code2ProtocolConverter.asInlayHint(item), token);\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        const result = client.protocol2CodeConverter.asInlayHint(value, token);\n                        return token.isCancellationRequested ? null : result;\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.resolveInlayHint\n                    ? middleware.resolveInlayHint(hint, token, resolveInlayHint)\n                    : resolveInlayHint(hint, token);\n            }\n            : undefined;\n        return [this.registerProvider(selector, provider), { provider: provider, onDidChangeInlayHints: eventEmitter }];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.InlayHintsFeature = InlayHintsFeature;\n","'use strict';\n\nfunction emptyScalarPosition(offset, before, pos) {\n    if (before) {\n        pos ?? (pos = before.length);\n        for (let i = pos - 1; i >= 0; --i) {\n            let st = before[i];\n            switch (st.type) {\n                case 'space':\n                case 'comment':\n                case 'newline':\n                    offset -= st.source.length;\n                    continue;\n            }\n            // Technically, an empty scalar is immediately after the last non-empty\n            // node, but it's more useful to place it after any whitespace.\n            st = before[++i];\n            while (st?.type === 'space') {\n                offset += st.source.length;\n                st = before[++i];\n            }\n            break;\n        }\n    }\n    return offset;\n}\n\nexports.emptyScalarPosition = emptyScalarPosition;\n","\"use strict\";\n/**\n * @workflow/graph\n *\n * Workflow execution graph analysis and visualization utilities.\n * Analyzes workflow dependencies, detects cycles, and provides execution order.\n */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DependencyAnalyzer = exports.ExecutionGraphBuilder = void 0;\nvar executionGraphBuilder_1 = require(\"./executionGraphBuilder\");\nObject.defineProperty(exports, \"ExecutionGraphBuilder\", { enumerable: true, get: function () { return executionGraphBuilder_1.ExecutionGraphBuilder; } });\nvar dependencyAnalyzer_1 = require(\"./dependencyAnalyzer\");\nObject.defineProperty(exports, \"DependencyAnalyzer\", { enumerable: true, get: function () { return dependencyAnalyzer_1.DependencyAnalyzer; } });\n//# sourceMappingURL=index.js.map","'use strict';\n\nfunction resolveEnd(end, offset, reqSpace, onError) {\n    let comment = '';\n    if (end) {\n        let hasSpace = false;\n        let sep = '';\n        for (const token of end) {\n            const { source, type } = token;\n            switch (type) {\n                case 'space':\n                    hasSpace = true;\n                    break;\n                case 'comment': {\n                    if (reqSpace && !hasSpace)\n                        onError(token, 'MISSING_CHAR', 'Comments must be separated from other tokens by white space characters');\n                    const cb = source.substring(1) || ' ';\n                    if (!comment)\n                        comment = cb;\n                    else\n                        comment += sep + cb;\n                    sep = '';\n                    break;\n                }\n                case 'newline':\n                    if (comment)\n                        sep += source;\n                    hasSpace = true;\n                    break;\n                default:\n                    onError(token, 'UNEXPECTED_TOKEN', `Unexpected ${type} at node end`);\n            }\n            offset += source.length;\n        }\n    }\n    return { comment, offset };\n}\n\nexports.resolveEnd = resolveEnd;\n","'use strict'\n\nconst compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","'use strict';\n\nconst ALIAS = Symbol.for('yaml.alias');\nconst DOC = Symbol.for('yaml.document');\nconst MAP = Symbol.for('yaml.map');\nconst PAIR = Symbol.for('yaml.pair');\nconst SCALAR = Symbol.for('yaml.scalar');\nconst SEQ = Symbol.for('yaml.seq');\nconst NODE_TYPE = Symbol.for('yaml.node.type');\nconst isAlias = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === ALIAS;\nconst isDocument = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === DOC;\nconst isMap = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === MAP;\nconst isPair = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === PAIR;\nconst isScalar = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SCALAR;\nconst isSeq = (node) => !!node && typeof node === 'object' && node[NODE_TYPE] === SEQ;\nfunction isCollection(node) {\n    if (node && typeof node === 'object')\n        switch (node[NODE_TYPE]) {\n            case MAP:\n            case SEQ:\n                return true;\n        }\n    return false;\n}\nfunction isNode(node) {\n    if (node && typeof node === 'object')\n        switch (node[NODE_TYPE]) {\n            case ALIAS:\n            case MAP:\n            case SCALAR:\n            case SEQ:\n                return true;\n        }\n    return false;\n}\nconst hasAnchor = (node) => (isScalar(node) || isCollection(node)) && !!node.anchor;\n\nexports.ALIAS = ALIAS;\nexports.DOC = DOC;\nexports.MAP = MAP;\nexports.NODE_TYPE = NODE_TYPE;\nexports.PAIR = PAIR;\nexports.SCALAR = SCALAR;\nexports.SEQ = SEQ;\nexports.hasAnchor = hasAnchor;\nexports.isAlias = isAlias;\nexports.isCollection = isCollection;\nexports.isDocument = isDocument;\nexports.isMap = isMap;\nexports.isNode = isNode;\nexports.isPair = isPair;\nexports.isScalar = isScalar;\nexports.isSeq = isSeq;\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = () => ([]);\nwebpackEmptyContext.resolve = webpackEmptyContext;\nwebpackEmptyContext.id = 7577;\nmodule.exports = webpackEmptyContext;","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass InlineValueFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlineValueRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlineValue').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'inlineValue').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeInlineValues.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.inlineValueProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeInlineValues: eventEmitter.event,\n            provideInlineValues: (document, viewPort, context, token) => {\n                const client = this._client;\n                const provideInlineValues = (document, viewPort, context, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(viewPort),\n                        context: client.code2ProtocolConverter.asInlineValueContext(context)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, requestParams, token).then((values) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlineValues(values, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideInlineValues\n                    ? middleware.provideInlineValues(document, viewPort, context, token, provideInlineValues)\n                    : provideInlineValues(document, viewPort, context, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), { provider: provider, onDidChangeInlineValues: eventEmitter }];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.InlineValueFeature = InlineValueFeature;\n","'use strict';\n\n/**\n * Applies the JSON.parse reviver algorithm as defined in the ECMA-262 spec,\n * in section 24.5.1.1 \"Runtime Semantics: InternalizeJSONProperty\" of the\n * 2021 edition: https://tc39.es/ecma262/#sec-json.parse\n *\n * Includes extensions for handling Map and Set objects.\n */\nfunction applyReviver(reviver, obj, key, val) {\n    if (val && typeof val === 'object') {\n        if (Array.isArray(val)) {\n            for (let i = 0, len = val.length; i < len; ++i) {\n                const v0 = val[i];\n                const v1 = applyReviver(reviver, val, String(i), v0);\n                // eslint-disable-next-line @typescript-eslint/no-array-delete\n                if (v1 === undefined)\n                    delete val[i];\n                else if (v1 !== v0)\n                    val[i] = v1;\n            }\n        }\n        else if (val instanceof Map) {\n            for (const k of Array.from(val.keys())) {\n                const v0 = val.get(k);\n                const v1 = applyReviver(reviver, val, k, v0);\n                if (v1 === undefined)\n                    val.delete(k);\n                else if (v1 !== v0)\n                    val.set(k, v1);\n            }\n        }\n        else if (val instanceof Set) {\n            for (const v0 of Array.from(val)) {\n                const v1 = applyReviver(reviver, val, v0, v0);\n                if (v1 === undefined)\n                    val.delete(v0);\n                else if (v1 !== v0) {\n                    val.delete(v0);\n                    val.add(v1);\n                }\n            }\n        }\n        else {\n            for (const [k, v0] of Object.entries(val)) {\n                const v1 = applyReviver(reviver, val, k, v0);\n                if (v1 === undefined)\n                    delete val[k];\n                else if (v1 !== v0)\n                    val[k] = v1;\n            }\n        }\n    }\n    return reviver.call(obj, key, val);\n}\n\nexports.applyReviver = applyReviver;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type {@link SelectionRangeParams}, the\n * response is of type {@link SelectionRange SelectionRange[]} or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest || (exports.SelectionRangeRequest = SelectionRangeRequest = {}));\n","import * as path from 'path';\nimport { workspace, ExtensionContext, commands, window } from 'vscode';\nimport {\n  LanguageClient,\n  LanguageClientOptions,\n  ServerOptions,\n  TransportKind\n} from 'vscode-languageclient/node';\nimport { WorkflowGraphPanel } from './graphPanel';\n\nlet client: LanguageClient;\n\nexport function activate(context: ExtensionContext) {\n  console.log('[Extension] Activating workflow extension');\n\n  // Register command to show workflow graph\n  const showGraphCommand = commands.registerCommand('workflow.showGraph', () => {\n    console.log('[Extension] workflow.showGraph command triggered');\n    const editor = window.activeTextEditor;\n    if (!editor) {\n      console.log('[Extension] No active editor');\n      window.showErrorMessage('No active editor');\n      return;\n    }\n\n    const document = editor.document;\n    console.log('[Extension] Active document:', document.fileName);\n\n    const workflowYaml = document.getText();\n    console.log('[Extension] Creating graph panel with YAML length:', workflowYaml.length);\n    WorkflowGraphPanel.createOrShow(context.extensionUri, workflowYaml);\n  });\n\n  context.subscriptions.push(showGraphCommand);\n  console.log('[Extension] Command workflow.showGraph registered');\n\n  // The server is implemented in node\n  const serverModule = context.asAbsolutePath(\n    path.join('server', 'dist', 'server.js')\n  );\n\n  // The debug options for the server\n  const debugOptions = { execArgv: ['--nolazy', '--inspect=6009'] };\n\n  // If the extension is launched in debug mode then the debug server options are used\n  // Otherwise the run options are used\n  const serverOptions: ServerOptions = {\n    run: { module: serverModule, transport: TransportKind.ipc },\n    debug: {\n      module: serverModule,\n      transport: TransportKind.ipc,\n      options: debugOptions\n    }\n  };\n\n  // Options to control the language client\n  const clientOptions: LanguageClientOptions = {\n    // Register the server for workflow YAML documents\n    documentSelector: [\n      { scheme: 'file', language: 'yaml', pattern: '**/*workflow*.{yaml,yml}' },\n      { scheme: 'file', language: 'yaml', pattern: '**/*task*.{yaml,yml}' }\n    ],\n    synchronize: {\n      // Notify the server about file changes to '.yaml' and '.yml' files in the workspace\n      fileEvents: workspace.createFileSystemWatcher('**/*.{yaml,yml}')\n    }\n  };\n\n  // Create the language client and start the client\n  client = new LanguageClient(\n    'workflowLanguageServer',\n    'Workflow Language Server',\n    serverOptions,\n    clientOptions\n  );\n\n  // Start the client. This will also launch the server\n  client.start();\n}\n\nexport function deactivate(): Thenable<void> | undefined {\n  if (!client) {\n    return undefined;\n  }\n  return client.stop();\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = CallHierarchyOutgoingCallsRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = TypeHierarchySubtypesRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode = require(\"vscode\");\nclass ProtocolCodeAction extends vscode.CodeAction {\n    constructor(title, data) {\n        super(title);\n        this.data = data;\n    }\n}\nexports.default = ProtocolCodeAction;\n","'use strict';\n\nvar Alias = require('../nodes/Alias.js');\nvar Collection = require('../nodes/Collection.js');\nvar identity = require('../nodes/identity.js');\nvar Pair = require('../nodes/Pair.js');\nvar toJS = require('../nodes/toJS.js');\nvar Schema = require('../schema/Schema.js');\nvar stringifyDocument = require('../stringify/stringifyDocument.js');\nvar anchors = require('./anchors.js');\nvar applyReviver = require('./applyReviver.js');\nvar createNode = require('./createNode.js');\nvar directives = require('./directives.js');\n\nclass Document {\n    constructor(value, replacer, options) {\n        /** A comment before this Document */\n        this.commentBefore = null;\n        /** A comment immediately after this Document */\n        this.comment = null;\n        /** Errors encountered during parsing. */\n        this.errors = [];\n        /** Warnings encountered during parsing. */\n        this.warnings = [];\n        Object.defineProperty(this, identity.NODE_TYPE, { value: identity.DOC });\n        let _replacer = null;\n        if (typeof replacer === 'function' || Array.isArray(replacer)) {\n            _replacer = replacer;\n        }\n        else if (options === undefined && replacer) {\n            options = replacer;\n            replacer = undefined;\n        }\n        const opt = Object.assign({\n            intAsBigInt: false,\n            keepSourceTokens: false,\n            logLevel: 'warn',\n            prettyErrors: true,\n            strict: true,\n            stringKeys: false,\n            uniqueKeys: true,\n            version: '1.2'\n        }, options);\n        this.options = opt;\n        let { version } = opt;\n        if (options?._directives) {\n            this.directives = options._directives.atDocument();\n            if (this.directives.yaml.explicit)\n                version = this.directives.yaml.version;\n        }\n        else\n            this.directives = new directives.Directives({ version });\n        this.setSchema(version, options);\n        // @ts-expect-error We can't really know that this matches Contents.\n        this.contents =\n            value === undefined ? null : this.createNode(value, _replacer, options);\n    }\n    /**\n     * Create a deep copy of this Document and its contents.\n     *\n     * Custom Node values that inherit from `Object` still refer to their original instances.\n     */\n    clone() {\n        const copy = Object.create(Document.prototype, {\n            [identity.NODE_TYPE]: { value: identity.DOC }\n        });\n        copy.commentBefore = this.commentBefore;\n        copy.comment = this.comment;\n        copy.errors = this.errors.slice();\n        copy.warnings = this.warnings.slice();\n        copy.options = Object.assign({}, this.options);\n        if (this.directives)\n            copy.directives = this.directives.clone();\n        copy.schema = this.schema.clone();\n        // @ts-expect-error We can't really know that this matches Contents.\n        copy.contents = identity.isNode(this.contents)\n            ? this.contents.clone(copy.schema)\n            : this.contents;\n        if (this.range)\n            copy.range = this.range.slice();\n        return copy;\n    }\n    /** Adds a value to the document. */\n    add(value) {\n        if (assertCollection(this.contents))\n            this.contents.add(value);\n    }\n    /** Adds a value to the document. */\n    addIn(path, value) {\n        if (assertCollection(this.contents))\n            this.contents.addIn(path, value);\n    }\n    /**\n     * Create a new `Alias` node, ensuring that the target `node` has the required anchor.\n     *\n     * If `node` already has an anchor, `name` is ignored.\n     * Otherwise, the `node.anchor` value will be set to `name`,\n     * or if an anchor with that name is already present in the document,\n     * `name` will be used as a prefix for a new unique anchor.\n     * If `name` is undefined, the generated anchor will use 'a' as a prefix.\n     */\n    createAlias(node, name) {\n        if (!node.anchor) {\n            const prev = anchors.anchorNames(this);\n            node.anchor =\n                // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n                !name || prev.has(name) ? anchors.findNewAnchor(name || 'a', prev) : name;\n        }\n        return new Alias.Alias(node.anchor);\n    }\n    createNode(value, replacer, options) {\n        let _replacer = undefined;\n        if (typeof replacer === 'function') {\n            value = replacer.call({ '': value }, '', value);\n            _replacer = replacer;\n        }\n        else if (Array.isArray(replacer)) {\n            const keyToStr = (v) => typeof v === 'number' || v instanceof String || v instanceof Number;\n            const asStr = replacer.filter(keyToStr).map(String);\n            if (asStr.length > 0)\n                replacer = replacer.concat(asStr);\n            _replacer = replacer;\n        }\n        else if (options === undefined && replacer) {\n            options = replacer;\n            replacer = undefined;\n        }\n        const { aliasDuplicateObjects, anchorPrefix, flow, keepUndefined, onTagObj, tag } = options ?? {};\n        const { onAnchor, setAnchors, sourceObjects } = anchors.createNodeAnchors(this, \n        // eslint-disable-next-line @typescript-eslint/prefer-nullish-coalescing\n        anchorPrefix || 'a');\n        const ctx = {\n            aliasDuplicateObjects: aliasDuplicateObjects ?? true,\n            keepUndefined: keepUndefined ?? false,\n            onAnchor,\n            onTagObj,\n            replacer: _replacer,\n            schema: this.schema,\n            sourceObjects\n        };\n        const node = createNode.createNode(value, tag, ctx);\n        if (flow && identity.isCollection(node))\n            node.flow = true;\n        setAnchors();\n        return node;\n    }\n    /**\n     * Convert a key and a value into a `Pair` using the current schema,\n     * recursively wrapping all values as `Scalar` or `Collection` nodes.\n     */\n    createPair(key, value, options = {}) {\n        const k = this.createNode(key, null, options);\n        const v = this.createNode(value, null, options);\n        return new Pair.Pair(k, v);\n    }\n    /**\n     * Removes a value from the document.\n     * @returns `true` if the item was found and removed.\n     */\n    delete(key) {\n        return assertCollection(this.contents) ? this.contents.delete(key) : false;\n    }\n    /**\n     * Removes a value from the document.\n     * @returns `true` if the item was found and removed.\n     */\n    deleteIn(path) {\n        if (Collection.isEmptyPath(path)) {\n            if (this.contents == null)\n                return false;\n            // @ts-expect-error Presumed impossible if Strict extends false\n            this.contents = null;\n            return true;\n        }\n        return assertCollection(this.contents)\n            ? this.contents.deleteIn(path)\n            : false;\n    }\n    /**\n     * Returns item at `key`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    get(key, keepScalar) {\n        return identity.isCollection(this.contents)\n            ? this.contents.get(key, keepScalar)\n            : undefined;\n    }\n    /**\n     * Returns item at `path`, or `undefined` if not found. By default unwraps\n     * scalar values from their surrounding node; to disable set `keepScalar` to\n     * `true` (collections are always returned intact).\n     */\n    getIn(path, keepScalar) {\n        if (Collection.isEmptyPath(path))\n            return !keepScalar && identity.isScalar(this.contents)\n                ? this.contents.value\n                : this.contents;\n        return identity.isCollection(this.contents)\n            ? this.contents.getIn(path, keepScalar)\n            : undefined;\n    }\n    /**\n     * Checks if the document includes a value with the key `key`.\n     */\n    has(key) {\n        return identity.isCollection(this.contents) ? this.contents.has(key) : false;\n    }\n    /**\n     * Checks if the document includes a value at `path`.\n     */\n    hasIn(path) {\n        if (Collection.isEmptyPath(path))\n            return this.contents !== undefined;\n        return identity.isCollection(this.contents) ? this.contents.hasIn(path) : false;\n    }\n    /**\n     * Sets a value in this document. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    set(key, value) {\n        if (this.contents == null) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = Collection.collectionFromPath(this.schema, [key], value);\n        }\n        else if (assertCollection(this.contents)) {\n            this.contents.set(key, value);\n        }\n    }\n    /**\n     * Sets a value in this document. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     */\n    setIn(path, value) {\n        if (Collection.isEmptyPath(path)) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = value;\n        }\n        else if (this.contents == null) {\n            // @ts-expect-error We can't really know that this matches Contents.\n            this.contents = Collection.collectionFromPath(this.schema, Array.from(path), value);\n        }\n        else if (assertCollection(this.contents)) {\n            this.contents.setIn(path, value);\n        }\n    }\n    /**\n     * Change the YAML version and schema used by the document.\n     * A `null` version disables support for directives, explicit tags, anchors, and aliases.\n     * It also requires the `schema` option to be given as a `Schema` instance value.\n     *\n     * Overrides all previously set schema options.\n     */\n    setSchema(version, options = {}) {\n        if (typeof version === 'number')\n            version = String(version);\n        let opt;\n        switch (version) {\n            case '1.1':\n                if (this.directives)\n                    this.directives.yaml.version = '1.1';\n                else\n                    this.directives = new directives.Directives({ version: '1.1' });\n                opt = { resolveKnownTags: false, schema: 'yaml-1.1' };\n                break;\n            case '1.2':\n            case 'next':\n                if (this.directives)\n                    this.directives.yaml.version = version;\n                else\n                    this.directives = new directives.Directives({ version });\n                opt = { resolveKnownTags: true, schema: 'core' };\n                break;\n            case null:\n                if (this.directives)\n                    delete this.directives;\n                opt = null;\n                break;\n            default: {\n                const sv = JSON.stringify(version);\n                throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${sv}`);\n            }\n        }\n        // Not using `instanceof Schema` to allow for duck typing\n        if (options.schema instanceof Object)\n            this.schema = options.schema;\n        else if (opt)\n            this.schema = new Schema.Schema(Object.assign(opt, options));\n        else\n            throw new Error(`With a null YAML version, the { schema: Schema } option is required`);\n    }\n    // json & jsonArg are only used from toJSON()\n    toJS({ json, jsonArg, mapAsMap, maxAliasCount, onAnchor, reviver } = {}) {\n        const ctx = {\n            anchors: new Map(),\n            doc: this,\n            keep: !json,\n            mapAsMap: mapAsMap === true,\n            mapKeyWarned: false,\n            maxAliasCount: typeof maxAliasCount === 'number' ? maxAliasCount : 100\n        };\n        const res = toJS.toJS(this.contents, jsonArg ?? '', ctx);\n        if (typeof onAnchor === 'function')\n            for (const { count, res } of ctx.anchors.values())\n                onAnchor(res, count);\n        return typeof reviver === 'function'\n            ? applyReviver.applyReviver(reviver, { '': res }, '', res)\n            : res;\n    }\n    /**\n     * A JSON representation of the document `contents`.\n     *\n     * @param jsonArg Used by `JSON.stringify` to indicate the array index or\n     *   property name.\n     */\n    toJSON(jsonArg, onAnchor) {\n        return this.toJS({ json: true, jsonArg, mapAsMap: false, onAnchor });\n    }\n    /** A YAML representation of the document. */\n    toString(options = {}) {\n        if (this.errors.length > 0)\n            throw new Error('Document with errors cannot be stringified');\n        if ('indent' in options &&\n            (!Number.isInteger(options.indent) || Number(options.indent) <= 0)) {\n            const s = JSON.stringify(options.indent);\n            throw new Error(`\"indent\" option must be a positive integer, not ${s}`);\n        }\n        return stringifyDocument.stringifyDocument(this, options);\n    }\n}\nfunction assertCollection(contents) {\n    if (identity.isCollection(contents))\n        return true;\n    throw new Error('Expected a YAML collection as document contents');\n}\n\nexports.Document = Document;\n","'use strict';\n\nvar anchors = require('../doc/anchors.js');\nvar identity = require('../nodes/identity.js');\nvar stringifyComment = require('./stringifyComment.js');\nvar stringifyString = require('./stringifyString.js');\n\nfunction createStringifyContext(doc, options) {\n    const opt = Object.assign({\n        blockQuote: true,\n        commentString: stringifyComment.stringifyComment,\n        defaultKeyType: null,\n        defaultStringType: 'PLAIN',\n        directives: null,\n        doubleQuotedAsJSON: false,\n        doubleQuotedMinMultiLineLength: 40,\n        falseStr: 'false',\n        flowCollectionPadding: true,\n        indentSeq: true,\n        lineWidth: 80,\n        minContentWidth: 20,\n        nullStr: 'null',\n        simpleKeys: false,\n        singleQuote: null,\n        trueStr: 'true',\n        verifyAliasOrder: true\n    }, doc.schema.toStringOptions, options);\n    let inFlow;\n    switch (opt.collectionStyle) {\n        case 'block':\n            inFlow = false;\n            break;\n        case 'flow':\n            inFlow = true;\n            break;\n        default:\n            inFlow = null;\n    }\n    return {\n        anchors: new Set(),\n        doc,\n        flowCollectionPadding: opt.flowCollectionPadding ? ' ' : '',\n        indent: '',\n        indentStep: typeof opt.indent === 'number' ? ' '.repeat(opt.indent) : '  ',\n        inFlow,\n        options: opt\n    };\n}\nfunction getTagObject(tags, item) {\n    if (item.tag) {\n        const match = tags.filter(t => t.tag === item.tag);\n        if (match.length > 0)\n            return match.find(t => t.format === item.format) ?? match[0];\n    }\n    let tagObj = undefined;\n    let obj;\n    if (identity.isScalar(item)) {\n        obj = item.value;\n        let match = tags.filter(t => t.identify?.(obj));\n        if (match.length > 1) {\n            const testMatch = match.filter(t => t.test);\n            if (testMatch.length > 0)\n                match = testMatch;\n        }\n        tagObj =\n            match.find(t => t.format === item.format) ?? match.find(t => !t.format);\n    }\n    else {\n        obj = item;\n        tagObj = tags.find(t => t.nodeClass && obj instanceof t.nodeClass);\n    }\n    if (!tagObj) {\n        const name = obj?.constructor?.name ?? (obj === null ? 'null' : typeof obj);\n        throw new Error(`Tag not resolved for ${name} value`);\n    }\n    return tagObj;\n}\n// needs to be called before value stringifier to allow for circular anchor refs\nfunction stringifyProps(node, tagObj, { anchors: anchors$1, doc }) {\n    if (!doc.directives)\n        return '';\n    const props = [];\n    const anchor = (identity.isScalar(node) || identity.isCollection(node)) && node.anchor;\n    if (anchor && anchors.anchorIsValid(anchor)) {\n        anchors$1.add(anchor);\n        props.push(`&${anchor}`);\n    }\n    const tag = node.tag ?? (tagObj.default ? null : tagObj.tag);\n    if (tag)\n        props.push(doc.directives.tagString(tag));\n    return props.join(' ');\n}\nfunction stringify(item, ctx, onComment, onChompKeep) {\n    if (identity.isPair(item))\n        return item.toString(ctx, onComment, onChompKeep);\n    if (identity.isAlias(item)) {\n        if (ctx.doc.directives)\n            return item.toString(ctx);\n        if (ctx.resolvedAliases?.has(item)) {\n            throw new TypeError(`Cannot stringify circular structure without alias nodes`);\n        }\n        else {\n            if (ctx.resolvedAliases)\n                ctx.resolvedAliases.add(item);\n            else\n                ctx.resolvedAliases = new Set([item]);\n            item = item.resolve(ctx.doc);\n        }\n    }\n    let tagObj = undefined;\n    const node = identity.isNode(item)\n        ? item\n        : ctx.doc.createNode(item, { onTagObj: o => (tagObj = o) });\n    tagObj ?? (tagObj = getTagObject(ctx.doc.schema.tags, node));\n    const props = stringifyProps(node, tagObj, ctx);\n    if (props.length > 0)\n        ctx.indentAtStart = (ctx.indentAtStart ?? 0) + props.length + 1;\n    const str = typeof tagObj.stringify === 'function'\n        ? tagObj.stringify(node, ctx, onComment, onChompKeep)\n        : identity.isScalar(node)\n            ? stringifyString.stringifyString(node, ctx, onComment, onChompKeep)\n            : node.toString(ctx, onComment, onChompKeep);\n    if (!props)\n        return str;\n    return identity.isScalar(node) || str[0] === '{' || str[0] === '['\n        ? `${props} ${str}`\n        : `${props}\\n${ctx.indent}${str}`;\n}\n\nexports.createStringifyContext = createStringifyContext;\nexports.stringify = stringify;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type {@link TextDocumentPositionParams}\n * the response is of type {@link Definition} or a Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest || (exports.TypeDefinitionRequest = TypeDefinitionRequest = {}));\n","const isWindows = typeof process === 'object' &&\n  process &&\n  process.platform === 'win32'\nmodule.exports = isWindows ? { sep: '\\\\' } : { sep: '/' }\n","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","'use strict';\n\nvar map = require('../common/map.js');\nvar _null = require('../common/null.js');\nvar seq = require('../common/seq.js');\nvar string = require('../common/string.js');\nvar binary = require('./binary.js');\nvar bool = require('./bool.js');\nvar float = require('./float.js');\nvar int = require('./int.js');\nvar merge = require('./merge.js');\nvar omap = require('./omap.js');\nvar pairs = require('./pairs.js');\nvar set = require('./set.js');\nvar timestamp = require('./timestamp.js');\n\nconst schema = [\n    map.map,\n    seq.seq,\n    string.string,\n    _null.nullTag,\n    bool.trueTag,\n    bool.falseTag,\n    int.intBin,\n    int.intOct,\n    int.int,\n    int.intHex,\n    float.floatNaN,\n    float.floatExp,\n    float.float,\n    binary.binary,\n    merge.merge,\n    omap.omap,\n    pairs.pairs,\n    set.set,\n    timestamp.intTime,\n    timestamp.floatTime,\n    timestamp.timestamp\n];\n\nexports.schema = schema;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileSystemWatcherFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass FileSystemWatcherFeature {\n    constructor(client, notifyFileEvent) {\n        this._client = client;\n        this._notifyFileEvent = notifyFileEvent;\n        this._watchers = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._watchers.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeWatchedFiles').relativePatternSupport = true;\n    }\n    initialize(_capabilities, _documentSelector) {\n    }\n    register(data) {\n        if (!Array.isArray(data.registerOptions.watchers)) {\n            return;\n        }\n        const disposables = [];\n        for (const watcher of data.registerOptions.watchers) {\n            const globPattern = this._client.protocol2CodeConverter.asGlobPattern(watcher.globPattern);\n            if (globPattern === undefined) {\n                continue;\n            }\n            let watchCreate = true, watchChange = true, watchDelete = true;\n            if (watcher.kind !== undefined && watcher.kind !== null) {\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) !== 0;\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) !== 0;\n            }\n            const fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(globPattern, !watchCreate, !watchChange, !watchDelete);\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, disposables);\n            disposables.push(fileSystemWatcher);\n        }\n        this._watchers.set(data.id, disposables);\n    }\n    registerRaw(id, fileSystemWatchers) {\n        let disposables = [];\n        for (let fileSystemWatcher of fileSystemWatchers) {\n            this.hookListeners(fileSystemWatcher, true, true, true, disposables);\n        }\n        this._watchers.set(id, disposables);\n    }\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\n        if (watchCreate) {\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\n            }), null, listeners);\n        }\n        if (watchChange) {\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\n            }), null, listeners);\n        }\n        if (watchDelete) {\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\n            }), null, listeners);\n        }\n    }\n    unregister(id) {\n        let disposables = this._watchers.get(id);\n        if (disposables) {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        }\n    }\n    clear() {\n        this._watchers.forEach((disposables) => {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        });\n        this._watchers.clear();\n    }\n}\nexports.FileSystemWatcherFeature = FileSystemWatcherFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeLensFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass CodeLensFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'codeLens').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'codeLens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.CodeLensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeCodeLensEmitter.fire();\n            }\n        });\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeLensProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeCodeLenses: eventEmitter.event,\n            provideCodeLenses: (document, token) => {\n                const client = this._client;\n                const provideCodeLenses = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCodeLenses(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideCodeLenses\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\n                    : provideCodeLenses(document, token);\n            },\n            resolveCodeLens: (options.resolveProvider)\n                ? (codeLens, token) => {\n                    const client = this._client;\n                    const resolveCodeLens = (codeLens, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return codeLens;\n                            }\n                            return client.protocol2CodeConverter.asCodeLens(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, token, error, codeLens);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveCodeLens\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\n                        : resolveCodeLens(codeLens, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), { provider, onDidChangeCodeLensEmitter: eventEmitter }];\n    }\n}\nexports.CodeLensFeature = CodeLensFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat || (exports.TokenFormat = TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest || (exports.SemanticTokensRequest = SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = SemanticTokensRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentOnTypeFormattingFeature = exports.DocumentRangeFormattingFeature = exports.DocumentFormattingFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nvar FileFormattingOptions;\n(function (FileFormattingOptions) {\n    function fromConfiguration(document) {\n        const filesConfig = vscode_1.workspace.getConfiguration('files', document);\n        return {\n            trimTrailingWhitespace: filesConfig.get('trimTrailingWhitespace'),\n            trimFinalNewlines: filesConfig.get('trimFinalNewlines'),\n            insertFinalNewline: filesConfig.get('insertFinalNewline'),\n        };\n    }\n    FileFormattingOptions.fromConfiguration = fromConfiguration;\n})(FileFormattingOptions || (FileFormattingOptions = {}));\nclass DocumentFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'formatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentFormattingEdits: (document, options, token) => {\n                const client = this._client;\n                const provideDocumentFormattingEdits = (document, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentFormattingEdits\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\n                    : provideDocumentFormattingEdits(document, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentFormattingFeature = DocumentFormattingFeature;\nclass DocumentRangeFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'rangeFormatting');\n        capability.dynamicRegistration = true;\n        capability.rangesSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentRangeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\n                const client = this._client;\n                const provideDocumentRangeFormattingEdits = (document, range, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentRangeFormattingEdits\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\n            }\n        };\n        if (options.rangesSupport) {\n            provider.provideDocumentRangesFormattingEdits = (document, ranges, options, token) => {\n                const client = this._client;\n                const provideDocumentRangesFormattingEdits = (document, ranges, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        ranges: client.code2ProtocolConverter.asRanges(ranges),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangesFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangesFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentRangesFormattingEdits\n                    ? middleware.provideDocumentRangesFormattingEdits(document, ranges, options, token, provideDocumentRangesFormattingEdits)\n                    : provideDocumentRangesFormattingEdits(document, ranges, options, token);\n            };\n        }\n        return [vscode_1.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentRangeFormattingFeature = DocumentRangeFormattingFeature;\nclass DocumentOnTypeFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentOnTypeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\n                const client = this._client;\n                const provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        ch: ch,\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideOnTypeFormattingEdits\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\n            }\n        };\n        const moreTriggerCharacter = options.moreTriggerCharacter || [];\n        return [vscode_1.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, options.firstTriggerCharacter, ...moreTriggerCharacter), provider];\n    }\n}\nexports.DocumentOnTypeFormattingFeature = DocumentOnTypeFormattingFeature;\n","'use strict';\n\nvar identity = require('../nodes/identity.js');\nvar stringify = require('./stringify.js');\nvar stringifyComment = require('./stringifyComment.js');\n\nfunction stringifyCollection(collection, ctx, options) {\n    const flow = ctx.inFlow ?? collection.flow;\n    const stringify = flow ? stringifyFlowCollection : stringifyBlockCollection;\n    return stringify(collection, ctx, options);\n}\nfunction stringifyBlockCollection({ comment, items }, ctx, { blockItemPrefix, flowChars, itemIndent, onChompKeep, onComment }) {\n    const { indent, options: { commentString } } = ctx;\n    const itemCtx = Object.assign({}, ctx, { indent: itemIndent, type: null });\n    let chompKeep = false; // flag for the preceding node's status\n    const lines = [];\n    for (let i = 0; i < items.length; ++i) {\n        const item = items[i];\n        let comment = null;\n        if (identity.isNode(item)) {\n            if (!chompKeep && item.spaceBefore)\n                lines.push('');\n            addCommentBefore(ctx, lines, item.commentBefore, chompKeep);\n            if (item.comment)\n                comment = item.comment;\n        }\n        else if (identity.isPair(item)) {\n            const ik = identity.isNode(item.key) ? item.key : null;\n            if (ik) {\n                if (!chompKeep && ik.spaceBefore)\n                    lines.push('');\n                addCommentBefore(ctx, lines, ik.commentBefore, chompKeep);\n            }\n        }\n        chompKeep = false;\n        let str = stringify.stringify(item, itemCtx, () => (comment = null), () => (chompKeep = true));\n        if (comment)\n            str += stringifyComment.lineComment(str, itemIndent, commentString(comment));\n        if (chompKeep && comment)\n            chompKeep = false;\n        lines.push(blockItemPrefix + str);\n    }\n    let str;\n    if (lines.length === 0) {\n        str = flowChars.start + flowChars.end;\n    }\n    else {\n        str = lines[0];\n        for (let i = 1; i < lines.length; ++i) {\n            const line = lines[i];\n            str += line ? `\\n${indent}${line}` : '\\n';\n        }\n    }\n    if (comment) {\n        str += '\\n' + stringifyComment.indentComment(commentString(comment), indent);\n        if (onComment)\n            onComment();\n    }\n    else if (chompKeep && onChompKeep)\n        onChompKeep();\n    return str;\n}\nfunction stringifyFlowCollection({ items }, ctx, { flowChars, itemIndent }) {\n    const { indent, indentStep, flowCollectionPadding: fcPadding, options: { commentString } } = ctx;\n    itemIndent += indentStep;\n    const itemCtx = Object.assign({}, ctx, {\n        indent: itemIndent,\n        inFlow: true,\n        type: null\n    });\n    let reqNewline = false;\n    let linesAtValue = 0;\n    const lines = [];\n    for (let i = 0; i < items.length; ++i) {\n        const item = items[i];\n        let comment = null;\n        if (identity.isNode(item)) {\n            if (item.spaceBefore)\n                lines.push('');\n            addCommentBefore(ctx, lines, item.commentBefore, false);\n            if (item.comment)\n                comment = item.comment;\n        }\n        else if (identity.isPair(item)) {\n            const ik = identity.isNode(item.key) ? item.key : null;\n            if (ik) {\n                if (ik.spaceBefore)\n                    lines.push('');\n                addCommentBefore(ctx, lines, ik.commentBefore, false);\n                if (ik.comment)\n                    reqNewline = true;\n            }\n            const iv = identity.isNode(item.value) ? item.value : null;\n            if (iv) {\n                if (iv.comment)\n                    comment = iv.comment;\n                if (iv.commentBefore)\n                    reqNewline = true;\n            }\n            else if (item.value == null && ik?.comment) {\n                comment = ik.comment;\n            }\n        }\n        if (comment)\n            reqNewline = true;\n        let str = stringify.stringify(item, itemCtx, () => (comment = null));\n        if (i < items.length - 1)\n            str += ',';\n        if (comment)\n            str += stringifyComment.lineComment(str, itemIndent, commentString(comment));\n        if (!reqNewline && (lines.length > linesAtValue || str.includes('\\n')))\n            reqNewline = true;\n        lines.push(str);\n        linesAtValue = lines.length;\n    }\n    const { start, end } = flowChars;\n    if (lines.length === 0) {\n        return start + end;\n    }\n    else {\n        if (!reqNewline) {\n            const len = lines.reduce((sum, line) => sum + line.length + 2, 2);\n            reqNewline = ctx.options.lineWidth > 0 && len > ctx.options.lineWidth;\n        }\n        if (reqNewline) {\n            let str = start;\n            for (const line of lines)\n                str += line ? `\\n${indentStep}${indent}${line}` : '\\n';\n            return `${str}\\n${indent}${end}`;\n        }\n        else {\n            return `${start}${fcPadding}${lines.join(' ')}${fcPadding}${end}`;\n        }\n    }\n}\nfunction addCommentBefore({ indent, options: { commentString } }, lines, comment, chompKeep) {\n    if (comment && chompKeep)\n        comment = comment.replace(/^\\n+/, '');\n    if (comment) {\n        const ic = stringifyComment.indentComment(commentString(comment), indent);\n        lines.push(ic.trimStart()); // Avoid double indent on first line\n    }\n}\n\nexports.stringifyCollection = stringifyCollection;\n","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRefreshRequest = exports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type {@link FoldingRangeParams}, the\n * response is of type {@link FoldingRangeList} or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest || (exports.FoldingRangeRequest = FoldingRangeRequest = {}));\n/**\n * @since 3.18.0\n * @proposed\n */\nvar FoldingRangeRefreshRequest;\n(function (FoldingRangeRefreshRequest) {\n    FoldingRangeRefreshRequest.method = `workspace/foldingRange/refresh`;\n    FoldingRangeRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    FoldingRangeRefreshRequest.type = new messages_1.ProtocolRequestType0(FoldingRangeRefreshRequest.method);\n})(FoldingRangeRefreshRequest || (exports.FoldingRangeRefreshRequest = FoldingRangeRefreshRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SyncConfigurationFeature = exports.toJSONObject = exports.ConfigurationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\n/**\n * Configuration pull model. From server to client.\n */\nclass ConfigurationFeature {\n    constructor(client) {\n        this._client = client;\n    }\n    getState() {\n        return { kind: 'static' };\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.configuration = true;\n    }\n    initialize() {\n        let client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\n            let configuration = (params) => {\n                let result = [];\n                for (let item of params.items) {\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\n                }\n                return result;\n            };\n            let middleware = client.middleware.workspace;\n            return middleware && middleware.configuration\n                ? middleware.configuration(params, token, configuration)\n                : configuration(params, token);\n        });\n    }\n    getConfiguration(resource, section) {\n        let result = null;\n        if (section) {\n            let index = section.lastIndexOf('.');\n            if (index === -1) {\n                result = toJSONObject(vscode_1.workspace.getConfiguration(undefined, resource).get(section));\n            }\n            else {\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index), resource);\n                if (config) {\n                    result = toJSONObject(config.get(section.substr(index + 1)));\n                }\n            }\n        }\n        else {\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\n            result = {};\n            for (let key of Object.keys(config)) {\n                if (config.has(key)) {\n                    result[key] = toJSONObject(config.get(key));\n                }\n            }\n        }\n        if (result === undefined) {\n            result = null;\n        }\n        return result;\n    }\n    clear() {\n    }\n}\nexports.ConfigurationFeature = ConfigurationFeature;\nfunction toJSONObject(obj) {\n    if (obj) {\n        if (Array.isArray(obj)) {\n            return obj.map(toJSONObject);\n        }\n        else if (typeof obj === 'object') {\n            const res = Object.create(null);\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    res[key] = toJSONObject(obj[key]);\n                }\n            }\n            return res;\n        }\n    }\n    return obj;\n}\nexports.toJSONObject = toJSONObject;\nclass SyncConfigurationFeature {\n    constructor(_client) {\n        this._client = _client;\n        this.isCleared = false;\n        this._listeners = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._listeners.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\n    }\n    initialize() {\n        this.isCleared = false;\n        let section = this._client.clientOptions.synchronize?.configurationSection;\n        if (section !== undefined) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: {\n                    section: section\n                }\n            });\n        }\n    }\n    register(data) {\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\n        });\n        this._listeners.set(data.id, disposable);\n        if (data.registerOptions.section !== undefined) {\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\n        }\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable) {\n            this._listeners.delete(id);\n            disposable.dispose();\n        }\n    }\n    clear() {\n        for (const disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n        this.isCleared = true;\n    }\n    onDidChangeConfiguration(configurationSection, event) {\n        if (this.isCleared) {\n            return;\n        }\n        let sections;\n        if (Is.string(configurationSection)) {\n            sections = [configurationSection];\n        }\n        else {\n            sections = configurationSection;\n        }\n        if (sections !== undefined && event !== undefined) {\n            let affected = sections.some((section) => event.affectsConfiguration(section));\n            if (!affected) {\n                return;\n            }\n        }\n        const didChangeConfiguration = async (sections) => {\n            if (sections === undefined) {\n                return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\n            }\n            else {\n                return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\n            }\n        };\n        let middleware = this._client.middleware.workspace?.didChangeConfiguration;\n        (middleware ? middleware(sections, didChangeConfiguration) : didChangeConfiguration(sections)).catch((error) => {\n            this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type.method} failed`, error);\n        });\n    }\n    extractSettingsInformation(keys) {\n        function ensurePath(config, path) {\n            let current = config;\n            for (let i = 0; i < path.length - 1; i++) {\n                let obj = current[path[i]];\n                if (!obj) {\n                    obj = Object.create(null);\n                    current[path[i]] = obj;\n                }\n                current = obj;\n            }\n            return current;\n        }\n        let resource = this._client.clientOptions.workspaceFolder\n            ? this._client.clientOptions.workspaceFolder.uri\n            : undefined;\n        let result = Object.create(null);\n        for (let i = 0; i < keys.length; i++) {\n            let key = keys[i];\n            let index = key.indexOf('.');\n            let config = null;\n            if (index >= 0) {\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\n            }\n            else {\n                config = vscode_1.workspace.getConfiguration(undefined, resource).get(key);\n            }\n            if (config) {\n                let path = keys[i].split('.');\n                ensurePath(result, path)[path[path.length - 1]] = toJSONObject(config);\n            }\n        }\n        return result;\n    }\n}\nexports.SyncConfigurationFeature = SyncConfigurationFeature;\n","'use strict';\n\nvar identity = require('./nodes/identity.js');\n\nconst BREAK = Symbol('break visit');\nconst SKIP = Symbol('skip children');\nconst REMOVE = Symbol('remove node');\n/**\n * Apply a visitor to an AST node or document.\n *\n * Walks through the tree (depth-first) starting from `node`, calling a\n * `visitor` function with three arguments:\n *   - `key`: For sequence values and map `Pair`, the node's index in the\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\n *     `null` for the root node.\n *   - `node`: The current node.\n *   - `path`: The ancestry of the current node.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\n *     sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\n *   - `Node`: Replace the current node, then continue by visiting it\n *   - `number`: While iterating the items of a sequence or map, set the index\n *     of the next step. This is useful especially if the index of the current\n *     node has changed.\n *\n * If `visitor` is a single function, it will be called with all values\n * encountered in the tree, including e.g. `null` values. Alternatively,\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\n * `Alias` and `Scalar` node. To define the same visitor function for more than\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\n * specific defined one will be used for each node.\n */\nfunction visit(node, visitor) {\n    const visitor_ = initVisitor(visitor);\n    if (identity.isDocument(node)) {\n        const cd = visit_(null, node.contents, visitor_, Object.freeze([node]));\n        if (cd === REMOVE)\n            node.contents = null;\n    }\n    else\n        visit_(null, node, visitor_, Object.freeze([]));\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisit.BREAK = BREAK;\n/** Do not visit the children of the current node */\nvisit.SKIP = SKIP;\n/** Remove the current node */\nvisit.REMOVE = REMOVE;\nfunction visit_(key, node, visitor, path) {\n    const ctrl = callVisitor(key, node, visitor, path);\n    if (identity.isNode(ctrl) || identity.isPair(ctrl)) {\n        replaceNode(key, path, ctrl);\n        return visit_(key, ctrl, visitor, path);\n    }\n    if (typeof ctrl !== 'symbol') {\n        if (identity.isCollection(node)) {\n            path = Object.freeze(path.concat(node));\n            for (let i = 0; i < node.items.length; ++i) {\n                const ci = visit_(i, node.items[i], visitor, path);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    node.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        else if (identity.isPair(node)) {\n            path = Object.freeze(path.concat(node));\n            const ck = visit_('key', node.key, visitor, path);\n            if (ck === BREAK)\n                return BREAK;\n            else if (ck === REMOVE)\n                node.key = null;\n            const cv = visit_('value', node.value, visitor, path);\n            if (cv === BREAK)\n                return BREAK;\n            else if (cv === REMOVE)\n                node.value = null;\n        }\n    }\n    return ctrl;\n}\n/**\n * Apply an async visitor to an AST node or document.\n *\n * Walks through the tree (depth-first) starting from `node`, calling a\n * `visitor` function with three arguments:\n *   - `key`: For sequence values and map `Pair`, the node's index in the\n *     collection. Within a `Pair`, `'key'` or `'value'`, correspondingly.\n *     `null` for the root node.\n *   - `node`: The current node.\n *   - `path`: The ancestry of the current node.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `Promise`: Must resolve to one of the following values\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this node, continue with next\n *     sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current node, then continue with the next one\n *   - `Node`: Replace the current node, then continue by visiting it\n *   - `number`: While iterating the items of a sequence or map, set the index\n *     of the next step. This is useful especially if the index of the current\n *     node has changed.\n *\n * If `visitor` is a single function, it will be called with all values\n * encountered in the tree, including e.g. `null` values. Alternatively,\n * separate visitor functions may be defined for each `Map`, `Pair`, `Seq`,\n * `Alias` and `Scalar` node. To define the same visitor function for more than\n * one node type, use the `Collection` (map and seq), `Value` (map, seq & scalar)\n * and `Node` (alias, map, seq & scalar) targets. Of all these, only the most\n * specific defined one will be used for each node.\n */\nasync function visitAsync(node, visitor) {\n    const visitor_ = initVisitor(visitor);\n    if (identity.isDocument(node)) {\n        const cd = await visitAsync_(null, node.contents, visitor_, Object.freeze([node]));\n        if (cd === REMOVE)\n            node.contents = null;\n    }\n    else\n        await visitAsync_(null, node, visitor_, Object.freeze([]));\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisitAsync.BREAK = BREAK;\n/** Do not visit the children of the current node */\nvisitAsync.SKIP = SKIP;\n/** Remove the current node */\nvisitAsync.REMOVE = REMOVE;\nasync function visitAsync_(key, node, visitor, path) {\n    const ctrl = await callVisitor(key, node, visitor, path);\n    if (identity.isNode(ctrl) || identity.isPair(ctrl)) {\n        replaceNode(key, path, ctrl);\n        return visitAsync_(key, ctrl, visitor, path);\n    }\n    if (typeof ctrl !== 'symbol') {\n        if (identity.isCollection(node)) {\n            path = Object.freeze(path.concat(node));\n            for (let i = 0; i < node.items.length; ++i) {\n                const ci = await visitAsync_(i, node.items[i], visitor, path);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    node.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n        }\n        else if (identity.isPair(node)) {\n            path = Object.freeze(path.concat(node));\n            const ck = await visitAsync_('key', node.key, visitor, path);\n            if (ck === BREAK)\n                return BREAK;\n            else if (ck === REMOVE)\n                node.key = null;\n            const cv = await visitAsync_('value', node.value, visitor, path);\n            if (cv === BREAK)\n                return BREAK;\n            else if (cv === REMOVE)\n                node.value = null;\n        }\n    }\n    return ctrl;\n}\nfunction initVisitor(visitor) {\n    if (typeof visitor === 'object' &&\n        (visitor.Collection || visitor.Node || visitor.Value)) {\n        return Object.assign({\n            Alias: visitor.Node,\n            Map: visitor.Node,\n            Scalar: visitor.Node,\n            Seq: visitor.Node\n        }, visitor.Value && {\n            Map: visitor.Value,\n            Scalar: visitor.Value,\n            Seq: visitor.Value\n        }, visitor.Collection && {\n            Map: visitor.Collection,\n            Seq: visitor.Collection\n        }, visitor);\n    }\n    return visitor;\n}\nfunction callVisitor(key, node, visitor, path) {\n    if (typeof visitor === 'function')\n        return visitor(key, node, path);\n    if (identity.isMap(node))\n        return visitor.Map?.(key, node, path);\n    if (identity.isSeq(node))\n        return visitor.Seq?.(key, node, path);\n    if (identity.isPair(node))\n        return visitor.Pair?.(key, node, path);\n    if (identity.isScalar(node))\n        return visitor.Scalar?.(key, node, path);\n    if (identity.isAlias(node))\n        return visitor.Alias?.(key, node, path);\n    return undefined;\n}\nfunction replaceNode(key, path, node) {\n    const parent = path[path.length - 1];\n    if (identity.isCollection(parent)) {\n        parent.items[key] = node;\n    }\n    else if (identity.isPair(parent)) {\n        if (key === 'key')\n            parent.key = node;\n        else\n            parent.value = node;\n    }\n    else if (identity.isDocument(parent)) {\n        parent.contents = node;\n    }\n    else {\n        const pt = identity.isAlias(parent) ? 'alias' : 'scalar';\n        throw new Error(`Cannot replace node with ${pt} parent`);\n    }\n}\n\nexports.visit = visit;\nexports.visitAsync = visitAsync;\n","'use strict';\n\nvar identity = require('../nodes/identity.js');\nvar map = require('./common/map.js');\nvar seq = require('./common/seq.js');\nvar string = require('./common/string.js');\nvar tags = require('./tags.js');\n\nconst sortMapEntriesByKey = (a, b) => a.key < b.key ? -1 : a.key > b.key ? 1 : 0;\nclass Schema {\n    constructor({ compat, customTags, merge, resolveKnownTags, schema, sortMapEntries, toStringDefaults }) {\n        this.compat = Array.isArray(compat)\n            ? tags.getTags(compat, 'compat')\n            : compat\n                ? tags.getTags(null, compat)\n                : null;\n        this.name = (typeof schema === 'string' && schema) || 'core';\n        this.knownTags = resolveKnownTags ? tags.coreKnownTags : {};\n        this.tags = tags.getTags(customTags, this.name, merge);\n        this.toStringOptions = toStringDefaults ?? null;\n        Object.defineProperty(this, identity.MAP, { value: map.map });\n        Object.defineProperty(this, identity.SCALAR, { value: string.string });\n        Object.defineProperty(this, identity.SEQ, { value: seq.seq });\n        // Used by createMap()\n        this.sortMapEntries =\n            typeof sortMapEntries === 'function'\n                ? sortMapEntries\n                : sortMapEntries === true\n                    ? sortMapEntriesByKey\n                    : null;\n    }\n    clone() {\n        const copy = Object.create(Schema.prototype, Object.getOwnPropertyDescriptors(this));\n        copy.tags = this.tags.slice();\n        return copy;\n    }\n}\n\nexports.Schema = Schema;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExecutionGraphBuilder = void 0;\n/**\n * Builds execution graph from workflow specification\n * Analyzes dependencies and provides execution order\n */\nclass ExecutionGraphBuilder {\n    /**\n     * Build execution graph from workflow specification\n     * @param spec Workflow specification\n     * @returns ExecutionGraph with nodes, edges, and execution order\n     */\n    build(spec) {\n        const nodes = [];\n        const edges = [];\n        const taskMap = new Map();\n        // Build task map and edges\n        for (const task of spec.tasks) {\n            taskMap.set(task.id, task);\n            if (task.dependsOn) {\n                for (const depId of task.dependsOn) {\n                    edges.push({ from: depId, to: task.id });\n                }\n            }\n        }\n        // Detect cycles\n        const { hasCycles, cycles, executionOrder } = this.analyzeGraph(spec.tasks);\n        // Calculate topological levels for visualization\n        const levels = this.calculateLevels(spec.tasks, executionOrder);\n        // Create graph nodes\n        for (const task of spec.tasks) {\n            nodes.push({\n                id: task.id,\n                taskRef: task.taskRef,\n                dependencies: task.dependsOn || [],\n                level: levels.get(task.id) || 0\n            });\n        }\n        return {\n            nodes,\n            edges,\n            executionOrder,\n            hasCycles,\n            cycles: hasCycles ? cycles : undefined\n        };\n    }\n    /**\n     * Analyze graph for cycles and execution order using DFS\n     */\n    analyzeGraph(tasks) {\n        const visited = new Set();\n        const recStack = new Set();\n        const cycles = [];\n        const executionOrder = [];\n        const dfs = (taskId, path) => {\n            visited.add(taskId);\n            recStack.add(taskId);\n            path.push(taskId);\n            const task = tasks.find(t => t.id === taskId);\n            if (task && task.dependsOn) {\n                for (const depId of task.dependsOn) {\n                    if (!visited.has(depId)) {\n                        if (dfs(depId, [...path])) {\n                            return true;\n                        }\n                    }\n                    else if (recStack.has(depId)) {\n                        // Cycle detected\n                        const cycleStart = path.indexOf(depId);\n                        cycles.push(path.slice(cycleStart));\n                        return true;\n                    }\n                }\n            }\n            recStack.delete(taskId);\n            executionOrder.unshift(taskId);\n            return false;\n        };\n        for (const task of tasks) {\n            if (!visited.has(task.id)) {\n                dfs(task.id, []);\n            }\n        }\n        return {\n            hasCycles: cycles.length > 0,\n            cycles,\n            executionOrder\n        };\n    }\n    /**\n     * Calculate topological levels for each task (for visualization)\n     */\n    calculateLevels(tasks, executionOrder) {\n        const levels = new Map();\n        const taskMap = new Map(tasks.map(t => [t.id, t]));\n        for (const taskId of executionOrder) {\n            const task = taskMap.get(taskId);\n            if (!task)\n                continue;\n            if (!task.dependsOn || task.dependsOn.length === 0) {\n                levels.set(taskId, 0);\n            }\n            else {\n                const maxDepLevel = Math.max(...task.dependsOn.map(depId => levels.get(depId) || 0));\n                levels.set(taskId, maxDepLevel + 1);\n            }\n        }\n        return levels;\n    }\n}\nexports.ExecutionGraphBuilder = ExecutionGraphBuilder;\n//# sourceMappingURL=executionGraphBuilder.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineCompletionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline completions in a document. The request's parameter is of\n * type {@link InlineCompletionParams}, the response is of type\n * {@link InlineCompletion InlineCompletion[]} or a Thenable that resolves to such.\n *\n * @since 3.18.0\n * @proposed\n */\nvar InlineCompletionRequest;\n(function (InlineCompletionRequest) {\n    InlineCompletionRequest.method = 'textDocument/inlineCompletion';\n    InlineCompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineCompletionRequest.type = new messages_1.ProtocolRequestType(InlineCompletionRequest.method);\n})(InlineCompletionRequest || (exports.InlineCompletionRequest = InlineCompletionRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel || (exports.UniquenessLevel = UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind || (exports.MonikerKind = MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type {@link TextDocumentPositionParams}.\n * The response is of type {@link Moniker Moniker[]} or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest || (exports.MonikerRequest = MonikerRequest = {}));\n","'use strict';\n\nvar Pair = require('../nodes/Pair.js');\nvar YAMLMap = require('../nodes/YAMLMap.js');\nvar resolveProps = require('./resolve-props.js');\nvar utilContainsNewline = require('./util-contains-newline.js');\nvar utilFlowIndentCheck = require('./util-flow-indent-check.js');\nvar utilMapIncludes = require('./util-map-includes.js');\n\nconst startColMsg = 'All mapping items must start at the same column';\nfunction resolveBlockMap({ composeNode, composeEmptyNode }, ctx, bm, onError, tag) {\n    const NodeClass = tag?.nodeClass ?? YAMLMap.YAMLMap;\n    const map = new NodeClass(ctx.schema);\n    if (ctx.atRoot)\n        ctx.atRoot = false;\n    let offset = bm.offset;\n    let commentEnd = null;\n    for (const collItem of bm.items) {\n        const { start, key, sep, value } = collItem;\n        // key properties\n        const keyProps = resolveProps.resolveProps(start, {\n            indicator: 'explicit-key-ind',\n            next: key ?? sep?.[0],\n            offset,\n            onError,\n            parentIndent: bm.indent,\n            startOnNewline: true\n        });\n        const implicitKey = !keyProps.found;\n        if (implicitKey) {\n            if (key) {\n                if (key.type === 'block-seq')\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'A block sequence may not be used as an implicit map key');\n                else if ('indent' in key && key.indent !== bm.indent)\n                    onError(offset, 'BAD_INDENT', startColMsg);\n            }\n            if (!keyProps.anchor && !keyProps.tag && !sep) {\n                commentEnd = keyProps.end;\n                if (keyProps.comment) {\n                    if (map.comment)\n                        map.comment += '\\n' + keyProps.comment;\n                    else\n                        map.comment = keyProps.comment;\n                }\n                continue;\n            }\n            if (keyProps.newlineAfterProp || utilContainsNewline.containsNewline(key)) {\n                onError(key ?? start[start.length - 1], 'MULTILINE_IMPLICIT_KEY', 'Implicit keys need to be on a single line');\n            }\n        }\n        else if (keyProps.found?.indent !== bm.indent) {\n            onError(offset, 'BAD_INDENT', startColMsg);\n        }\n        // key value\n        ctx.atKey = true;\n        const keyStart = keyProps.end;\n        const keyNode = key\n            ? composeNode(ctx, key, keyProps, onError)\n            : composeEmptyNode(ctx, keyStart, start, null, keyProps, onError);\n        if (ctx.schema.compat)\n            utilFlowIndentCheck.flowIndentCheck(bm.indent, key, onError);\n        ctx.atKey = false;\n        if (utilMapIncludes.mapIncludes(ctx, map.items, keyNode))\n            onError(keyStart, 'DUPLICATE_KEY', 'Map keys must be unique');\n        // value properties\n        const valueProps = resolveProps.resolveProps(sep ?? [], {\n            indicator: 'map-value-ind',\n            next: value,\n            offset: keyNode.range[2],\n            onError,\n            parentIndent: bm.indent,\n            startOnNewline: !key || key.type === 'block-scalar'\n        });\n        offset = valueProps.end;\n        if (valueProps.found) {\n            if (implicitKey) {\n                if (value?.type === 'block-map' && !valueProps.hasNewline)\n                    onError(offset, 'BLOCK_AS_IMPLICIT_KEY', 'Nested mappings are not allowed in compact mappings');\n                if (ctx.options.strict &&\n                    keyProps.start < valueProps.found.offset - 1024)\n                    onError(keyNode.range, 'KEY_OVER_1024_CHARS', 'The : indicator must be at most 1024 chars after the start of an implicit block mapping key');\n            }\n            // value value\n            const valueNode = value\n                ? composeNode(ctx, value, valueProps, onError)\n                : composeEmptyNode(ctx, offset, sep, null, valueProps, onError);\n            if (ctx.schema.compat)\n                utilFlowIndentCheck.flowIndentCheck(bm.indent, value, onError);\n            offset = valueNode.range[2];\n            const pair = new Pair.Pair(keyNode, valueNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            map.items.push(pair);\n        }\n        else {\n            // key with no value\n            if (implicitKey)\n                onError(keyNode.range, 'MISSING_CHAR', 'Implicit map keys need to be followed by map values');\n            if (valueProps.comment) {\n                if (keyNode.comment)\n                    keyNode.comment += '\\n' + valueProps.comment;\n                else\n                    keyNode.comment = valueProps.comment;\n            }\n            const pair = new Pair.Pair(keyNode);\n            if (ctx.options.keepSourceTokens)\n                pair.srcToken = collItem;\n            map.items.push(pair);\n        }\n    }\n    if (commentEnd && commentEnd < offset)\n        onError(commentEnd, 'IMPOSSIBLE', 'Map comment with trailing content');\n    map.range = [bm.offset, offset, commentEnd ?? offset];\n    return map;\n}\n\nexports.resolveBlockMap = resolveBlockMap;\n","'use strict';\n\nvar stringifyCollection = require('../stringify/stringifyCollection.js');\nvar addPairToJSMap = require('./addPairToJSMap.js');\nvar Collection = require('./Collection.js');\nvar identity = require('./identity.js');\nvar Pair = require('./Pair.js');\nvar Scalar = require('./Scalar.js');\n\nfunction findPair(items, key) {\n    const k = identity.isScalar(key) ? key.value : key;\n    for (const it of items) {\n        if (identity.isPair(it)) {\n            if (it.key === key || it.key === k)\n                return it;\n            if (identity.isScalar(it.key) && it.key.value === k)\n                return it;\n        }\n    }\n    return undefined;\n}\nclass YAMLMap extends Collection.Collection {\n    static get tagName() {\n        return 'tag:yaml.org,2002:map';\n    }\n    constructor(schema) {\n        super(identity.MAP, schema);\n        this.items = [];\n    }\n    /**\n     * A generic collection parsing method that can be extended\n     * to other node classes that inherit from YAMLMap\n     */\n    static from(schema, obj, ctx) {\n        const { keepUndefined, replacer } = ctx;\n        const map = new this(schema);\n        const add = (key, value) => {\n            if (typeof replacer === 'function')\n                value = replacer.call(obj, key, value);\n            else if (Array.isArray(replacer) && !replacer.includes(key))\n                return;\n            if (value !== undefined || keepUndefined)\n                map.items.push(Pair.createPair(key, value, ctx));\n        };\n        if (obj instanceof Map) {\n            for (const [key, value] of obj)\n                add(key, value);\n        }\n        else if (obj && typeof obj === 'object') {\n            for (const key of Object.keys(obj))\n                add(key, obj[key]);\n        }\n        if (typeof schema.sortMapEntries === 'function') {\n            map.items.sort(schema.sortMapEntries);\n        }\n        return map;\n    }\n    /**\n     * Adds a value to the collection.\n     *\n     * @param overwrite - If not set `true`, using a key that is already in the\n     *   collection will throw. Otherwise, overwrites the previous value.\n     */\n    add(pair, overwrite) {\n        let _pair;\n        if (identity.isPair(pair))\n            _pair = pair;\n        else if (!pair || typeof pair !== 'object' || !('key' in pair)) {\n            // In TypeScript, this never happens.\n            _pair = new Pair.Pair(pair, pair?.value);\n        }\n        else\n            _pair = new Pair.Pair(pair.key, pair.value);\n        const prev = findPair(this.items, _pair.key);\n        const sortEntries = this.schema?.sortMapEntries;\n        if (prev) {\n            if (!overwrite)\n                throw new Error(`Key ${_pair.key} already set`);\n            // For scalars, keep the old node & its comments and anchors\n            if (identity.isScalar(prev.value) && Scalar.isScalarValue(_pair.value))\n                prev.value.value = _pair.value;\n            else\n                prev.value = _pair.value;\n        }\n        else if (sortEntries) {\n            const i = this.items.findIndex(item => sortEntries(_pair, item) < 0);\n            if (i === -1)\n                this.items.push(_pair);\n            else\n                this.items.splice(i, 0, _pair);\n        }\n        else {\n            this.items.push(_pair);\n        }\n    }\n    delete(key) {\n        const it = findPair(this.items, key);\n        if (!it)\n            return false;\n        const del = this.items.splice(this.items.indexOf(it), 1);\n        return del.length > 0;\n    }\n    get(key, keepScalar) {\n        const it = findPair(this.items, key);\n        const node = it?.value;\n        return (!keepScalar && identity.isScalar(node) ? node.value : node) ?? undefined;\n    }\n    has(key) {\n        return !!findPair(this.items, key);\n    }\n    set(key, value) {\n        this.add(new Pair.Pair(key, value), true);\n    }\n    /**\n     * @param ctx - Conversion context, originally set in Document#toJS()\n     * @param {Class} Type - If set, forces the returned collection type\n     * @returns Instance of Type, Map, or Object\n     */\n    toJSON(_, ctx, Type) {\n        const map = Type ? new Type() : ctx?.mapAsMap ? new Map() : {};\n        if (ctx?.onCreate)\n            ctx.onCreate(map);\n        for (const item of this.items)\n            addPairToJSMap.addPairToJSMap(ctx, map, item);\n        return map;\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        for (const item of this.items) {\n            if (!identity.isPair(item))\n                throw new Error(`Map items must all be pairs; found ${JSON.stringify(item)} instead`);\n        }\n        if (!ctx.allNullValues && this.hasAllNullValues(false))\n            ctx = Object.assign({}, ctx, { allNullValues: true });\n        return stringifyCollection.stringifyCollection(this, ctx, {\n            blockItemPrefix: '',\n            flowChars: { start: '{', end: '}' },\n            itemIndent: ctx.indent || '',\n            onChompKeep,\n            onComment\n        });\n    }\n}\n\nexports.YAMLMap = YAMLMap;\nexports.findPair = findPair;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentHighlightFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DocumentHighlightFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentHighlightProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentHighlights: (document, position, token) => {\n                const client = this._client;\n                const _provideDocumentHighlights = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDocumentHighlights(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentHighlights\n                    ? middleware.provideDocumentHighlights(document, position, token, _provideDocumentHighlights)\n                    : _provideDocumentHighlights(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentHighlightFeature = DocumentHighlightFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass FoldingRangeFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'foldingRange');\n        capability.dynamicRegistration = true;\n        capability.rangeLimit = 5000;\n        capability.lineFoldingOnly = true;\n        capability.foldingRangeKind = { valueSet: [vscode_languageserver_protocol_1.FoldingRangeKind.Comment, vscode_languageserver_protocol_1.FoldingRangeKind.Imports, vscode_languageserver_protocol_1.FoldingRangeKind.Region] };\n        capability.foldingRange = { collapsedText: false };\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'foldingRange').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.FoldingRangeRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeFoldingRange.fire();\n            }\n        });\n        let [id, options] = this.getRegistration(documentSelector, capabilities.foldingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeFoldingRanges: eventEmitter.event,\n            provideFoldingRanges: (document, context, token) => {\n                const client = this._client;\n                const provideFoldingRanges = (document, _, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asFoldingRanges(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideFoldingRanges\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\n                    : provideFoldingRanges(document, context, token);\n            }\n        };\n        return [vscode_1.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), { provider: provider, onDidChangeFoldingRange: eventEmitter }];\n    }\n}\nexports.FoldingRangeFeature = FoldingRangeFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes || (exports.ErrorCodes = ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message || (exports.Message = Message = {}));\n","'use strict'\n\nconst compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","'use strict'\n\nconst SPACE_CHARACTERS = /\\s+/g\n\n// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.formatted = undefined\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First reduce all whitespace as much as possible so we do not have to rely\n    // on potentially slow regexes like \\s*. This is then stored and used for\n    // future error messages as well.\n    this.raw = range.trim().replace(SPACE_CHARACTERS, ' ')\n\n    // First, split on ||\n    this.set = this.raw\n      .split('||')\n      // map the range to a 2d array of comparators\n      .map(r => this.parseRange(r.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${this.raw}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0) {\n        this.set = [first]\n      } else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.formatted = undefined\n  }\n\n  get range () {\n    if (this.formatted === undefined) {\n      this.formatted = ''\n      for (let i = 0; i < this.set.length; i++) {\n        if (i > 0) {\n          this.formatted += '||'\n        }\n        const comps = this.set[i]\n        for (let k = 0; k < comps.length; k++) {\n          if (k > 0) {\n            this.formatted += ' '\n          }\n          this.formatted += comps[k].toString().trim()\n        }\n      }\n    }\n    return this.formatted\n  }\n\n  format () {\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts =\n      (this.options.includePrerelease && FLAG_INCLUDE_PRERELEASE) |\n      (this.options.loose && FLAG_LOOSE)\n    const memoKey = memoOpts + ':' + range\n    const cached = cache.get(memoKey)\n    if (cached) {\n      return cached\n    }\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range)\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n    debug('tilde trim', range)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n    debug('caret trim', range)\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    let rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n\n    if (loose) {\n      // in loose mode, throw out any that are not valid comparators\n      rangeList = rangeList.filter(comp => {\n        debug('loose invalid filter', comp, this.options)\n        return !!comp.match(re[t.COMPARATORLOOSE])\n      })\n    }\n    debug('range list', rangeList)\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const rangeMap = new Map()\n    const comparators = rangeList.map(comp => new Comparator(comp, this.options))\n    for (const comp of comparators) {\n      if (isNullSet(comp)) {\n        return [comp]\n      }\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has('')) {\n      rangeMap.delete('')\n    }\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\n\nmodule.exports = Range\n\nconst LRU = require('../internal/lrucache')\nconst cache = new LRU()\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  safeRe: re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace,\n} = require('../internal/re')\nconst { FLAG_INCLUDE_PRERELEASE, FLAG_LOOSE } = require('../internal/constants')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  comp = comp.replace(re[t.BUILD], '')\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\n// ~0.0.1 --> >=0.0.1 <0.1.0-0\nconst replaceTildes = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceTilde(c, options))\n    .join(' ')\n}\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\n// ^0.0.1 --> >=0.0.1 <0.0.2-0\n// ^0.1.0 --> >=0.1.0 <0.2.0-0\nconst replaceCarets = (comp, options) => {\n  return comp\n    .trim()\n    .split(/\\s+/)\n    .map((c) => replaceCaret(c, options))\n    .join(' ')\n}\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp\n    .split(/\\s+/)\n    .map((c) => replaceXRange(c, options))\n    .join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<') {\n        pr = '-0'\n      }\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp\n    .trim()\n    .replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp\n    .trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\n// TODO build?\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return `${from} ${to}`.trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesFeature = exports.WillRenameFilesFeature = exports.WillCreateFilesFeature = exports.DidDeleteFilesFeature = exports.DidRenameFilesFeature = exports.DidCreateFilesFeature = void 0;\nconst code = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nfunction access(target, key) {\n    return target[key];\n}\nfunction assign(target, key, value) {\n    target[key] = value;\n}\nclass FileOperationFeature {\n    constructor(client, event, registrationType, clientCapability, serverCapability) {\n        this._client = client;\n        this._event = event;\n        this._registrationType = registrationType;\n        this._clientCapability = clientCapability;\n        this._serverCapability = serverCapability;\n        this._filters = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this._registrationType.method, registrations: this._filters.size > 0 };\n    }\n    filterSize() {\n        return this._filters.size;\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    fillClientCapabilities(capabilities) {\n        const value = ensure(ensure(capabilities, 'workspace'), 'fileOperations');\n        // this happens n times but it is the same value so we tolerate this.\n        assign(value, 'dynamicRegistration', true);\n        assign(value, this._clientCapability, true);\n    }\n    initialize(capabilities) {\n        const options = capabilities.workspace?.fileOperations;\n        const capability = options !== undefined ? access(options, this._serverCapability) : undefined;\n        if (capability?.filters !== undefined) {\n            try {\n                this.register({\n                    id: UUID.generateUuid(),\n                    registerOptions: { filters: capability.filters }\n                });\n            }\n            catch (e) {\n                this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`);\n            }\n        }\n    }\n    register(data) {\n        if (!this._listener) {\n            this._listener = this._event(this.send, this);\n        }\n        const minimatchFilter = data.registerOptions.filters.map((filter) => {\n            const matcher = new minimatch.Minimatch(filter.pattern.glob, FileOperationFeature.asMinimatchOptions(filter.pattern.options));\n            if (!matcher.makeRe()) {\n                throw new Error(`Invalid pattern ${filter.pattern.glob}!`);\n            }\n            return { scheme: filter.scheme, matcher, kind: filter.pattern.matches };\n        });\n        this._filters.set(data.id, minimatchFilter);\n    }\n    unregister(id) {\n        this._filters.delete(id);\n        if (this._filters.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    clear() {\n        this._filters.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getFileType(uri) {\n        return FileOperationFeature.getFileType(uri);\n    }\n    async filter(event, prop) {\n        // (Asynchronously) map each file onto a boolean of whether it matches\n        // any of the globs.\n        const fileMatches = await Promise.all(event.files.map(async (item) => {\n            const uri = prop(item);\n            // Use fsPath to make this consistent with file system watchers but help\n            // minimatch to use '/' instead of `\\\\` if present.\n            const path = uri.fsPath.replace(/\\\\/g, '/');\n            for (const filters of this._filters.values()) {\n                for (const filter of filters) {\n                    if (filter.scheme !== undefined && filter.scheme !== uri.scheme) {\n                        continue;\n                    }\n                    if (filter.matcher.match(path)) {\n                        // The pattern matches. If kind is undefined then everything is ok\n                        if (filter.kind === undefined) {\n                            return true;\n                        }\n                        const fileType = await this.getFileType(uri);\n                        // If we can't determine the file type than we treat it as a match.\n                        // Dropping it would be another alternative.\n                        if (fileType === undefined) {\n                            this._client.error(`Failed to determine file type for ${uri.toString()}.`);\n                            return true;\n                        }\n                        if ((fileType === code.FileType.File && filter.kind === proto.FileOperationPatternKind.file) || (fileType === code.FileType.Directory && filter.kind === proto.FileOperationPatternKind.folder)) {\n                            return true;\n                        }\n                    }\n                    else if (filter.kind === proto.FileOperationPatternKind.folder) {\n                        const fileType = await FileOperationFeature.getFileType(uri);\n                        if (fileType === code.FileType.Directory && filter.matcher.match(`${path}/`)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            return false;\n        }));\n        // Filter the files to those that matched.\n        const files = event.files.filter((_, index) => fileMatches[index]);\n        return { ...event, files };\n    }\n    static async getFileType(uri) {\n        try {\n            return (await code.workspace.fs.stat(uri)).type;\n        }\n        catch (e) {\n            return undefined;\n        }\n    }\n    static asMinimatchOptions(options) {\n        // The spec doesn't state that dot files don't match. So we make\n        // matching those the default.\n        const result = { dot: true };\n        if (options?.ignoreCase === true) {\n            result.nocase = true;\n        }\n        return result;\n    }\n}\nclass NotificationFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, notificationType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, notificationType, clientCapability, serverCapability);\n        this._notificationType = notificationType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = async (event) => {\n                return this._client.sendNotification(this._notificationType, this._createParams(event));\n            };\n            return this.doSend(filteredEvent, next);\n        }\n    }\n}\nclass CachingNotificationFileOperationFeature extends NotificationFileOperationFeature {\n    constructor() {\n        super(...arguments);\n        this._fsPathFileTypes = new Map();\n    }\n    async getFileType(uri) {\n        const fsPath = uri.fsPath;\n        if (this._fsPathFileTypes.has(fsPath)) {\n            return this._fsPathFileTypes.get(fsPath);\n        }\n        const type = await FileOperationFeature.getFileType(uri);\n        if (type) {\n            this._fsPathFileTypes.set(fsPath, type);\n        }\n        return type;\n    }\n    async cacheFileTypes(event, prop) {\n        // Calling filter will force the matching logic to run. For any item\n        // that requires a getFileType lookup, the overriden getFileType will\n        // be called that will cache the result so that when onDidRename fires,\n        // it can still be checked even though the item no longer exists on disk\n        // in its original location.\n        await this.filter(event, prop);\n    }\n    clearFileTypeCache() {\n        this._fsPathFileTypes.clear();\n    }\n    unregister(id) {\n        super.unregister(id);\n        if (this.filterSize() === 0 && this._willListener) {\n            this._willListener.dispose();\n            this._willListener = undefined;\n        }\n    }\n    clear() {\n        super.clear();\n        if (this._willListener) {\n            this._willListener.dispose();\n            this._willListener = undefined;\n        }\n    }\n}\nclass DidCreateFilesFeature extends NotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidCreateFiles, proto.DidCreateFilesNotification.type, 'didCreate', 'didCreate', (i) => i, client.code2ProtocolConverter.asDidCreateFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didCreateFiles\n            ? middleware.didCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidCreateFilesFeature = DidCreateFilesFeature;\nclass DidRenameFilesFeature extends CachingNotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidRenameFiles, proto.DidRenameFilesNotification.type, 'didRename', 'didRename', (i) => i.oldUri, client.code2ProtocolConverter.asDidRenameFilesParams);\n    }\n    register(data) {\n        if (!this._willListener) {\n            this._willListener = code.workspace.onWillRenameFiles(this.willRename, this);\n        }\n        super.register(data);\n    }\n    willRename(e) {\n        e.waitUntil(this.cacheFileTypes(e, (i) => i.oldUri));\n    }\n    doSend(event, next) {\n        this.clearFileTypeCache();\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didRenameFiles\n            ? middleware.didRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidRenameFilesFeature = DidRenameFilesFeature;\nclass DidDeleteFilesFeature extends CachingNotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidDeleteFiles, proto.DidDeleteFilesNotification.type, 'didDelete', 'didDelete', (i) => i, client.code2ProtocolConverter.asDidDeleteFilesParams);\n    }\n    register(data) {\n        if (!this._willListener) {\n            this._willListener = code.workspace.onWillDeleteFiles(this.willDelete, this);\n        }\n        super.register(data);\n    }\n    willDelete(e) {\n        e.waitUntil(this.cacheFileTypes(e, (i) => i));\n    }\n    doSend(event, next) {\n        this.clearFileTypeCache();\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didDeleteFiles\n            ? middleware.didDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidDeleteFilesFeature = DidDeleteFilesFeature;\nclass RequestFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, requestType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, requestType, clientCapability, serverCapability);\n        this._requestType = requestType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        const waitUntil = this.waitUntil(originalEvent);\n        originalEvent.waitUntil(waitUntil);\n    }\n    async waitUntil(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = (event) => {\n                return this._client.sendRequest(this._requestType, this._createParams(event), event.token)\n                    .then(this._client.protocol2CodeConverter.asWorkspaceEdit);\n            };\n            return this.doSend(filteredEvent, next);\n        }\n        else {\n            return undefined;\n        }\n    }\n}\nclass WillCreateFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillCreateFiles, proto.WillCreateFilesRequest.type, 'willCreate', 'willCreate', (i) => i, client.code2ProtocolConverter.asWillCreateFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willCreateFiles\n            ? middleware.willCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillCreateFilesFeature = WillCreateFilesFeature;\nclass WillRenameFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillRenameFiles, proto.WillRenameFilesRequest.type, 'willRename', 'willRename', (i) => i.oldUri, client.code2ProtocolConverter.asWillRenameFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willRenameFiles\n            ? middleware.willRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillRenameFilesFeature = WillRenameFilesFeature;\nclass WillDeleteFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillDeleteFiles, proto.WillDeleteFilesRequest.type, 'willDelete', 'willDelete', (i) => i, client.code2ProtocolConverter.asWillDeleteFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willDeleteFiles\n            ? middleware.willDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillDeleteFilesFeature = WillDeleteFilesFeature;\n","'use strict'\n\n// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n/* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\n// Max safe length for a build identifier. The max length minus 6 characters for\n// the shortest version with a build 0.0.0+BUILD.\nconst MAX_SAFE_BUILD_LENGTH = MAX_LENGTH - 6\n\nconst RELEASE_TYPES = [\n  'major',\n  'premajor',\n  'minor',\n  'preminor',\n  'patch',\n  'prepatch',\n  'prerelease',\n]\n\nmodule.exports = {\n  MAX_LENGTH,\n  MAX_SAFE_COMPONENT_LENGTH,\n  MAX_SAFE_BUILD_LENGTH,\n  MAX_SAFE_INTEGER,\n  RELEASE_TYPES,\n  SEMVER_SPEC_VERSION,\n  FLAG_INCLUDE_PRERELEASE: 0b001,\n  FLAG_LOOSE: 0b010,\n}\n","'use strict';\n\nvar Alias = require('../nodes/Alias.js');\nvar identity = require('../nodes/identity.js');\nvar Scalar = require('../nodes/Scalar.js');\n\nconst defaultTagPrefix = 'tag:yaml.org,2002:';\nfunction findTagObject(value, tagName, tags) {\n    if (tagName) {\n        const match = tags.filter(t => t.tag === tagName);\n        const tagObj = match.find(t => !t.format) ?? match[0];\n        if (!tagObj)\n            throw new Error(`Tag ${tagName} not found`);\n        return tagObj;\n    }\n    return tags.find(t => t.identify?.(value) && !t.format);\n}\nfunction createNode(value, tagName, ctx) {\n    if (identity.isDocument(value))\n        value = value.contents;\n    if (identity.isNode(value))\n        return value;\n    if (identity.isPair(value)) {\n        const map = ctx.schema[identity.MAP].createNode?.(ctx.schema, null, ctx);\n        map.items.push(value);\n        return map;\n    }\n    if (value instanceof String ||\n        value instanceof Number ||\n        value instanceof Boolean ||\n        (typeof BigInt !== 'undefined' && value instanceof BigInt) // not supported everywhere\n    ) {\n        // https://tc39.es/ecma262/#sec-serializejsonproperty\n        value = value.valueOf();\n    }\n    const { aliasDuplicateObjects, onAnchor, onTagObj, schema, sourceObjects } = ctx;\n    // Detect duplicate references to the same object & use Alias nodes for all\n    // after first. The `ref` wrapper allows for circular references to resolve.\n    let ref = undefined;\n    if (aliasDuplicateObjects && value && typeof value === 'object') {\n        ref = sourceObjects.get(value);\n        if (ref) {\n            ref.anchor ?? (ref.anchor = onAnchor(value));\n            return new Alias.Alias(ref.anchor);\n        }\n        else {\n            ref = { anchor: null, node: null };\n            sourceObjects.set(value, ref);\n        }\n    }\n    if (tagName?.startsWith('!!'))\n        tagName = defaultTagPrefix + tagName.slice(2);\n    let tagObj = findTagObject(value, tagName, schema.tags);\n    if (!tagObj) {\n        if (value && typeof value.toJSON === 'function') {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n            value = value.toJSON();\n        }\n        if (!value || typeof value !== 'object') {\n            const node = new Scalar.Scalar(value);\n            if (ref)\n                ref.node = node;\n            return node;\n        }\n        tagObj =\n            value instanceof Map\n                ? schema[identity.MAP]\n                : Symbol.iterator in Object(value)\n                    ? schema[identity.SEQ]\n                    : schema[identity.MAP];\n    }\n    if (onTagObj) {\n        onTagObj(tagObj);\n        delete ctx.onTagObj;\n    }\n    const node = tagObj?.createNode\n        ? tagObj.createNode(ctx.schema, value, ctx)\n        : typeof tagObj?.nodeClass?.from === 'function'\n            ? tagObj.nodeClass.from(ctx.schema, value, ctx)\n            : new Scalar.Scalar(value);\n    if (tagName)\n        node.tag = tagName;\n    else if (!tagObj.default)\n        node.tag = tagObj.tag;\n    if (ref)\n        ref.node = node;\n    return node;\n}\n\nexports.createNode = createNode;\n","module.exports = require(\"util\");","'use strict';\n\nvar createNode = require('../doc/createNode.js');\nvar stringifyCollection = require('../stringify/stringifyCollection.js');\nvar Collection = require('./Collection.js');\nvar identity = require('./identity.js');\nvar Scalar = require('./Scalar.js');\nvar toJS = require('./toJS.js');\n\nclass YAMLSeq extends Collection.Collection {\n    static get tagName() {\n        return 'tag:yaml.org,2002:seq';\n    }\n    constructor(schema) {\n        super(identity.SEQ, schema);\n        this.items = [];\n    }\n    add(value) {\n        this.items.push(value);\n    }\n    /**\n     * Removes a value from the collection.\n     *\n     * `key` must contain a representation of an integer for this to succeed.\n     * It may be wrapped in a `Scalar`.\n     *\n     * @returns `true` if the item was found and removed.\n     */\n    delete(key) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            return false;\n        const del = this.items.splice(idx, 1);\n        return del.length > 0;\n    }\n    get(key, keepScalar) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            return undefined;\n        const it = this.items[idx];\n        return !keepScalar && identity.isScalar(it) ? it.value : it;\n    }\n    /**\n     * Checks if the collection includes a value with the key `key`.\n     *\n     * `key` must contain a representation of an integer for this to succeed.\n     * It may be wrapped in a `Scalar`.\n     */\n    has(key) {\n        const idx = asItemIndex(key);\n        return typeof idx === 'number' && idx < this.items.length;\n    }\n    /**\n     * Sets a value in this collection. For `!!set`, `value` needs to be a\n     * boolean to add/remove the item from the set.\n     *\n     * If `key` does not contain a representation of an integer, this will throw.\n     * It may be wrapped in a `Scalar`.\n     */\n    set(key, value) {\n        const idx = asItemIndex(key);\n        if (typeof idx !== 'number')\n            throw new Error(`Expected a valid index, not ${key}.`);\n        const prev = this.items[idx];\n        if (identity.isScalar(prev) && Scalar.isScalarValue(value))\n            prev.value = value;\n        else\n            this.items[idx] = value;\n    }\n    toJSON(_, ctx) {\n        const seq = [];\n        if (ctx?.onCreate)\n            ctx.onCreate(seq);\n        let i = 0;\n        for (const item of this.items)\n            seq.push(toJS.toJS(item, String(i++), ctx));\n        return seq;\n    }\n    toString(ctx, onComment, onChompKeep) {\n        if (!ctx)\n            return JSON.stringify(this);\n        return stringifyCollection.stringifyCollection(this, ctx, {\n            blockItemPrefix: '- ',\n            flowChars: { start: '[', end: ']' },\n            itemIndent: (ctx.indent || '') + '  ',\n            onChompKeep,\n            onComment\n        });\n    }\n    static from(schema, obj, ctx) {\n        const { replacer } = ctx;\n        const seq = new this(schema);\n        if (obj && Symbol.iterator in Object(obj)) {\n            let i = 0;\n            for (let it of obj) {\n                if (typeof replacer === 'function') {\n                    const key = obj instanceof Set ? it : String(i++);\n                    it = replacer.call(obj, key, it);\n                }\n                seq.items.push(createNode.createNode(it, undefined, ctx));\n            }\n        }\n        return seq;\n    }\n}\nfunction asItemIndex(key) {\n    let idx = identity.isScalar(key) ? key.value : key;\n    if (idx && typeof idx === 'string')\n        idx = Number(idx);\n    return typeof idx === 'number' && Number.isInteger(idx) && idx >= 0\n        ? idx\n        : null;\n}\n\nexports.YAMLSeq = YAMLSeq;\n","'use strict';\n\nvar stringifyString = require('../../stringify/stringifyString.js');\n\nconst string = {\n    identify: value => typeof value === 'string',\n    default: true,\n    tag: 'tag:yaml.org,2002:str',\n    resolve: str => str,\n    stringify(item, ctx, onComment, onChompKeep) {\n        ctx = Object.assign({ actualString: true }, ctx);\n        return stringifyString.stringifyString(item, ctx, onComment, onChompKeep);\n    }\n};\n\nexports.string = string;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass DeclarationFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const declarationSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'declaration');\n        declarationSupport.dynamicRegistration = true;\n        declarationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.declarationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDeclaration: (document, position, token) => {\n                const client = this._client;\n                const provideDeclaration = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDeclarationResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDeclaration\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\n                    : provideDeclaration(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.DeclarationFeature = DeclarationFeature;\n","'use strict';\n\n/**\n * Stringifies a comment.\n *\n * Empty comment lines are left empty,\n * lines consisting of a single space are replaced by `#`,\n * and all other lines are prefixed with a `#`.\n */\nconst stringifyComment = (str) => str.replace(/^(?!$)(?: $)?/gm, '#');\nfunction indentComment(comment, indent) {\n    if (/^\\n+$/.test(comment))\n        return comment.substring(1);\n    return indent ? comment.replace(/^(?! *$)/gm, indent) : comment;\n}\nconst lineComment = (str, indent, comment) => str.endsWith('\\n')\n    ? indentComment(comment, indent)\n    : comment.includes('\\n')\n        ? '\\n' + indentComment(comment, indent)\n        : (str.endsWith(' ') ? '' : ' ') + comment;\n\nexports.indentComment = indentComment;\nexports.lineComment = lineComment;\nexports.stringifyComment = stringifyComment;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingMonitor = exports.LanguageClient = exports.TransportKind = void 0;\nconst cp = require(\"child_process\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst vscode_1 = require(\"vscode\");\nconst Is = require(\"../common/utils/is\");\nconst client_1 = require(\"../common/client\");\nconst processes_1 = require(\"./processes\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n// Import SemVer functions individually to avoid circular dependencies in SemVer\nconst semverParse = require(\"semver/functions/parse\");\nconst semverSatisfies = require(\"semver/functions/satisfies\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nconst REQUIRED_VSCODE_VERSION = '^1.82.0'; // do not change format, updated by `updateVSCode` script\nvar TransportKind;\n(function (TransportKind) {\n    TransportKind[TransportKind[\"stdio\"] = 0] = \"stdio\";\n    TransportKind[TransportKind[\"ipc\"] = 1] = \"ipc\";\n    TransportKind[TransportKind[\"pipe\"] = 2] = \"pipe\";\n    TransportKind[TransportKind[\"socket\"] = 3] = \"socket\";\n})(TransportKind || (exports.TransportKind = TransportKind = {}));\nvar Transport;\n(function (Transport) {\n    function isSocket(value) {\n        const candidate = value;\n        return candidate && candidate.kind === TransportKind.socket && Is.number(candidate.port);\n    }\n    Transport.isSocket = isSocket;\n})(Transport || (Transport = {}));\nvar Executable;\n(function (Executable) {\n    function is(value) {\n        return Is.string(value.command);\n    }\n    Executable.is = is;\n})(Executable || (Executable = {}));\nvar NodeModule;\n(function (NodeModule) {\n    function is(value) {\n        return Is.string(value.module);\n    }\n    NodeModule.is = is;\n})(NodeModule || (NodeModule = {}));\nvar StreamInfo;\n(function (StreamInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.writer !== undefined && candidate.reader !== undefined;\n    }\n    StreamInfo.is = is;\n})(StreamInfo || (StreamInfo = {}));\nvar ChildProcessInfo;\n(function (ChildProcessInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.process !== undefined && typeof candidate.detached === 'boolean';\n    }\n    ChildProcessInfo.is = is;\n})(ChildProcessInfo || (ChildProcessInfo = {}));\nclass LanguageClient extends client_1.BaseLanguageClient {\n    constructor(arg1, arg2, arg3, arg4, arg5) {\n        let id;\n        let name;\n        let serverOptions;\n        let clientOptions;\n        let forceDebug;\n        if (Is.string(arg2)) {\n            id = arg1;\n            name = arg2;\n            serverOptions = arg3;\n            clientOptions = arg4;\n            forceDebug = !!arg5;\n        }\n        else {\n            id = arg1.toLowerCase();\n            name = arg1;\n            serverOptions = arg2;\n            clientOptions = arg3;\n            forceDebug = arg4;\n        }\n        if (forceDebug === undefined) {\n            forceDebug = false;\n        }\n        super(id, name, clientOptions);\n        this._serverOptions = serverOptions;\n        this._forceDebug = forceDebug;\n        this._isInDebugMode = forceDebug;\n        try {\n            this.checkVersion();\n        }\n        catch (error) {\n            if (Is.string(error.message)) {\n                this.outputChannel.appendLine(error.message);\n            }\n            throw error;\n        }\n    }\n    checkVersion() {\n        const codeVersion = semverParse(vscode_1.version);\n        if (!codeVersion) {\n            throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);\n        }\n        // Remove the insider pre-release since we stay API compatible.\n        if (codeVersion.prerelease && codeVersion.prerelease.length > 0) {\n            codeVersion.prerelease = [];\n        }\n        if (!semverSatisfies(codeVersion, REQUIRED_VSCODE_VERSION)) {\n            throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`);\n        }\n    }\n    get isInDebugMode() {\n        return this._isInDebugMode;\n    }\n    async restart() {\n        await this.stop();\n        // We are in debug mode. Wait a little before we restart\n        // so that the debug port can be freed. We can safely ignore\n        // the disposable returned from start since it will call\n        // stop on the same client instance.\n        if (this.isInDebugMode) {\n            await new Promise((resolve) => setTimeout(resolve, 1000));\n            await this.start();\n        }\n        else {\n            await this.start();\n        }\n    }\n    stop(timeout = 2000) {\n        return super.stop(timeout).finally(() => {\n            if (this._serverProcess) {\n                const toCheck = this._serverProcess;\n                this._serverProcess = undefined;\n                if (this._isDetached === undefined || !this._isDetached) {\n                    this.checkProcessDied(toCheck);\n                }\n                this._isDetached = undefined;\n            }\n        });\n    }\n    checkProcessDied(childProcess) {\n        if (!childProcess || childProcess.pid === undefined) {\n            return;\n        }\n        setTimeout(() => {\n            // Test if the process is still alive. Throws an exception if not\n            try {\n                if (childProcess.pid !== undefined) {\n                    process.kill(childProcess.pid, 0);\n                    (0, processes_1.terminate)(childProcess);\n                }\n            }\n            catch (error) {\n                // All is fine.\n            }\n        }, 2000);\n    }\n    handleConnectionClosed() {\n        this._serverProcess = undefined;\n        return super.handleConnectionClosed();\n    }\n    fillInitializeParams(params) {\n        super.fillInitializeParams(params);\n        if (params.processId === null) {\n            params.processId = process.pid;\n        }\n    }\n    createMessageTransports(encoding) {\n        function getEnvironment(env, fork) {\n            if (!env && !fork) {\n                return undefined;\n            }\n            const result = Object.create(null);\n            Object.keys(process.env).forEach(key => result[key] = process.env[key]);\n            if (fork) {\n                result['ELECTRON_RUN_AS_NODE'] = '1';\n                result['ELECTRON_NO_ASAR'] = '1';\n            }\n            if (env) {\n                Object.keys(env).forEach(key => result[key] = env[key]);\n            }\n            return result;\n        }\n        const debugStartWith = ['--debug=', '--debug-brk=', '--inspect=', '--inspect-brk='];\n        const debugEquals = ['--debug', '--debug-brk', '--inspect', '--inspect-brk'];\n        function startedInDebugMode() {\n            let args = process.execArgv;\n            if (args) {\n                return args.some((arg) => {\n                    return debugStartWith.some(value => arg.startsWith(value)) ||\n                        debugEquals.some(value => arg === value);\n                });\n            }\n            return false;\n        }\n        function assertStdio(process) {\n            if (process.stdin === null || process.stdout === null || process.stderr === null) {\n                throw new Error('Process created without stdio streams');\n            }\n        }\n        const server = this._serverOptions;\n        // We got a function.\n        if (Is.func(server)) {\n            return server().then((result) => {\n                if (client_1.MessageTransports.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return result;\n                }\n                else if (StreamInfo.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return { reader: new node_1.StreamMessageReader(result.reader), writer: new node_1.StreamMessageWriter(result.writer) };\n                }\n                else {\n                    let cp;\n                    if (ChildProcessInfo.is(result)) {\n                        cp = result.process;\n                        this._isDetached = result.detached;\n                    }\n                    else {\n                        cp = result;\n                        this._isDetached = false;\n                    }\n                    cp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    return { reader: new node_1.StreamMessageReader(cp.stdout), writer: new node_1.StreamMessageWriter(cp.stdin) };\n                }\n            });\n        }\n        let json;\n        let runDebug = server;\n        if (runDebug.run || runDebug.debug) {\n            if (this._forceDebug || startedInDebugMode()) {\n                json = runDebug.debug;\n                this._isInDebugMode = true;\n            }\n            else {\n                json = runDebug.run;\n                this._isInDebugMode = false;\n            }\n        }\n        else {\n            json = server;\n        }\n        return this._getServerWorkingDir(json.options).then(serverWorkingDir => {\n            if (NodeModule.is(json) && json.module) {\n                let node = json;\n                let transport = node.transport || TransportKind.stdio;\n                if (node.runtime) {\n                    const args = [];\n                    const options = node.options ?? Object.create(null);\n                    if (options.execArgv) {\n                        options.execArgv.forEach(element => args.push(element));\n                    }\n                    args.push(node.module);\n                    if (node.args) {\n                        node.args.forEach(element => args.push(element));\n                    }\n                    const execOptions = Object.create(null);\n                    execOptions.cwd = serverWorkingDir;\n                    execOptions.env = getEnvironment(options.env, false);\n                    const runtime = this._getRuntimePath(node.runtime, serverWorkingDir);\n                    let pipeName = undefined;\n                    if (transport === TransportKind.ipc) {\n                        // exec options not correctly typed in lib\n                        execOptions.stdio = [null, null, null, 'ipc'];\n                        args.push('--node-ipc');\n                    }\n                    else if (transport === TransportKind.stdio) {\n                        args.push('--stdio');\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        pipeName = (0, node_1.generateRandomPipeName)();\n                        args.push(`--pipe=${pipeName}`);\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        args.push(`--socket=${transport.port}`);\n                    }\n                    args.push(`--clientProcessId=${process.pid.toString()}`);\n                    if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                        const serverProcess = cp.spawn(runtime, args, execOptions);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using runtime ${runtime} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        if (transport === TransportKind.ipc) {\n                            serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return Promise.resolve({ reader: new node_1.IPCMessageReader(serverProcess), writer: new node_1.IPCMessageWriter(serverProcess) });\n                        }\n                        else {\n                            return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                        }\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        return (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                            const process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return handleChildProcessStartError(process, `Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        return (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                            const process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return handleChildProcessStartError(process, `Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                }\n                else {\n                    let pipeName = undefined;\n                    return new Promise((resolve, reject) => {\n                        const args = (node.args && node.args.slice()) ?? [];\n                        if (transport === TransportKind.ipc) {\n                            args.push('--node-ipc');\n                        }\n                        else if (transport === TransportKind.stdio) {\n                            args.push('--stdio');\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            pipeName = (0, node_1.generateRandomPipeName)();\n                            args.push(`--pipe=${pipeName}`);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            args.push(`--socket=${transport.port}`);\n                        }\n                        args.push(`--clientProcessId=${process.pid.toString()}`);\n                        const options = node.options ?? Object.create(null);\n                        options.env = getEnvironment(options.env, true);\n                        options.execArgv = options.execArgv || [];\n                        options.cwd = serverWorkingDir;\n                        options.silent = true;\n                        if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                            const sp = cp.fork(node.module, args || [], options);\n                            assertStdio(sp);\n                            this._serverProcess = sp;\n                            sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            if (transport === TransportKind.ipc) {\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                resolve({ reader: new node_1.IPCMessageReader(this._serverProcess), writer: new node_1.IPCMessageWriter(this._serverProcess) });\n                            }\n                            else {\n                                resolve({ reader: new node_1.StreamMessageReader(sp.stdout), writer: new node_1.StreamMessageWriter(sp.stdin) });\n                            }\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                                const sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                }, reject);\n                            }, reject);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                                const sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                }, reject);\n                            }, reject);\n                        }\n                    });\n                }\n            }\n            else if (Executable.is(json) && json.command) {\n                const command = json;\n                const args = json.args !== undefined ? json.args.slice(0) : [];\n                let pipeName = undefined;\n                const transport = json.transport;\n                if (transport === TransportKind.stdio) {\n                    args.push('--stdio');\n                }\n                else if (transport === TransportKind.pipe) {\n                    pipeName = (0, node_1.generateRandomPipeName)();\n                    args.push(`--pipe=${pipeName}`);\n                }\n                else if (Transport.isSocket(transport)) {\n                    args.push(`--socket=${transport.port}`);\n                }\n                else if (transport === TransportKind.ipc) {\n                    throw new Error(`Transport kind ipc is not support for command executable`);\n                }\n                const options = Object.assign({}, command.options);\n                options.cwd = options.cwd || serverWorkingDir;\n                if (transport === undefined || transport === TransportKind.stdio) {\n                    const serverProcess = cp.spawn(command.command, args, options);\n                    if (!serverProcess || !serverProcess.pid) {\n                        return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                    }\n                    serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    this._serverProcess = serverProcess;\n                    this._isDetached = !!options.detached;\n                    return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                }\n                else if (transport === TransportKind.pipe) {\n                    return (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                        const serverProcess = cp.spawn(command.command, args, options);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        this._isDetached = !!options.detached;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        return transport.onConnected().then((protocol) => {\n                            return { reader: protocol[0], writer: protocol[1] };\n                        });\n                    });\n                }\n                else if (Transport.isSocket(transport)) {\n                    return (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                        const serverProcess = cp.spawn(command.command, args, options);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        this._isDetached = !!options.detached;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        return transport.onConnected().then((protocol) => {\n                            return { reader: protocol[0], writer: protocol[1] };\n                        });\n                    });\n                }\n            }\n            return Promise.reject(new Error(`Unsupported server configuration ` + JSON.stringify(server, null, 4)));\n        }).finally(() => {\n            if (this._serverProcess !== undefined) {\n                this._serverProcess.on('exit', (code, signal) => {\n                    if (code !== null) {\n                        this.error(`Server process exited with code ${code}.`, undefined, false);\n                    }\n                    if (signal !== null) {\n                        this.error(`Server process exited with signal ${signal}.`, undefined, false);\n                    }\n                });\n            }\n        });\n    }\n    _getRuntimePath(runtime, serverWorkingDirectory) {\n        if (path.isAbsolute(runtime)) {\n            return runtime;\n        }\n        const mainRootPath = this._mainGetRootPath();\n        if (mainRootPath !== undefined) {\n            const result = path.join(mainRootPath, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        if (serverWorkingDirectory !== undefined) {\n            const result = path.join(serverWorkingDirectory, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        return runtime;\n    }\n    _mainGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    _getServerWorkingDir(options) {\n        let cwd = options && options.cwd;\n        if (!cwd) {\n            cwd = this.clientOptions.workspaceFolder\n                ? this.clientOptions.workspaceFolder.uri.fsPath\n                : this._mainGetRootPath();\n        }\n        if (cwd) {\n            // make sure the folder exists otherwise creating the process will fail\n            return new Promise(s => {\n                fs.lstat(cwd, (err, stats) => {\n                    s(!err && stats.isDirectory() ? cwd : undefined);\n                });\n            });\n        }\n        return Promise.resolve(undefined);\n    }\n}\nexports.LanguageClient = LanguageClient;\nclass SettingMonitor {\n    constructor(_client, _setting) {\n        this._client = _client;\n        this._setting = _setting;\n        this._listeners = [];\n    }\n    start() {\n        vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this._listeners);\n        this.onDidChangeConfiguration();\n        return new vscode_1.Disposable(() => {\n            if (this._client.needsStop()) {\n                void this._client.stop();\n            }\n        });\n    }\n    onDidChangeConfiguration() {\n        let index = this._setting.indexOf('.');\n        let primary = index >= 0 ? this._setting.substr(0, index) : this._setting;\n        let rest = index >= 0 ? this._setting.substr(index + 1) : undefined;\n        let enabled = rest ? vscode_1.workspace.getConfiguration(primary).get(rest, false) : vscode_1.workspace.getConfiguration(primary);\n        if (enabled && this._client.needsStart()) {\n            this._client.start().catch((error) => this._client.error('Start failed after configuration change', error, 'force'));\n        }\n        else if (!enabled && this._client.needsStop()) {\n            void this._client.stop().catch((error) => this._client.error('Stop failed after configuration change', error, 'force'));\n        }\n    }\n}\nexports.SettingMonitor = SettingMonitor;\nfunction handleChildProcessStartError(process, message) {\n    if (process === null) {\n        return Promise.reject(message);\n    }\n    return new Promise((_, reject) => {\n        process.on('error', (err) => {\n            reject(`${message} ${err}`);\n        });\n        // the error event should always be run immediately,\n        // but race on it just in case\n        setImmediate(() => reject(message));\n    });\n}\n","module.exports = require(\"net\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.terminate = void 0;\nconst cp = require(\"child_process\");\nconst path_1 = require(\"path\");\nconst isWindows = (process.platform === 'win32');\nconst isMacintosh = (process.platform === 'darwin');\nconst isLinux = (process.platform === 'linux');\nfunction terminate(process, cwd) {\n    if (isWindows) {\n        try {\n            // This we run in Atom execFileSync is available.\n            // Ignore stderr since this is otherwise piped to parent.stderr\n            // which might be already closed.\n            let options = {\n                stdio: ['pipe', 'pipe', 'ignore']\n            };\n            if (cwd) {\n                options.cwd = cwd;\n            }\n            cp.execFileSync('taskkill', ['/T', '/F', '/PID', process.pid.toString()], options);\n            return true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else if (isLinux || isMacintosh) {\n        try {\n            var cmd = (0, path_1.join)(__dirname, 'terminateProcess.sh');\n            var result = cp.spawnSync(cmd, [process.pid.toString()]);\n            return result.error ? false : true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else {\n        process.kill('SIGKILL');\n        return true;\n    }\n}\nexports.terminate = terminate;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest || (exports.ConfigurationRequest = ConfigurationRequest = {}));\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorProviderFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass ColorProviderFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'colorProvider').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.colorProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideColorPresentations: (color, context, token) => {\n                const client = this._client;\n                const provideColorPresentations = (color, context, token) => {\n                    const requestParams = {\n                        color,\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\n                        range: client.code2ProtocolConverter.asRange(context.range)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return this._client.protocol2CodeConverter.asColorPresentations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideColorPresentations\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\n                    : provideColorPresentations(color, context, token);\n            },\n            provideDocumentColors: (document, token) => {\n                const client = this._client;\n                const provideDocumentColors = (document, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return this._client.protocol2CodeConverter.asColorInformations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentColors\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\n                    : provideDocumentColors(document, token);\n            }\n        };\n        return [vscode_1.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.ColorProviderFeature = ColorProviderFeature;\n","'use strict';\n\nvar utilContainsNewline = require('./util-contains-newline.js');\n\nfunction flowIndentCheck(indent, fc, onError) {\n    if (fc?.type === 'flow-collection') {\n        const end = fc.end[0];\n        if (end.indent === indent &&\n            (end.source === ']' || end.source === '}') &&\n            utilContainsNewline.containsNewline(fc)) {\n            const msg = 'Flow end indicator should be more indented than parent';\n            onError(end, 'BAD_INDENT', msg, true);\n        }\n    }\n}\n\nexports.flowIndentCheck = flowIndentCheck;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.BaseLanguageClient = exports.MessageTransports = exports.SuspendMode = exports.State = exports.CloseAction = exports.ErrorAction = exports.RevealOutputChannelOn = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst c2p = require(\"./codeConverter\");\nconst p2c = require(\"./protocolConverter\");\nconst Is = require(\"./utils/is\");\nconst async_1 = require(\"./utils/async\");\nconst UUID = require(\"./utils/uuid\");\nconst progressPart_1 = require(\"./progressPart\");\nconst features_1 = require(\"./features\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst configuration_1 = require(\"./configuration\");\nconst textSynchronization_1 = require(\"./textSynchronization\");\nconst completion_1 = require(\"./completion\");\nconst hover_1 = require(\"./hover\");\nconst definition_1 = require(\"./definition\");\nconst signatureHelp_1 = require(\"./signatureHelp\");\nconst documentHighlight_1 = require(\"./documentHighlight\");\nconst documentSymbol_1 = require(\"./documentSymbol\");\nconst workspaceSymbol_1 = require(\"./workspaceSymbol\");\nconst reference_1 = require(\"./reference\");\nconst codeAction_1 = require(\"./codeAction\");\nconst codeLens_1 = require(\"./codeLens\");\nconst formatting_1 = require(\"./formatting\");\nconst rename_1 = require(\"./rename\");\nconst documentLink_1 = require(\"./documentLink\");\nconst executeCommand_1 = require(\"./executeCommand\");\nconst fileSystemWatcher_1 = require(\"./fileSystemWatcher\");\nconst colorProvider_1 = require(\"./colorProvider\");\nconst implementation_1 = require(\"./implementation\");\nconst typeDefinition_1 = require(\"./typeDefinition\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst foldingRange_1 = require(\"./foldingRange\");\nconst declaration_1 = require(\"./declaration\");\nconst selectionRange_1 = require(\"./selectionRange\");\nconst progress_1 = require(\"./progress\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst inlayHint_1 = require(\"./inlayHint\");\nconst inlineCompletion_1 = require(\"./inlineCompletion\");\n/**\n * Controls when the output channel is revealed.\n */\nvar RevealOutputChannelOn;\n(function (RevealOutputChannelOn) {\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Debug\"] = 0] = \"Debug\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\n})(RevealOutputChannelOn || (exports.RevealOutputChannelOn = RevealOutputChannelOn = {}));\n/**\n * An action to be performed when the connection is producing errors.\n */\nvar ErrorAction;\n(function (ErrorAction) {\n    /**\n     * Continue running the server.\n     */\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\n    /**\n     * Shutdown the server.\n     */\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\n})(ErrorAction || (exports.ErrorAction = ErrorAction = {}));\n/**\n * An action to be performed when the connection to a server got closed.\n */\nvar CloseAction;\n(function (CloseAction) {\n    /**\n     * Don't restart the server. The connection stays closed.\n     */\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\n    /**\n     * Restart the server.\n     */\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\n})(CloseAction || (exports.CloseAction = CloseAction = {}));\n/**\n * Signals in which state the language client is in.\n */\nvar State;\n(function (State) {\n    /**\n     * The client is stopped or got never started.\n     */\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\n    /**\n     * The client is starting but not ready yet.\n     */\n    State[State[\"Starting\"] = 3] = \"Starting\";\n    /**\n     * The client is running and ready.\n     */\n    State[State[\"Running\"] = 2] = \"Running\";\n})(State || (exports.State = State = {}));\nvar SuspendMode;\n(function (SuspendMode) {\n    /**\n     * Don't allow suspend mode.\n     */\n    SuspendMode[\"off\"] = \"off\";\n    /**\n     * Support suspend mode even if not all\n     * registered providers have a corresponding\n     * activation listener.\n     */\n    SuspendMode[\"on\"] = \"on\";\n})(SuspendMode || (exports.SuspendMode = SuspendMode = {}));\nvar ResolvedClientOptions;\n(function (ResolvedClientOptions) {\n    function sanitizeIsTrusted(isTrusted) {\n        if (isTrusted === undefined || isTrusted === null) {\n            return false;\n        }\n        if ((typeof isTrusted === 'boolean') || (typeof isTrusted === 'object' && isTrusted !== null && Is.stringArray(isTrusted.enabledCommands))) {\n            return isTrusted;\n        }\n        return false;\n    }\n    ResolvedClientOptions.sanitizeIsTrusted = sanitizeIsTrusted;\n})(ResolvedClientOptions || (ResolvedClientOptions = {}));\nclass DefaultErrorHandler {\n    constructor(client, maxRestartCount) {\n        this.client = client;\n        this.maxRestartCount = maxRestartCount;\n        this.restarts = [];\n    }\n    error(_error, _message, count) {\n        if (count && count <= 3) {\n            return { action: ErrorAction.Continue };\n        }\n        return { action: ErrorAction.Shutdown };\n    }\n    closed() {\n        this.restarts.push(Date.now());\n        if (this.restarts.length <= this.maxRestartCount) {\n            return { action: CloseAction.Restart };\n        }\n        else {\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\n            if (diff <= 3 * 60 * 1000) {\n                return { action: CloseAction.DoNotRestart, message: `The ${this.client.name} server crashed ${this.maxRestartCount + 1} times in the last 3 minutes. The server will not be restarted. See the output for more information.` };\n            }\n            else {\n                this.restarts.shift();\n                return { action: CloseAction.Restart };\n            }\n        }\n    }\n}\nvar ClientState;\n(function (ClientState) {\n    ClientState[\"Initial\"] = \"initial\";\n    ClientState[\"Starting\"] = \"starting\";\n    ClientState[\"StartFailed\"] = \"startFailed\";\n    ClientState[\"Running\"] = \"running\";\n    ClientState[\"Stopping\"] = \"stopping\";\n    ClientState[\"Stopped\"] = \"stopped\";\n})(ClientState || (ClientState = {}));\nvar MessageTransports;\n(function (MessageTransports) {\n    function is(value) {\n        let candidate = value;\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\n    }\n    MessageTransports.is = is;\n})(MessageTransports || (exports.MessageTransports = MessageTransports = {}));\nclass BaseLanguageClient {\n    constructor(id, name, clientOptions) {\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        this._diagnosticQueue = new Map();\n        this._diagnosticQueueState = { state: 'idle' };\n        this._features = [];\n        this._dynamicFeatures = new Map();\n        this.workspaceEditLock = new async_1.Semaphore(1);\n        this._id = id;\n        this._name = name;\n        clientOptions = clientOptions || {};\n        const markdown = { isTrusted: false, supportHtml: false };\n        if (clientOptions.markdown !== undefined) {\n            markdown.isTrusted = ResolvedClientOptions.sanitizeIsTrusted(clientOptions.markdown.isTrusted);\n            markdown.supportHtml = clientOptions.markdown.supportHtml === true;\n        }\n        // const defaultInterval = (clientOptions as TestOptions).$testMode ? 50 : 60000;\n        this._clientOptions = {\n            documentSelector: clientOptions.documentSelector ?? [],\n            synchronize: clientOptions.synchronize ?? {},\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\n            outputChannelName: clientOptions.outputChannelName ?? this._name,\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn ?? RevealOutputChannelOn.Error,\n            stdioEncoding: clientOptions.stdioEncoding ?? 'utf8',\n            initializationOptions: clientOptions.initializationOptions,\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\n            progressOnInitialization: !!clientOptions.progressOnInitialization,\n            errorHandler: clientOptions.errorHandler ?? this.createDefaultErrorHandler(clientOptions.connectionOptions?.maxRestartCount),\n            middleware: clientOptions.middleware ?? {},\n            uriConverters: clientOptions.uriConverters,\n            workspaceFolder: clientOptions.workspaceFolder,\n            connectionOptions: clientOptions.connectionOptions,\n            markdown,\n            // suspend: {\n            // \tmode: clientOptions.suspend?.mode ?? SuspendMode.off,\n            // \tcallback: clientOptions.suspend?.callback ?? (() => Promise.resolve(true)),\n            // \tinterval: clientOptions.suspend?.interval ? Math.max(clientOptions.suspend.interval, defaultInterval) : defaultInterval\n            // },\n            diagnosticPullOptions: clientOptions.diagnosticPullOptions ?? { onChange: true, onSave: false },\n            notebookDocumentOptions: clientOptions.notebookDocumentOptions ?? {}\n        };\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\n        this._state = ClientState.Initial;\n        this._ignoredRegistrations = new Set();\n        this._listeners = [];\n        this._notificationHandlers = new Map();\n        this._pendingNotificationHandlers = new Map();\n        this._notificationDisposables = new Map();\n        this._requestHandlers = new Map();\n        this._pendingRequestHandlers = new Map();\n        this._requestDisposables = new Map();\n        this._progressHandlers = new Map();\n        this._pendingProgressHandlers = new Map();\n        this._progressDisposables = new Map();\n        this._connection = undefined;\n        // this._idleStart = undefined;\n        this._initializeResult = undefined;\n        if (clientOptions.outputChannel) {\n            this._outputChannel = clientOptions.outputChannel;\n            this._disposeOutputChannel = false;\n        }\n        else {\n            this._outputChannel = undefined;\n            this._disposeOutputChannel = true;\n        }\n        this._traceOutputChannel = clientOptions.traceOutputChannel;\n        this._diagnostics = undefined;\n        this._pendingOpenNotifications = new Set();\n        this._pendingChangeSemaphore = new async_1.Semaphore(1);\n        this._pendingChangeDelayer = new async_1.Delayer(250);\n        this._fileEvents = [];\n        this._fileEventDelayer = new async_1.Delayer(250);\n        this._onStop = undefined;\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n        this._tracer = {\n            log: (messageOrDataObject, data) => {\n                if (Is.string(messageOrDataObject)) {\n                    this.logTrace(messageOrDataObject, data);\n                }\n                else {\n                    this.logObjectTrace(messageOrDataObject);\n                }\n            },\n        };\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined, this._clientOptions.markdown.isTrusted, this._clientOptions.markdown.supportHtml);\n        this._syncedDocuments = new Map();\n        this.registerBuiltinFeatures();\n    }\n    get name() {\n        return this._name;\n    }\n    get middleware() {\n        return this._clientOptions.middleware ?? Object.create(null);\n    }\n    get clientOptions() {\n        return this._clientOptions;\n    }\n    get protocol2CodeConverter() {\n        return this._p2c;\n    }\n    get code2ProtocolConverter() {\n        return this._c2p;\n    }\n    get onTelemetry() {\n        return this._telemetryEmitter.event;\n    }\n    get onDidChangeState() {\n        return this._stateChangeEmitter.event;\n    }\n    get outputChannel() {\n        if (!this._outputChannel) {\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\n        }\n        return this._outputChannel;\n    }\n    get traceOutputChannel() {\n        if (this._traceOutputChannel) {\n            return this._traceOutputChannel;\n        }\n        return this.outputChannel;\n    }\n    get diagnostics() {\n        return this._diagnostics;\n    }\n    get state() {\n        return this.getPublicState();\n    }\n    get $state() {\n        return this._state;\n    }\n    set $state(value) {\n        let oldState = this.getPublicState();\n        this._state = value;\n        let newState = this.getPublicState();\n        if (newState !== oldState) {\n            this._stateChangeEmitter.fire({ oldState, newState });\n        }\n    }\n    getPublicState() {\n        switch (this.$state) {\n            case ClientState.Starting:\n                return State.Starting;\n            case ClientState.Running:\n                return State.Running;\n            default:\n                return State.Stopped;\n        }\n    }\n    get initializeResult() {\n        return this._initializeResult;\n    }\n    async sendRequest(type, ...params) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        // Ensure we have a connection before we force the document sync.\n        const connection = await this.$start();\n        // If any document is synced in full mode make sure we flush any pending\n        // full document syncs.\n        if (this._didChangeTextDocumentFeature.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n            await this.sendPendingFullTextDocumentChanges(connection);\n        }\n        const _sendRequest = this._clientOptions.middleware?.sendRequest;\n        if (_sendRequest !== undefined) {\n            let param = undefined;\n            let token = undefined;\n            // Separate cancellation tokens from other parameters for a better client interface\n            if (params.length === 1) {\n                // CancellationToken is an interface, so we need to check if the first param complies to it\n                if (vscode_languageserver_protocol_1.CancellationToken.is(params[0])) {\n                    token = params[0];\n                }\n                else {\n                    param = params[0];\n                }\n            }\n            else if (params.length === 2) {\n                param = params[0];\n                token = params[1];\n            }\n            // Return the general middleware invocation defining `next` as a utility function that reorganizes parameters to\n            // pass them to the original sendRequest function.\n            return _sendRequest(type, param, token, (type, param, token) => {\n                const params = [];\n                // Add the parameters if there are any\n                if (param !== undefined) {\n                    params.push(param);\n                }\n                // Add the cancellation token if there is one\n                if (token !== undefined) {\n                    params.push(token);\n                }\n                return connection.sendRequest(type, ...params);\n            });\n        }\n        else {\n            return connection.sendRequest(type, ...params);\n        }\n    }\n    onRequest(type, handler) {\n        const method = typeof type === 'string' ? type : type.method;\n        this._requestHandlers.set(method, handler);\n        const connection = this.activeConnection();\n        let disposable;\n        if (connection !== undefined) {\n            this._requestDisposables.set(method, connection.onRequest(type, handler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._requestDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._requestDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingRequestHandlers.set(method, handler);\n            disposable = {\n                dispose: () => {\n                    this._pendingRequestHandlers.delete(method);\n                    const disposable = this._requestDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._requestDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._requestHandlers.delete(method);\n                disposable.dispose();\n            }\n        };\n    }\n    async sendNotification(type, params) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        const needsPendingFullTextDocumentSync = this._didChangeTextDocumentFeature.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full;\n        let openNotification;\n        if (needsPendingFullTextDocumentSync && typeof type !== 'string' && type.method === vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.method) {\n            openNotification = params?.textDocument.uri;\n            this._pendingOpenNotifications.add(openNotification);\n        }\n        // Ensure we have a connection before we force the document sync.\n        const connection = await this.$start();\n        // If any document is synced in full mode make sure we flush any pending\n        // full document syncs.\n        if (needsPendingFullTextDocumentSync) {\n            await this.sendPendingFullTextDocumentChanges(connection);\n        }\n        // We need to remove the pending open notification before we actually\n        // send the notification over the connection. Otherwise there could be\n        // a request coming in that although the open notification got already put\n        // onto the wire will ignore pending document changes.\n        //\n        // Since the code path of connection.sendNotification is actually sync\n        // until the message is handed of to the writer and the writer as a semaphore\n        // lock with a capacity of 1 no additional async scheduling can happen until\n        // the message is actually handed of.\n        if (openNotification !== undefined) {\n            this._pendingOpenNotifications.delete(openNotification);\n        }\n        const _sendNotification = this._clientOptions.middleware?.sendNotification;\n        return _sendNotification\n            ? _sendNotification(type, connection.sendNotification.bind(connection), params)\n            : connection.sendNotification(type, params);\n    }\n    onNotification(type, handler) {\n        const method = typeof type === 'string' ? type : type.method;\n        this._notificationHandlers.set(method, handler);\n        const connection = this.activeConnection();\n        let disposable;\n        if (connection !== undefined) {\n            this._notificationDisposables.set(method, connection.onNotification(type, handler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._notificationDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._notificationDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingNotificationHandlers.set(method, handler);\n            disposable = {\n                dispose: () => {\n                    this._pendingNotificationHandlers.delete(method);\n                    const disposable = this._notificationDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._notificationDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._notificationHandlers.delete(method);\n                disposable.dispose();\n            }\n        };\n    }\n    async sendProgress(type, token, value) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        try {\n            // Ensure we have a connection before we force the document sync.\n            const connection = await this.$start();\n            return connection.sendProgress(type, token, value);\n        }\n        catch (error) {\n            this.error(`Sending progress for token ${token} failed.`, error);\n            throw error;\n        }\n    }\n    onProgress(type, token, handler) {\n        this._progressHandlers.set(token, { type, handler });\n        const connection = this.activeConnection();\n        let disposable;\n        const handleWorkDoneProgress = this._clientOptions.middleware?.handleWorkDoneProgress;\n        const realHandler = vscode_languageserver_protocol_1.WorkDoneProgress.is(type) && handleWorkDoneProgress !== undefined\n            ? (params) => {\n                handleWorkDoneProgress(token, params, () => handler(params));\n            }\n            : handler;\n        if (connection !== undefined) {\n            this._progressDisposables.set(token, connection.onProgress(type, token, realHandler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._progressDisposables.get(token);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._progressDisposables.delete(token);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingProgressHandlers.set(token, { type, handler });\n            disposable = {\n                dispose: () => {\n                    this._pendingProgressHandlers.delete(token);\n                    const disposable = this._progressDisposables.get(token);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._progressDisposables.delete(token);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._progressHandlers.delete(token);\n                disposable.dispose();\n            }\n        };\n    }\n    createDefaultErrorHandler(maxRestartCount) {\n        if (maxRestartCount !== undefined && maxRestartCount < 0) {\n            throw new Error(`Invalid maxRestartCount: ${maxRestartCount}`);\n        }\n        return new DefaultErrorHandler(this, maxRestartCount ?? 4);\n    }\n    async setTrace(value) {\n        this._trace = value;\n        const connection = this.activeConnection();\n        if (connection !== undefined) {\n            await connection.trace(this._trace, this._tracer, {\n                sendNotification: false,\n                traceFormat: this._traceFormat\n            });\n        }\n    }\n    data2String(data) {\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\n            const responseError = data;\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\n        }\n        if (data instanceof Error) {\n            if (Is.string(data.stack)) {\n                return data.stack;\n            }\n            return data.message;\n        }\n        if (Is.string(data)) {\n            return data;\n        }\n        return data.toString();\n    }\n    debug(message, data, showNotification = true) {\n        this.logOutputMessage(vscode_languageserver_protocol_1.MessageType.Debug, RevealOutputChannelOn.Debug, 'Debug', message, data, showNotification);\n    }\n    info(message, data, showNotification = true) {\n        this.logOutputMessage(vscode_languageserver_protocol_1.MessageType.Info, RevealOutputChannelOn.Info, 'Info', message, data, showNotification);\n    }\n    warn(message, data, showNotification = true) {\n        this.logOutputMessage(vscode_languageserver_protocol_1.MessageType.Warning, RevealOutputChannelOn.Warn, 'Warn', message, data, showNotification);\n    }\n    error(message, data, showNotification = true) {\n        this.logOutputMessage(vscode_languageserver_protocol_1.MessageType.Error, RevealOutputChannelOn.Error, 'Error', message, data, showNotification);\n    }\n    logOutputMessage(type, reveal, name, message, data, showNotification) {\n        this.outputChannel.appendLine(`[${name.padEnd(5)} - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data !== null && data !== undefined) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification === 'force' || (showNotification && this._clientOptions.revealOutputChannelOn <= reveal)) {\n            this.showNotificationMessage(type, message);\n        }\n    }\n    showNotificationMessage(type, message) {\n        message = message ?? 'A request has failed. See the output for more information.';\n        const messageFunc = type === vscode_languageserver_protocol_1.MessageType.Error\n            ? vscode_1.window.showErrorMessage\n            : type === vscode_languageserver_protocol_1.MessageType.Warning\n                ? vscode_1.window.showWarningMessage\n                : vscode_1.window.showInformationMessage;\n        void messageFunc(message, 'Go to output').then((selection) => {\n            if (selection !== undefined) {\n                this.outputChannel.show(true);\n            }\n        });\n    }\n    logTrace(message, data) {\n        this.traceOutputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.traceOutputChannel.appendLine(this.data2String(data));\n        }\n    }\n    logObjectTrace(data) {\n        if (data.isLSPMessage && data.type) {\n            this.traceOutputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\n        }\n        else {\n            this.traceOutputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\n        }\n        if (data) {\n            this.traceOutputChannel.appendLine(`${JSON.stringify(data)}`);\n        }\n    }\n    needsStart() {\n        return this.$state === ClientState.Initial || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped;\n    }\n    needsStop() {\n        return this.$state === ClientState.Starting || this.$state === ClientState.Running;\n    }\n    activeConnection() {\n        return this.$state === ClientState.Running && this._connection !== undefined ? this._connection : undefined;\n    }\n    isRunning() {\n        return this.$state === ClientState.Running;\n    }\n    async start() {\n        if (this._disposed === 'disposing' || this._disposed === 'disposed') {\n            throw new Error(`Client got disposed and can't be restarted.`);\n        }\n        if (this.$state === ClientState.Stopping) {\n            throw new Error(`Client is currently stopping. Can only restart a full stopped client`);\n        }\n        // We are already running or are in the process of getting up\n        // to speed.\n        if (this._onStart !== undefined) {\n            return this._onStart;\n        }\n        const [promise, resolve, reject] = this.createOnStartPromise();\n        this._onStart = promise;\n        // If we restart then the diagnostics collection is reused.\n        if (this._diagnostics === undefined) {\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\n                : vscode_1.languages.createDiagnosticCollection();\n        }\n        // When we start make all buffer handlers pending so that they\n        // get added.\n        for (const [method, handler] of this._notificationHandlers) {\n            if (!this._pendingNotificationHandlers.has(method)) {\n                this._pendingNotificationHandlers.set(method, handler);\n            }\n        }\n        for (const [method, handler] of this._requestHandlers) {\n            if (!this._pendingRequestHandlers.has(method)) {\n                this._pendingRequestHandlers.set(method, handler);\n            }\n        }\n        for (const [token, data] of this._progressHandlers) {\n            if (!this._pendingProgressHandlers.has(token)) {\n                this._pendingProgressHandlers.set(token, data);\n            }\n        }\n        this.$state = ClientState.Starting;\n        try {\n            const connection = await this.createConnection();\n            connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, (message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        this.error(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        this.warn(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        this.info(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Debug:\n                        this.debug(message.message, undefined, false);\n                        break;\n                    default:\n                        this.outputChannel.appendLine(message.message);\n                }\n            });\n            connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, (message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        void vscode_1.window.showErrorMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        void vscode_1.window.showWarningMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        void vscode_1.window.showInformationMessage(message.message);\n                        break;\n                    default:\n                        void vscode_1.window.showInformationMessage(message.message);\n                }\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\n                let messageFunc;\n                switch (params.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        messageFunc = vscode_1.window.showErrorMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        messageFunc = vscode_1.window.showWarningMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                        break;\n                    default:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                }\n                let actions = params.actions || [];\n                return messageFunc(params.message, ...actions);\n            });\n            connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, (data) => {\n                this._telemetryEmitter.fire(data);\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, async (params) => {\n                const showDocument = async (params) => {\n                    const uri = this.protocol2CodeConverter.asUri(params.uri);\n                    try {\n                        if (params.external === true) {\n                            const success = await vscode_1.env.openExternal(uri);\n                            return { success };\n                        }\n                        else {\n                            const options = {};\n                            if (params.selection !== undefined) {\n                                options.selection = this.protocol2CodeConverter.asRange(params.selection);\n                            }\n                            if (params.takeFocus === undefined || params.takeFocus === false) {\n                                options.preserveFocus = true;\n                            }\n                            else if (params.takeFocus === true) {\n                                options.preserveFocus = false;\n                            }\n                            await vscode_1.window.showTextDocument(uri, options);\n                            return { success: true };\n                        }\n                    }\n                    catch (error) {\n                        return { success: false };\n                    }\n                };\n                const middleware = this._clientOptions.middleware.window?.showDocument;\n                if (middleware !== undefined) {\n                    return middleware(params, showDocument);\n                }\n                else {\n                    return showDocument(params);\n                }\n            });\n            connection.listen();\n            await this.initialize(connection);\n            resolve();\n        }\n        catch (error) {\n            this.$state = ClientState.StartFailed;\n            this.error(`${this._name} client: couldn't create connection to server.`, error, 'force');\n            reject(error);\n        }\n        return this._onStart;\n    }\n    createOnStartPromise() {\n        let resolve;\n        let reject;\n        const promise = new Promise((_resolve, _reject) => {\n            resolve = _resolve;\n            reject = _reject;\n        });\n        return [promise, resolve, reject];\n    }\n    async initialize(connection) {\n        this.refreshTrace(connection, false);\n        const initOption = this._clientOptions.initializationOptions;\n        // If the client is locked to a workspace folder use it. In this case the workspace folder\n        // feature is not registered and we need to initialize the value here.\n        const [rootPath, workspaceFolders] = this._clientOptions.workspaceFolder !== undefined\n            ? [this._clientOptions.workspaceFolder.uri.fsPath, [{ uri: this._c2p.asUri(this._clientOptions.workspaceFolder.uri), name: this._clientOptions.workspaceFolder.name }]]\n            : [this._clientGetRootPath(), null];\n        const initParams = {\n            processId: null,\n            clientInfo: {\n                name: vscode_1.env.appName,\n                version: vscode_1.version\n            },\n            locale: this.getLocale(),\n            rootPath: rootPath ? rootPath : null,\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\n            capabilities: this.computeClientCapabilities(),\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\n            workspaceFolders: workspaceFolders\n        };\n        this.fillInitializeParams(initParams);\n        if (this._clientOptions.progressOnInitialization) {\n            const token = UUID.generateUuid();\n            const part = new progressPart_1.ProgressPart(connection, token);\n            initParams.workDoneToken = token;\n            try {\n                const result = await this.doInitialize(connection, initParams);\n                part.done();\n                return result;\n            }\n            catch (error) {\n                part.cancel();\n                throw error;\n            }\n        }\n        else {\n            return this.doInitialize(connection, initParams);\n        }\n    }\n    async doInitialize(connection, initParams) {\n        try {\n            const result = await connection.initialize(initParams);\n            if (result.capabilities.positionEncoding !== undefined && result.capabilities.positionEncoding !== vscode_languageserver_protocol_1.PositionEncodingKind.UTF16) {\n                throw new Error(`Unsupported position encoding (${result.capabilities.positionEncoding}) received from server ${this.name}`);\n            }\n            this._initializeResult = result;\n            this.$state = ClientState.Running;\n            let textDocumentSyncOptions = undefined;\n            if (Is.number(result.capabilities.textDocumentSync)) {\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n                    textDocumentSyncOptions = {\n                        openClose: false,\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\n                        save: undefined\n                    };\n                }\n                else {\n                    textDocumentSyncOptions = {\n                        openClose: true,\n                        change: result.capabilities.textDocumentSync,\n                        save: {\n                            includeText: false\n                        }\n                    };\n                }\n            }\n            else if (result.capabilities.textDocumentSync !== undefined && result.capabilities.textDocumentSync !== null) {\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\n            }\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\n            connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params => this.handleDiagnostics(params));\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\n            // Add pending notification, request and progress handlers.\n            for (const [method, handler] of this._pendingNotificationHandlers) {\n                this._notificationDisposables.set(method, connection.onNotification(method, handler));\n            }\n            this._pendingNotificationHandlers.clear();\n            for (const [method, handler] of this._pendingRequestHandlers) {\n                this._requestDisposables.set(method, connection.onRequest(method, handler));\n            }\n            this._pendingRequestHandlers.clear();\n            for (const [token, data] of this._pendingProgressHandlers) {\n                this._progressDisposables.set(token, connection.onProgress(data.type, token, data.handler));\n            }\n            this._pendingProgressHandlers.clear();\n            // if (this._clientOptions.suspend.mode !== SuspendMode.off) {\n            // \tthis._idleInterval =  RAL().timer.setInterval(() => this.checkSuspend(), this._clientOptions.suspend.interval);\n            // }\n            await connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\n            this.hookFileEvents(connection);\n            this.hookConfigurationChanged(connection);\n            this.initializeFeatures(connection);\n            return result;\n        }\n        catch (error) {\n            if (this._clientOptions.initializationFailedHandler) {\n                if (this._clientOptions.initializationFailedHandler(error)) {\n                    void this.initialize(connection);\n                }\n                else {\n                    void this.stop();\n                }\n            }\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\n                void vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: 'retry' }).then(item => {\n                    if (item && item.id === 'retry') {\n                        void this.initialize(connection);\n                    }\n                    else {\n                        void this.stop();\n                    }\n                });\n            }\n            else {\n                if (error && error.message) {\n                    void vscode_1.window.showErrorMessage(error.message);\n                }\n                this.error('Server initialization failed.', error);\n                void this.stop();\n            }\n            throw error;\n        }\n    }\n    _clientGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    stop(timeout = 2000) {\n        // Wait 2 seconds on stop\n        return this.shutdown('stop', timeout);\n    }\n    dispose(timeout = 2000) {\n        try {\n            this._disposed = 'disposing';\n            return this.stop(timeout);\n        }\n        finally {\n            this._disposed = 'disposed';\n        }\n    }\n    async shutdown(mode, timeout) {\n        // If the client is stopped or in its initial state return.\n        if (this.$state === ClientState.Stopped || this.$state === ClientState.Initial) {\n            return;\n        }\n        // If we are stopping the client and have a stop promise return it.\n        if (this.$state === ClientState.Stopping) {\n            if (this._onStop !== undefined) {\n                return this._onStop;\n            }\n            else {\n                throw new Error(`Client is stopping but no stop promise available.`);\n            }\n        }\n        const connection = this.activeConnection();\n        // We can't stop a client that is not running (e.g. has no connection). Especially not\n        // on that us starting since it can't be correctly synchronized.\n        if (connection === undefined || this.$state !== ClientState.Running) {\n            throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);\n        }\n        this._initializeResult = undefined;\n        this.$state = ClientState.Stopping;\n        this.cleanUp(mode);\n        const tp = new Promise(c => { (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(c, timeout); });\n        const shutdown = (async (connection) => {\n            await connection.shutdown();\n            await connection.exit();\n            return connection;\n        })(connection);\n        return this._onStop = Promise.race([tp, shutdown]).then((connection) => {\n            // The connection won the race with the timeout.\n            if (connection !== undefined) {\n                connection.end();\n                connection.dispose();\n            }\n            else {\n                this.error(`Stopping server timed out`, undefined, false);\n                throw new Error(`Stopping the server timed out`);\n            }\n        }, (error) => {\n            this.error(`Stopping server failed`, error, false);\n            throw error;\n        }).finally(() => {\n            this.$state = ClientState.Stopped;\n            mode === 'stop' && this.cleanUpChannel();\n            this._onStart = undefined;\n            this._onStop = undefined;\n            this._connection = undefined;\n            this._ignoredRegistrations.clear();\n        });\n    }\n    cleanUp(mode) {\n        // purge outstanding file events.\n        this._fileEvents = [];\n        this._fileEventDelayer.cancel();\n        const disposables = this._listeners.splice(0, this._listeners.length);\n        for (const disposable of disposables) {\n            disposable.dispose();\n        }\n        if (this._syncedDocuments) {\n            this._syncedDocuments.clear();\n        }\n        // Clear features in reverse order;\n        for (const feature of Array.from(this._features.entries()).map(entry => entry[1]).reverse()) {\n            feature.clear();\n        }\n        if (mode === 'stop' && this._diagnostics !== undefined) {\n            this._diagnostics.dispose();\n            this._diagnostics = undefined;\n        }\n        if (this._idleInterval !== undefined) {\n            this._idleInterval.dispose();\n            this._idleInterval = undefined;\n        }\n        // this._idleStart = undefined;\n    }\n    cleanUpChannel() {\n        if (this._outputChannel !== undefined && this._disposeOutputChannel) {\n            this._outputChannel.dispose();\n            this._outputChannel = undefined;\n        }\n    }\n    notifyFileEvent(event) {\n        const client = this;\n        async function didChangeWatchedFile(event) {\n            client._fileEvents.push(event);\n            return client._fileEventDelayer.trigger(async () => {\n                await client.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, { changes: client._fileEvents });\n                client._fileEvents = [];\n            });\n        }\n        const workSpaceMiddleware = this.clientOptions.middleware?.workspace;\n        (workSpaceMiddleware?.didChangeWatchedFile ? workSpaceMiddleware.didChangeWatchedFile(event, didChangeWatchedFile) : didChangeWatchedFile(event)).catch((error) => {\n            client.error(`Notify file events failed.`, error);\n        });\n    }\n    async sendPendingFullTextDocumentChanges(connection) {\n        return this._pendingChangeSemaphore.lock(async () => {\n            try {\n                const changes = this._didChangeTextDocumentFeature.getPendingDocumentChanges(this._pendingOpenNotifications);\n                if (changes.length === 0) {\n                    return;\n                }\n                for (const document of changes) {\n                    const params = this.code2ProtocolConverter.asChangeTextDocumentParams(document);\n                    // We await the send and not the delivery since it is more or less the same for\n                    // notifications.\n                    await connection.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                    this._didChangeTextDocumentFeature.notificationSent(document, vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                }\n            }\n            catch (error) {\n                this.error(`Sending pending changes failed`, error, false);\n                throw error;\n            }\n        });\n    }\n    triggerPendingChangeDelivery() {\n        this._pendingChangeDelayer.trigger(async () => {\n            const connection = this.activeConnection();\n            if (connection === undefined) {\n                this.triggerPendingChangeDelivery();\n                return;\n            }\n            await this.sendPendingFullTextDocumentChanges(connection);\n        }).catch((error) => this.error(`Delivering pending changes failed`, error, false));\n    }\n    handleDiagnostics(params) {\n        if (!this._diagnostics) {\n            return;\n        }\n        const key = params.uri;\n        if (this._diagnosticQueueState.state === 'busy' && this._diagnosticQueueState.document === key) {\n            // Cancel the active run;\n            this._diagnosticQueueState.tokenSource.cancel();\n        }\n        this._diagnosticQueue.set(params.uri, params.diagnostics);\n        this.triggerDiagnosticQueue();\n    }\n    triggerDiagnosticQueue() {\n        (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => { this.workDiagnosticQueue(); });\n    }\n    workDiagnosticQueue() {\n        if (this._diagnosticQueueState.state === 'busy') {\n            return;\n        }\n        const next = this._diagnosticQueue.entries().next();\n        if (next.done === true) {\n            // Nothing in the queue\n            return;\n        }\n        const [document, diagnostics] = next.value;\n        this._diagnosticQueue.delete(document);\n        const tokenSource = new vscode_1.CancellationTokenSource();\n        this._diagnosticQueueState = { state: 'busy', document: document, tokenSource };\n        this._p2c.asDiagnostics(diagnostics, tokenSource.token).then((converted) => {\n            if (!tokenSource.token.isCancellationRequested) {\n                const uri = this._p2c.asUri(document);\n                const middleware = this.clientOptions.middleware;\n                if (middleware.handleDiagnostics) {\n                    middleware.handleDiagnostics(uri, converted, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\n                }\n                else {\n                    this.setDiagnostics(uri, converted);\n                }\n            }\n        }).finally(() => {\n            this._diagnosticQueueState = { state: 'idle' };\n            this.triggerDiagnosticQueue();\n        });\n    }\n    setDiagnostics(uri, diagnostics) {\n        if (!this._diagnostics) {\n            return;\n        }\n        this._diagnostics.set(uri, diagnostics);\n    }\n    getLocale() {\n        return vscode_1.env.language;\n    }\n    async $start() {\n        if (this.$state === ClientState.StartFailed) {\n            throw new Error(`Previous start failed. Can't restart server.`);\n        }\n        await this.start();\n        const connection = this.activeConnection();\n        if (connection === undefined) {\n            throw new Error(`Starting server failed`);\n        }\n        return connection;\n    }\n    async createConnection() {\n        let errorHandler = (error, message, count) => {\n            this.handleConnectionError(error, message, count).catch((error) => this.error(`Handling connection error failed`, error));\n        };\n        let closeHandler = () => {\n            this.handleConnectionClosed().catch((error) => this.error(`Handling connection close failed`, error));\n        };\n        const transports = await this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8');\n        this._connection = createConnection(transports.reader, transports.writer, errorHandler, closeHandler, this._clientOptions.connectionOptions);\n        return this._connection;\n    }\n    async handleConnectionClosed() {\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\n        if (this.$state === ClientState.Stopped) {\n            return;\n        }\n        try {\n            if (this._connection !== undefined) {\n                this._connection.dispose();\n            }\n        }\n        catch (error) {\n            // Disposing a connection could fail if error cases.\n        }\n        let handlerResult = { action: CloseAction.DoNotRestart };\n        if (this.$state !== ClientState.Stopping) {\n            try {\n                handlerResult = await this._clientOptions.errorHandler.closed();\n            }\n            catch (error) {\n                // Ignore errors coming from the error handler.\n            }\n        }\n        this._connection = undefined;\n        if (handlerResult.action === CloseAction.DoNotRestart) {\n            this.error(handlerResult.message ?? 'Connection to server got closed. Server will not be restarted.', undefined, handlerResult.handled === true ? false : 'force');\n            this.cleanUp('stop');\n            if (this.$state === ClientState.Starting) {\n                this.$state = ClientState.StartFailed;\n            }\n            else {\n                this.$state = ClientState.Stopped;\n            }\n            this._onStop = Promise.resolve();\n            this._onStart = undefined;\n        }\n        else if (handlerResult.action === CloseAction.Restart) {\n            this.info(handlerResult.message ?? 'Connection to server got closed. Server will restart.', !handlerResult.handled);\n            this.cleanUp('restart');\n            this.$state = ClientState.Initial;\n            this._onStop = Promise.resolve();\n            this._onStart = undefined;\n            this.start().catch((error) => this.error(`Restarting server failed`, error, 'force'));\n        }\n    }\n    async handleConnectionError(error, message, count) {\n        const handlerResult = await this._clientOptions.errorHandler.error(error, message, count);\n        if (handlerResult.action === ErrorAction.Shutdown) {\n            this.error(handlerResult.message ?? `Client ${this._name}: connection to server is erroring.\\n${error.message}\\nShutting down server.`, undefined, handlerResult.handled === true ? false : 'force');\n            this.stop().catch((error) => {\n                this.error(`Stopping server failed`, error, false);\n            });\n        }\n        else {\n            this.error(handlerResult.message ??\n                `Client ${this._name}: connection to server is erroring.\\n${error.message}`, undefined, handlerResult.handled === true ? false : 'force');\n        }\n    }\n    hookConfigurationChanged(connection) {\n        this._listeners.push(vscode_1.workspace.onDidChangeConfiguration(() => {\n            this.refreshTrace(connection, true);\n        }));\n    }\n    refreshTrace(connection, sendNotification = false) {\n        const config = vscode_1.workspace.getConfiguration(this._id);\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        if (config) {\n            const traceConfig = config.get('trace.server', 'off');\n            if (typeof traceConfig === 'string') {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\n            }\n            else {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\n            }\n        }\n        this._trace = trace;\n        this._traceFormat = traceFormat;\n        connection.trace(this._trace, this._tracer, {\n            sendNotification,\n            traceFormat: this._traceFormat\n        }).catch((error) => { this.error(`Updating trace failed with error`, error, false); });\n    }\n    hookFileEvents(_connection) {\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\n        if (!fileEvents) {\n            return;\n        }\n        let watchers;\n        if (Is.array(fileEvents)) {\n            watchers = fileEvents;\n        }\n        else {\n            watchers = [fileEvents];\n        }\n        if (!watchers) {\n            return;\n        }\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\n    }\n    registerFeatures(features) {\n        for (let feature of features) {\n            this.registerFeature(feature);\n        }\n    }\n    registerFeature(feature) {\n        this._features.push(feature);\n        if (features_1.DynamicFeature.is(feature)) {\n            const registrationType = feature.registrationType;\n            this._dynamicFeatures.set(registrationType.method, feature);\n        }\n    }\n    getFeature(request) {\n        return this._dynamicFeatures.get(request);\n    }\n    hasDedicatedTextSynchronizationFeature(textDocument) {\n        const feature = this.getFeature(vscode_languageserver_protocol_1.NotebookDocumentSyncRegistrationType.method);\n        if (feature === undefined || !(feature instanceof notebook_1.NotebookDocumentSyncFeature)) {\n            return false;\n        }\n        return feature.handles(textDocument);\n    }\n    registerBuiltinFeatures() {\n        const pendingFullTextDocumentChanges = new Map();\n        this.registerFeature(new configuration_1.ConfigurationFeature(this));\n        this.registerFeature(new textSynchronization_1.DidOpenTextDocumentFeature(this, this._syncedDocuments));\n        this._didChangeTextDocumentFeature = new textSynchronization_1.DidChangeTextDocumentFeature(this, pendingFullTextDocumentChanges);\n        this._didChangeTextDocumentFeature.onPendingChangeAdded(() => {\n            this.triggerPendingChangeDelivery();\n        });\n        this.registerFeature(this._didChangeTextDocumentFeature);\n        this.registerFeature(new textSynchronization_1.WillSaveFeature(this));\n        this.registerFeature(new textSynchronization_1.WillSaveWaitUntilFeature(this));\n        this.registerFeature(new textSynchronization_1.DidSaveTextDocumentFeature(this));\n        this.registerFeature(new textSynchronization_1.DidCloseTextDocumentFeature(this, this._syncedDocuments, pendingFullTextDocumentChanges));\n        this.registerFeature(new fileSystemWatcher_1.FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\n        this.registerFeature(new completion_1.CompletionItemFeature(this));\n        this.registerFeature(new hover_1.HoverFeature(this));\n        this.registerFeature(new signatureHelp_1.SignatureHelpFeature(this));\n        this.registerFeature(new definition_1.DefinitionFeature(this));\n        this.registerFeature(new reference_1.ReferencesFeature(this));\n        this.registerFeature(new documentHighlight_1.DocumentHighlightFeature(this));\n        this.registerFeature(new documentSymbol_1.DocumentSymbolFeature(this));\n        this.registerFeature(new workspaceSymbol_1.WorkspaceSymbolFeature(this));\n        this.registerFeature(new codeAction_1.CodeActionFeature(this));\n        this.registerFeature(new codeLens_1.CodeLensFeature(this));\n        this.registerFeature(new formatting_1.DocumentFormattingFeature(this));\n        this.registerFeature(new formatting_1.DocumentRangeFormattingFeature(this));\n        this.registerFeature(new formatting_1.DocumentOnTypeFormattingFeature(this));\n        this.registerFeature(new rename_1.RenameFeature(this));\n        this.registerFeature(new documentLink_1.DocumentLinkFeature(this));\n        this.registerFeature(new executeCommand_1.ExecuteCommandFeature(this));\n        this.registerFeature(new configuration_1.SyncConfigurationFeature(this));\n        this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));\n        this.registerFeature(new implementation_1.ImplementationFeature(this));\n        this.registerFeature(new colorProvider_1.ColorProviderFeature(this));\n        // We only register the workspace folder feature if the client is not locked\n        // to a specific workspace folder.\n        if (this.clientOptions.workspaceFolder === undefined) {\n            this.registerFeature(new workspaceFolder_1.WorkspaceFoldersFeature(this));\n        }\n        this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));\n        this.registerFeature(new declaration_1.DeclarationFeature(this));\n        this.registerFeature(new selectionRange_1.SelectionRangeFeature(this));\n        this.registerFeature(new progress_1.ProgressFeature(this));\n        this.registerFeature(new callHierarchy_1.CallHierarchyFeature(this));\n        this.registerFeature(new semanticTokens_1.SemanticTokensFeature(this));\n        this.registerFeature(new linkedEditingRange_1.LinkedEditingFeature(this));\n        this.registerFeature(new fileOperations_1.DidCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidDeleteFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillDeleteFilesFeature(this));\n        this.registerFeature(new typeHierarchy_1.TypeHierarchyFeature(this));\n        this.registerFeature(new inlineValue_1.InlineValueFeature(this));\n        this.registerFeature(new inlayHint_1.InlayHintsFeature(this));\n        this.registerFeature(new diagnostic_1.DiagnosticFeature(this));\n        this.registerFeature(new notebook_1.NotebookDocumentSyncFeature(this));\n    }\n    registerProposedFeatures() {\n        this.registerFeatures(ProposedFeatures.createAll(this));\n    }\n    fillInitializeParams(params) {\n        for (let feature of this._features) {\n            if (Is.func(feature.fillInitializeParams)) {\n                feature.fillInitializeParams(params);\n            }\n        }\n    }\n    computeClientCapabilities() {\n        const result = {};\n        (0, features_1.ensure)(result, 'workspace').applyEdit = true;\n        const workspaceEdit = (0, features_1.ensure)((0, features_1.ensure)(result, 'workspace'), 'workspaceEdit');\n        workspaceEdit.documentChanges = true;\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\n        workspaceEdit.normalizesLineEndings = true;\n        workspaceEdit.changeAnnotationSupport = {\n            groupsOnLabel: true\n        };\n        const diagnostics = (0, features_1.ensure)((0, features_1.ensure)(result, 'textDocument'), 'publishDiagnostics');\n        diagnostics.relatedInformation = true;\n        diagnostics.versionSupport = false;\n        diagnostics.tagSupport = { valueSet: [vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary, vscode_languageserver_protocol_1.DiagnosticTag.Deprecated] };\n        diagnostics.codeDescriptionSupport = true;\n        diagnostics.dataSupport = true;\n        const windowCapabilities = (0, features_1.ensure)(result, 'window');\n        const showMessage = (0, features_1.ensure)(windowCapabilities, 'showMessage');\n        showMessage.messageActionItem = { additionalPropertiesSupport: true };\n        const showDocument = (0, features_1.ensure)(windowCapabilities, 'showDocument');\n        showDocument.support = true;\n        const generalCapabilities = (0, features_1.ensure)(result, 'general');\n        generalCapabilities.staleRequestSupport = {\n            cancel: true,\n            retryOnContentModified: Array.from(BaseLanguageClient.RequestsToCancelOnContentModified)\n        };\n        generalCapabilities.regularExpressions = { engine: 'ECMAScript', version: 'ES2020' };\n        generalCapabilities.markdown = {\n            parser: 'marked',\n            version: '1.1.0',\n        };\n        generalCapabilities.positionEncodings = ['utf-16'];\n        if (this._clientOptions.markdown.supportHtml) {\n            generalCapabilities.markdown.allowedTags = ['ul', 'li', 'p', 'code', 'blockquote', 'ol', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'em', 'pre', 'table', 'thead', 'tbody', 'tr', 'th', 'td', 'div', 'del', 'a', 'strong', 'br', 'img', 'span'];\n        }\n        for (let feature of this._features) {\n            feature.fillClientCapabilities(result);\n        }\n        return result;\n    }\n    initializeFeatures(_connection) {\n        const documentSelector = this._clientOptions.documentSelector;\n        for (const feature of this._features) {\n            if (Is.func(feature.preInitialize)) {\n                feature.preInitialize(this._capabilities, documentSelector);\n            }\n        }\n        for (const feature of this._features) {\n            feature.initialize(this._capabilities, documentSelector);\n        }\n    }\n    async handleRegistrationRequest(params) {\n        const middleware = this.clientOptions.middleware?.handleRegisterCapability;\n        if (middleware) {\n            return middleware(params, nextParams => this.doRegisterCapability(nextParams));\n        }\n        else {\n            return this.doRegisterCapability(params);\n        }\n    }\n    async doRegisterCapability(params) {\n        // We will not receive a registration call before a client is running\n        // from a server. However if we stop or shutdown we might which might\n        // try to restart the server. So ignore registrations if we are not running\n        if (!this.isRunning()) {\n            for (const registration of params.registrations) {\n                this._ignoredRegistrations.add(registration.id);\n            }\n            return;\n        }\n        for (const registration of params.registrations) {\n            const feature = this._dynamicFeatures.get(registration.method);\n            if (feature === undefined) {\n                return Promise.reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\n            }\n            const options = registration.registerOptions ?? {};\n            options.documentSelector = options.documentSelector ?? this._clientOptions.documentSelector;\n            const data = {\n                id: registration.id,\n                registerOptions: options\n            };\n            try {\n                feature.register(data);\n            }\n            catch (err) {\n                return Promise.reject(err);\n            }\n        }\n    }\n    async handleUnregistrationRequest(params) {\n        const middleware = this.clientOptions.middleware?.handleUnregisterCapability;\n        if (middleware) {\n            return middleware(params, nextParams => this.doUnregisterCapability(nextParams));\n        }\n        else {\n            return this.doUnregisterCapability(params);\n        }\n    }\n    async doUnregisterCapability(params) {\n        for (const unregistration of params.unregisterations) {\n            if (this._ignoredRegistrations.has(unregistration.id)) {\n                continue;\n            }\n            const feature = this._dynamicFeatures.get(unregistration.method);\n            if (!feature) {\n                return Promise.reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\n            }\n            feature.unregister(unregistration.id);\n        }\n    }\n    async handleApplyWorkspaceEdit(params) {\n        const workspaceEdit = params.edit;\n        // Make sure we convert workspace edits one after the other. Otherwise\n        // we might execute a workspace edit received first after we received another\n        // one since the conversion might race.\n        const converted = await this.workspaceEditLock.lock(() => {\n            return this._p2c.asWorkspaceEdit(workspaceEdit);\n        });\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\n        // However doing it here adds some safety since the server can lag more behind then an extension.\n        const openTextDocuments = new Map();\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\n        let versionMismatch = false;\n        if (workspaceEdit.documentChanges) {\n            for (const change of workspaceEdit.documentChanges) {\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\n                    const changeUri = this._p2c.asUri(change.textDocument.uri).toString();\n                    const textDocument = openTextDocuments.get(changeUri);\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\n                        versionMismatch = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (versionMismatch) {\n            return Promise.resolve({ applied: false });\n        }\n        return Is.asPromise(vscode_1.workspace.applyEdit(converted).then((value) => { return { applied: value }; }));\n    }\n    handleFailedRequest(type, token, error, defaultValue, showNotification = true) {\n        // If we get a request cancel or a content modified don't log anything.\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError) {\n            // The connection got disposed while we were waiting for a response.\n            // Simply return the default value. Is the best we can do.\n            if (error.code === vscode_languageserver_protocol_1.ErrorCodes.PendingResponseRejected || error.code === vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive) {\n                return defaultValue;\n            }\n            if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.RequestCancelled || error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ServerCancelled) {\n                if (token !== undefined && token.isCancellationRequested) {\n                    return defaultValue;\n                }\n                else {\n                    if (error.data !== undefined) {\n                        throw new features_1.LSPCancellationError(error.data);\n                    }\n                    else {\n                        throw new vscode_1.CancellationError();\n                    }\n                }\n            }\n            else if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ContentModified) {\n                if (BaseLanguageClient.RequestsToCancelOnContentModified.has(type.method) || BaseLanguageClient.CancellableResolveCalls.has(type.method)) {\n                    throw new vscode_1.CancellationError();\n                }\n                else {\n                    return defaultValue;\n                }\n            }\n        }\n        this.error(`Request ${type.method} failed.`, error, showNotification);\n        throw error;\n    }\n}\nexports.BaseLanguageClient = BaseLanguageClient;\nBaseLanguageClient.RequestsToCancelOnContentModified = new Set([\n    vscode_languageserver_protocol_1.SemanticTokensRequest.method,\n    vscode_languageserver_protocol_1.SemanticTokensRangeRequest.method,\n    vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.method\n]);\nBaseLanguageClient.CancellableResolveCalls = new Set([\n    vscode_languageserver_protocol_1.CompletionResolveRequest.method,\n    vscode_languageserver_protocol_1.CodeLensResolveRequest.method,\n    vscode_languageserver_protocol_1.CodeActionResolveRequest.method,\n    vscode_languageserver_protocol_1.InlayHintResolveRequest.method,\n    vscode_languageserver_protocol_1.DocumentLinkResolveRequest.method,\n    vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.method\n]);\nclass ConsoleLogger {\n    error(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.error(message);\n    }\n    warn(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.warn(message);\n    }\n    info(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.info(message);\n    }\n    log(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.log(message);\n    }\n}\nfunction createConnection(input, output, errorHandler, closeHandler, options) {\n    const logger = new ConsoleLogger();\n    const connection = (0, vscode_languageserver_protocol_1.createProtocolConnection)(input, output, logger, options);\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\n    connection.onClose(closeHandler);\n    const result = {\n        listen: () => connection.listen(),\n        sendRequest: connection.sendRequest,\n        onRequest: connection.onRequest,\n        hasPendingResponse: connection.hasPendingResponse,\n        sendNotification: connection.sendNotification,\n        onNotification: connection.onNotification,\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\n            const defaultTraceOptions = {\n                sendNotification: false,\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\n            };\n            if (sendNotificationOrTraceOptions === undefined) {\n                return connection.trace(value, tracer, defaultTraceOptions);\n            }\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\n                return connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n            else {\n                return connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n        },\n        initialize: (params) => {\n            // This needs to return and MUST not be await to avoid any async\n            // scheduling. Otherwise messages might overtake each other.\n            return connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params);\n        },\n        shutdown: () => {\n            // This needs to return and MUST not be await to avoid any async\n            // scheduling. Otherwise messages might overtake each other.\n            return connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined);\n        },\n        exit: () => {\n            // This needs to return and MUST not be await to avoid any async\n            // scheduling. Otherwise messages might overtake each other.\n            return connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type);\n        },\n        end: () => connection.end(),\n        dispose: () => connection.dispose()\n    };\n    return result;\n}\n// Exporting proposed protocol.\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    function createAll(_client) {\n        let result = [\n            new inlineCompletion_1.InlineCompletionItemFeature(_client)\n        ];\n        return result;\n    }\n    ProposedFeatures.createAll = createAll;\n})(ProposedFeatures || (exports.ProposedFeatures = ProposedFeatures = {}));\n","'use strict'\n\n// parse out just the options we care about\nconst looseOption = Object.freeze({ loose: true })\nconst emptyOpts = Object.freeze({ })\nconst parseOptions = options => {\n  if (!options) {\n    return emptyOpts\n  }\n\n  if (typeof options !== 'object') {\n    return looseOption\n  }\n\n  return options\n}\nmodule.exports = parseOptions\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass CallHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.middleware;\n    }\n    prepareCallHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareCallHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, token, error, null);\n            });\n        };\n        return middleware.prepareCallHierarchy\n            ? middleware.prepareCallHierarchy(document, position, token, prepareCallHierarchy)\n            : prepareCallHierarchy(document, position, token);\n    }\n    provideCallHierarchyIncomingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyIncomingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyIncomingCalls\n            ? middleware.provideCallHierarchyIncomingCalls(item, token, provideCallHierarchyIncomingCalls)\n            : provideCallHierarchyIncomingCalls(item, token);\n    }\n    provideCallHierarchyOutgoingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyOutgoingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyOutgoingCalls\n            ? middleware.provideCallHierarchyOutgoingCalls(item, token, provideCallHierarchyOutgoingCalls)\n            : provideCallHierarchyOutgoingCalls(item, token);\n    }\n}\nclass CallHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(cap) {\n        const capabilities = cap;\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'callHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.callHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new CallHierarchyProvider(client);\n        return [vscode_1.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n    }\n}\nexports.CallHierarchyFeature = CallHierarchyFeature;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter || (exports.MessageWriter = MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n","'use strict';\n\nfunction stringifyNumber({ format, minFractionDigits, tag, value }) {\n    if (typeof value === 'bigint')\n        return String(value);\n    const num = typeof value === 'number' ? value : Number(value);\n    if (!isFinite(num))\n        return isNaN(num) ? '.nan' : num < 0 ? '-.inf' : '.inf';\n    let n = JSON.stringify(value);\n    if (!format &&\n        minFractionDigits &&\n        (!tag || tag === 'tag:yaml.org,2002:float') &&\n        /^\\d/.test(n)) {\n        let i = n.indexOf('.');\n        if (i < 0) {\n            i = n.length;\n            n += '.';\n        }\n        let d = minFractionDigits - (n.length - i - 1);\n        while (d-- > 0)\n            n += '0';\n    }\n    return n;\n}\n\nexports.stringifyNumber = stringifyNumber;\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nconst semaphore_1 = require(\"./semaphore\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader || (exports.MessageReader = MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.readSemaphore = new semaphore_1.Semaphore(1);\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        try {\n            this.buffer.append(data);\n            while (true) {\n                if (this.nextMessageLength === -1) {\n                    const headers = this.buffer.tryReadHeaders(true);\n                    if (!headers) {\n                        return;\n                    }\n                    const contentLength = headers.get('content-length');\n                    if (!contentLength) {\n                        this.fireError(new Error(`Header must provide a Content-Length property.\\n${JSON.stringify(Object.fromEntries(headers))}`));\n                        return;\n                    }\n                    const length = parseInt(contentLength);\n                    if (isNaN(length)) {\n                        this.fireError(new Error(`Content-Length value must be a number. Got ${contentLength}`));\n                        return;\n                    }\n                    this.nextMessageLength = length;\n                }\n                const body = this.buffer.tryReadBody(this.nextMessageLength);\n                if (body === undefined) {\n                    /** We haven't received the full message yet. */\n                    this.setPartialMessageTimer();\n                    return;\n                }\n                this.clearPartialMessageTimer();\n                this.nextMessageLength = -1;\n                // Make sure that we convert one received message after the\n                // other. Otherwise it could happen that a decoding of a second\n                // smaller message finished before the decoding of a first larger\n                // message and then we would deliver the second message first.\n                this.readSemaphore.lock(async () => {\n                    const bytes = this.options.contentDecoder !== undefined\n                        ? await this.options.contentDecoder.decode(body)\n                        : body;\n                    const message = await this.options.contentTypeDecoder.decode(bytes, this.options);\n                    this.callback(message);\n                }).catch((error) => {\n                    this.fireError(error);\n                });\n            }\n        }\n        catch (error) {\n            this.fireError(error);\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n","'use strict';\n\nvar Scalar = require('../../nodes/Scalar.js');\n\nfunction boolStringify({ value, source }, ctx) {\n    const boolObj = value ? trueTag : falseTag;\n    if (source && boolObj.test.test(source))\n        return source;\n    return value ? ctx.options.trueStr : ctx.options.falseStr;\n}\nconst trueTag = {\n    identify: value => value === true,\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,\n    resolve: () => new Scalar.Scalar(true),\n    stringify: boolStringify\n};\nconst falseTag = {\n    identify: value => value === false,\n    default: true,\n    tag: 'tag:yaml.org,2002:bool',\n    test: /^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/,\n    resolve: () => new Scalar.Scalar(false),\n    stringify: boolStringify\n};\n\nexports.falseTag = falseTag;\nexports.trueTag = trueTag;\n","'use strict';\n\nvar map = require('./common/map.js');\nvar _null = require('./common/null.js');\nvar seq = require('./common/seq.js');\nvar string = require('./common/string.js');\nvar bool = require('./core/bool.js');\nvar float = require('./core/float.js');\nvar int = require('./core/int.js');\nvar schema = require('./core/schema.js');\nvar schema$1 = require('./json/schema.js');\nvar binary = require('./yaml-1.1/binary.js');\nvar merge = require('./yaml-1.1/merge.js');\nvar omap = require('./yaml-1.1/omap.js');\nvar pairs = require('./yaml-1.1/pairs.js');\nvar schema$2 = require('./yaml-1.1/schema.js');\nvar set = require('./yaml-1.1/set.js');\nvar timestamp = require('./yaml-1.1/timestamp.js');\n\nconst schemas = new Map([\n    ['core', schema.schema],\n    ['failsafe', [map.map, seq.seq, string.string]],\n    ['json', schema$1.schema],\n    ['yaml11', schema$2.schema],\n    ['yaml-1.1', schema$2.schema]\n]);\nconst tagsByName = {\n    binary: binary.binary,\n    bool: bool.boolTag,\n    float: float.float,\n    floatExp: float.floatExp,\n    floatNaN: float.floatNaN,\n    floatTime: timestamp.floatTime,\n    int: int.int,\n    intHex: int.intHex,\n    intOct: int.intOct,\n    intTime: timestamp.intTime,\n    map: map.map,\n    merge: merge.merge,\n    null: _null.nullTag,\n    omap: omap.omap,\n    pairs: pairs.pairs,\n    seq: seq.seq,\n    set: set.set,\n    timestamp: timestamp.timestamp\n};\nconst coreKnownTags = {\n    'tag:yaml.org,2002:binary': binary.binary,\n    'tag:yaml.org,2002:merge': merge.merge,\n    'tag:yaml.org,2002:omap': omap.omap,\n    'tag:yaml.org,2002:pairs': pairs.pairs,\n    'tag:yaml.org,2002:set': set.set,\n    'tag:yaml.org,2002:timestamp': timestamp.timestamp\n};\nfunction getTags(customTags, schemaName, addMergeTag) {\n    const schemaTags = schemas.get(schemaName);\n    if (schemaTags && !customTags) {\n        return addMergeTag && !schemaTags.includes(merge.merge)\n            ? schemaTags.concat(merge.merge)\n            : schemaTags.slice();\n    }\n    let tags = schemaTags;\n    if (!tags) {\n        if (Array.isArray(customTags))\n            tags = [];\n        else {\n            const keys = Array.from(schemas.keys())\n                .filter(key => key !== 'yaml11')\n                .map(key => JSON.stringify(key))\n                .join(', ');\n            throw new Error(`Unknown schema \"${schemaName}\"; use one of ${keys} or define customTags array`);\n        }\n    }\n    if (Array.isArray(customTags)) {\n        for (const tag of customTags)\n            tags = tags.concat(tag);\n    }\n    else if (typeof customTags === 'function') {\n        tags = customTags(tags.slice());\n    }\n    if (addMergeTag)\n        tags = tags.concat(merge.merge);\n    return tags.reduce((tags, tag) => {\n        const tagObj = typeof tag === 'string' ? tagsByName[tag] : tag;\n        if (!tagObj) {\n            const tagName = JSON.stringify(tag);\n            const keys = Object.keys(tagsByName)\n                .map(key => JSON.stringify(key))\n                .join(', ');\n            throw new Error(`Unknown custom tag ${tagName}; use one of ${keys}`);\n        }\n        if (!tags.includes(tagObj))\n            tags.push(tagObj);\n        return tags;\n    }, []);\n}\n\nexports.coreKnownTags = coreKnownTags;\nexports.getTags = getTags;\n","module.exports = require(\"fs\");","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolInlayHint extends code.InlayHint {\n    constructor(position, label, kind) {\n        super(position, label, kind);\n    }\n}\nexports.default = ProtocolInlayHint;\n","'use strict'\n\nconst SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","'use strict';\n\nconst BREAK = Symbol('break visit');\nconst SKIP = Symbol('skip children');\nconst REMOVE = Symbol('remove item');\n/**\n * Apply a visitor to a CST document or item.\n *\n * Walks through the tree (depth-first) starting from the root, calling a\n * `visitor` function with two arguments when entering each item:\n *   - `item`: The current item, which included the following members:\n *     - `start: SourceToken[]`  Source tokens before the key or value,\n *       possibly including its anchor or tag.\n *     - `key?: Token | null`  Set for pair values. May then be `null`, if\n *       the key before the `:` separator is empty.\n *     - `sep?: SourceToken[]`  Source tokens between the key and the value,\n *       which should include the `:` map value indicator if `value` is set.\n *     - `value?: Token`  The value of a sequence item, or of a map pair.\n *   - `path`: The steps from the root to the current node, as an array of\n *     `['key' | 'value', number]` tuples.\n *\n * The return value of the visitor may be used to control the traversal:\n *   - `undefined` (default): Do nothing and continue\n *   - `visit.SKIP`: Do not visit the children of this token, continue with\n *      next sibling\n *   - `visit.BREAK`: Terminate traversal completely\n *   - `visit.REMOVE`: Remove the current item, then continue with the next one\n *   - `number`: Set the index of the next step. This is useful especially if\n *     the index of the current token has changed.\n *   - `function`: Define the next visitor for this item. After the original\n *     visitor is called on item entry, next visitors are called after handling\n *     a non-empty `key` and when exiting the item.\n */\nfunction visit(cst, visitor) {\n    if ('type' in cst && cst.type === 'document')\n        cst = { start: cst.start, value: cst.value };\n    _visit(Object.freeze([]), cst, visitor);\n}\n// Without the `as symbol` casts, TS declares these in the `visit`\n// namespace using `var`, but then complains about that because\n// `unique symbol` must be `const`.\n/** Terminate visit traversal completely */\nvisit.BREAK = BREAK;\n/** Do not visit the children of the current item */\nvisit.SKIP = SKIP;\n/** Remove the current item */\nvisit.REMOVE = REMOVE;\n/** Find the item at `path` from `cst` as the root */\nvisit.itemAtPath = (cst, path) => {\n    let item = cst;\n    for (const [field, index] of path) {\n        const tok = item?.[field];\n        if (tok && 'items' in tok) {\n            item = tok.items[index];\n        }\n        else\n            return undefined;\n    }\n    return item;\n};\n/**\n * Get the immediate parent collection of the item at `path` from `cst` as the root.\n *\n * Throws an error if the collection is not found, which should never happen if the item itself exists.\n */\nvisit.parentCollection = (cst, path) => {\n    const parent = visit.itemAtPath(cst, path.slice(0, -1));\n    const field = path[path.length - 1][0];\n    const coll = parent?.[field];\n    if (coll && 'items' in coll)\n        return coll;\n    throw new Error('Parent collection not found');\n};\nfunction _visit(path, item, visitor) {\n    let ctrl = visitor(item, path);\n    if (typeof ctrl === 'symbol')\n        return ctrl;\n    for (const field of ['key', 'value']) {\n        const token = item[field];\n        if (token && 'items' in token) {\n            for (let i = 0; i < token.items.length; ++i) {\n                const ci = _visit(Object.freeze(path.concat([[field, i]])), token.items[i], visitor);\n                if (typeof ci === 'number')\n                    i = ci - 1;\n                else if (ci === BREAK)\n                    return BREAK;\n                else if (ci === REMOVE) {\n                    token.items.splice(i, 1);\n                    i -= 1;\n                }\n            }\n            if (typeof ctrl === 'function' && field === 'key')\n                ctrl = ctrl(item, path);\n        }\n    }\n    return typeof ctrl === 'function' ? ctrl(item, path) : ctrl;\n}\n\nexports.visit = visit;\n","'use strict'\n\nconst debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { safeRe: re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n        version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid version. Must be a string. Got type \"${typeof version}\".`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    if (this.major < other.major) {\n      return -1\n    }\n    if (this.major > other.major) {\n      return 1\n    }\n    if (this.minor < other.minor) {\n      return -1\n    }\n    if (this.minor > other.minor) {\n      return 1\n    }\n    if (this.patch < other.patch) {\n      return -1\n    }\n    if (this.patch > other.patch) {\n      return 1\n    }\n    return 0\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('build compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier, identifierBase) {\n    if (release.startsWith('pre')) {\n      if (!identifier && identifierBase === false) {\n        throw new Error('invalid increment argument: identifier is empty')\n      }\n      // Avoid an invalid semver results\n      if (identifier) {\n        const match = `-${identifier}`.match(this.options.loose ? re[t.PRERELEASELOOSE] : re[t.PRERELEASE])\n        if (!match || match[1] !== identifier) {\n          throw new Error(`invalid identifier: ${identifier}`)\n        }\n      }\n    }\n\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier, identifierBase)\n        this.inc('pre', identifier, identifierBase)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier, identifierBase)\n        }\n        this.inc('pre', identifier, identifierBase)\n        break\n      case 'release':\n        if (this.prerelease.length === 0) {\n          throw new Error(`version ${this.raw} is not a prerelease`)\n        }\n        this.prerelease.length = 0\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre': {\n        const base = Number(identifierBase) ? 1 : 0\n\n        if (this.prerelease.length === 0) {\n          this.prerelease = [base]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            if (identifier === this.prerelease.join('.') && identifierBase === false) {\n              throw new Error('invalid increment argument: identifier already exists')\n            }\n            this.prerelease.push(base)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          let prerelease = [identifier, base]\n          if (identifierBase === false) {\n            prerelease = [identifier]\n          }\n          if (compareIdentifiers(this.prerelease[0], identifier) === 0) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = prerelease\n            }\n          } else {\n            this.prerelease = prerelease\n          }\n        }\n        break\n      }\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.raw = this.format()\n    if (this.build.length) {\n      this.raw += `+${this.build.join('.')}`\n    }\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst async = require(\"./utils/async\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst protocolTypeHierarchyItem_1 = require(\"./protocolTypeHierarchyItem\");\nconst protocolWorkspaceSymbol_1 = require(\"./protocolWorkspaceSymbol\");\nconst protocolInlayHint_1 = require(\"./protocolInlayHint\");\nvar InsertReplaceRange;\n(function (InsertReplaceRange) {\n    function is(value) {\n        const candidate = value;\n        return candidate && !!candidate.inserting && !!candidate.replacing;\n    }\n    InsertReplaceRange.is = is;\n})(InsertReplaceRange || (InsertReplaceRange = {}));\nfunction createConverter(uriConverter) {\n    const nullConverter = (value) => value.toString();\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri)\n        };\n    }\n    function asTextDocumentItem(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            languageId: textDocument.languageId,\n            version: textDocument.version,\n            text: textDocument.getText()\n        };\n    }\n    function asVersionedTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            version: textDocument.version\n        };\n    }\n    function asOpenTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentItem(textDocument)\n        };\n    }\n    function isTextDocumentChangeEvent(value) {\n        const candidate = value;\n        return !!candidate.document && !!candidate.contentChanges;\n    }\n    function isTextDocument(value) {\n        const candidate = value;\n        return !!candidate.uri && !!candidate.version;\n    }\n    function asChangeTextDocumentParams(arg0, arg1, arg2) {\n        if (isTextDocument(arg0)) {\n            const result = {\n                textDocument: {\n                    uri: _uriConverter(arg0.uri),\n                    version: arg0.version\n                },\n                contentChanges: [{ text: arg0.getText() }]\n            };\n            return result;\n        }\n        else if (isTextDocumentChangeEvent(arg0)) {\n            const uri = arg1;\n            const version = arg2;\n            const result = {\n                textDocument: {\n                    uri: _uriConverter(uri),\n                    version: version\n                },\n                contentChanges: arg0.contentChanges.map((change) => {\n                    const range = change.range;\n                    return {\n                        range: {\n                            start: { line: range.start.line, character: range.start.character },\n                            end: { line: range.end.line, character: range.end.character }\n                        },\n                        rangeLength: change.rangeLength,\n                        text: change.text\n                    };\n                })\n            };\n            return result;\n        }\n        else {\n            throw Error('Unsupported text document change parameter');\n        }\n    }\n    function asCloseTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\n        let result = {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n        if (includeContent) {\n            result.text = textDocument.getText();\n        }\n        return result;\n    }\n    function asTextDocumentSaveReason(reason) {\n        switch (reason) {\n            case code.TextDocumentSaveReason.Manual:\n                return proto.TextDocumentSaveReason.Manual;\n            case code.TextDocumentSaveReason.AfterDelay:\n                return proto.TextDocumentSaveReason.AfterDelay;\n            case code.TextDocumentSaveReason.FocusOut:\n                return proto.TextDocumentSaveReason.FocusOut;\n        }\n        return proto.TextDocumentSaveReason.Manual;\n    }\n    function asWillSaveTextDocumentParams(event) {\n        return {\n            textDocument: asTextDocumentIdentifier(event.document),\n            reason: asTextDocumentSaveReason(event.reason)\n        };\n    }\n    function asDidCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asDidRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asDidDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asWillDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asTextDocumentPositionParams(textDocument, position) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position)\n        };\n    }\n    function asCompletionTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.CompletionTriggerKind.TriggerCharacter:\n                return proto.CompletionTriggerKind.TriggerCharacter;\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\n            default:\n                return proto.CompletionTriggerKind.Invoked;\n        }\n    }\n    function asCompletionParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                triggerKind: asCompletionTriggerKind(context.triggerKind),\n                triggerCharacter: context.triggerCharacter\n            }\n        };\n    }\n    function asSignatureHelpTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.SignatureHelpTriggerKind.Invoke:\n                return proto.SignatureHelpTriggerKind.Invoked;\n            case code.SignatureHelpTriggerKind.TriggerCharacter:\n                return proto.SignatureHelpTriggerKind.TriggerCharacter;\n            case code.SignatureHelpTriggerKind.ContentChange:\n                return proto.SignatureHelpTriggerKind.ContentChange;\n        }\n    }\n    function asParameterInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label\n        };\n    }\n    function asParameterInformations(values) {\n        return values.map(asParameterInformation);\n    }\n    function asSignatureInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label,\n            parameters: asParameterInformations(value.parameters)\n        };\n    }\n    function asSignatureInformations(values) {\n        return values.map(asSignatureInformation);\n    }\n    function asSignatureHelp(value) {\n        if (value === undefined) {\n            return value;\n        }\n        return {\n            signatures: asSignatureInformations(value.signatures),\n            activeSignature: value.activeSignature,\n            activeParameter: value.activeParameter\n        };\n    }\n    function asSignatureHelpParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                isRetrigger: context.isRetrigger,\n                triggerCharacter: context.triggerCharacter,\n                triggerKind: asSignatureHelpTriggerKind(context.triggerKind),\n                activeSignatureHelp: asSignatureHelp(context.activeSignatureHelp)\n            }\n        };\n    }\n    function asWorkerPosition(position) {\n        return { line: position.line, character: position.character };\n    }\n    function asPosition(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { line: value.line > proto.uinteger.MAX_VALUE ? proto.uinteger.MAX_VALUE : value.line, character: value.character > proto.uinteger.MAX_VALUE ? proto.uinteger.MAX_VALUE : value.character };\n    }\n    function asPositions(values, token) {\n        return async.map(values, asPosition, token);\n    }\n    function asPositionsSync(values) {\n        return values.map(asPosition);\n    }\n    function asRange(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { start: asPosition(value.start), end: asPosition(value.end) };\n    }\n    function asRanges(values) {\n        return values.map(asRange);\n    }\n    function asLocation(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return proto.Location.create(asUri(value.uri), asRange(value.range));\n    }\n    function asDiagnosticSeverity(value) {\n        switch (value) {\n            case code.DiagnosticSeverity.Error:\n                return proto.DiagnosticSeverity.Error;\n            case code.DiagnosticSeverity.Warning:\n                return proto.DiagnosticSeverity.Warning;\n            case code.DiagnosticSeverity.Information:\n                return proto.DiagnosticSeverity.Information;\n            case code.DiagnosticSeverity.Hint:\n                return proto.DiagnosticSeverity.Hint;\n        }\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case code.DiagnosticTag.Unnecessary:\n                return proto.DiagnosticTag.Unnecessary;\n            case code.DiagnosticTag.Deprecated:\n                return proto.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asRelatedInformation(item) {\n        return {\n            message: item.message,\n            location: asLocation(item.location)\n        };\n    }\n    function asRelatedInformations(items) {\n        return items.map(asRelatedInformation);\n    }\n    function asDiagnosticCode(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        if (Is.number(value) || Is.string(value)) {\n            return value;\n        }\n        return { value: value.value, target: asUri(value.target) };\n    }\n    function asDiagnostic(item) {\n        const result = proto.Diagnostic.create(asRange(item.range), item.message);\n        const protocolDiagnostic = item instanceof protocolDiagnostic_1.ProtocolDiagnostic ? item : undefined;\n        if (protocolDiagnostic !== undefined && protocolDiagnostic.data !== undefined) {\n            result.data = protocolDiagnostic.data;\n        }\n        const code = asDiagnosticCode(item.code);\n        if (protocolDiagnostic_1.DiagnosticCode.is(code)) {\n            if (protocolDiagnostic !== undefined && protocolDiagnostic.hasDiagnosticCode) {\n                result.code = code;\n            }\n            else {\n                result.code = code.value;\n                result.codeDescription = { href: code.target };\n            }\n        }\n        else {\n            result.code = code;\n        }\n        if (Is.number(item.severity)) {\n            result.severity = asDiagnosticSeverity(item.severity);\n        }\n        if (Array.isArray(item.tags)) {\n            result.tags = asDiagnosticTags(item.tags);\n        }\n        if (item.relatedInformation) {\n            result.relatedInformation = asRelatedInformations(item.relatedInformation);\n        }\n        if (item.source) {\n            result.source = item.source;\n        }\n        return result;\n    }\n    function asDiagnostics(items, token) {\n        if (items === undefined || items === null) {\n            return items;\n        }\n        return async.map(items, asDiagnostic, token);\n    }\n    function asDiagnosticsSync(items) {\n        if (items === undefined || items === null) {\n            return items;\n        }\n        return items.map(asDiagnostic);\n    }\n    function asDocumentation(format, documentation) {\n        switch (format) {\n            case '$string':\n                return documentation;\n            case proto.MarkupKind.PlainText:\n                return { kind: format, value: documentation };\n            case proto.MarkupKind.Markdown:\n                return { kind: format, value: documentation.value };\n            default:\n                return `Unsupported Markup content received. Kind is: ${format}`;\n        }\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case code.CompletionItemTag.Deprecated:\n                return proto.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined) {\n            return tags;\n        }\n        const result = [];\n        for (let tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItemKind(value, original) {\n        if (original !== undefined) {\n            return original;\n        }\n        return value + 1;\n    }\n    function asCompletionItem(item, labelDetailsSupport = false) {\n        let label;\n        let labelDetails;\n        if (Is.string(item.label)) {\n            label = item.label;\n        }\n        else {\n            label = item.label.label;\n            if (labelDetailsSupport && (item.label.detail !== undefined || item.label.description !== undefined)) {\n                labelDetails = { detail: item.label.detail, description: item.label.description };\n            }\n        }\n        let result = { label: label };\n        if (labelDetails !== undefined) {\n            result.labelDetails = labelDetails;\n        }\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        // We only send items back we created. So this can't be something else than\n        // a string right now.\n        if (item.documentation) {\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\n                result.documentation = item.documentation;\n            }\n            else {\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\n            }\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        fillPrimaryInsertText(result, item);\n        if (Is.number(item.kind)) {\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\n        }\n        if (item.commitCharacters) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const tags = asCompletionItemTags(item.tags);\n        if (protocolItem) {\n            if (protocolItem.data !== undefined) {\n                result.data = protocolItem.data;\n            }\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\n                if (protocolItem.deprecated === true && tags !== undefined && tags.length > 0) {\n                    const index = tags.indexOf(code.CompletionItemTag.Deprecated);\n                    if (index !== -1) {\n                        tags.splice(index, 1);\n                    }\n                }\n                result.deprecated = protocolItem.deprecated;\n            }\n            if (protocolItem.insertTextMode !== undefined) {\n                result.insertTextMode = protocolItem.insertTextMode;\n            }\n        }\n        if (tags !== undefined && tags.length > 0) {\n            result.tags = tags;\n        }\n        if (result.insertTextMode === undefined && item.keepWhitespace === true) {\n            result.insertTextMode = proto.InsertTextMode.adjustIndentation;\n        }\n        return result;\n    }\n    function fillPrimaryInsertText(target, source) {\n        let format = proto.InsertTextFormat.PlainText;\n        let text = undefined;\n        let range = undefined;\n        if (source.textEdit) {\n            text = source.textEdit.newText;\n            range = source.textEdit.range;\n        }\n        else if (source.insertText instanceof code.SnippetString) {\n            format = proto.InsertTextFormat.Snippet;\n            text = source.insertText.value;\n        }\n        else {\n            text = source.insertText;\n        }\n        if (source.range) {\n            range = source.range;\n        }\n        target.insertTextFormat = format;\n        if (source.fromEdit && text !== undefined && range !== undefined) {\n            target.textEdit = asCompletionTextEdit(text, range);\n        }\n        else {\n            target.insertText = text;\n        }\n    }\n    function asCompletionTextEdit(newText, range) {\n        if (InsertReplaceRange.is(range)) {\n            return proto.InsertReplaceEdit.create(newText, asRange(range.inserting), asRange(range.replacing));\n        }\n        else {\n            return { newText, range: asRange(range) };\n        }\n    }\n    function asTextEdit(edit) {\n        return { range: asRange(edit.range), newText: edit.newText };\n    }\n    function asTextEdits(edits) {\n        if (edits === undefined || edits === null) {\n            return edits;\n        }\n        return edits.map(asTextEdit);\n    }\n    function asSymbolKind(item) {\n        if (item <= code.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return (item + 1);\n        }\n        return proto.SymbolKind.Property;\n    }\n    function asSymbolTag(item) {\n        return item;\n    }\n    function asSymbolTags(items) {\n        return items.map(asSymbolTag);\n    }\n    function asReferenceParams(textDocument, position, options) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: { includeDeclaration: options.includeDeclaration }\n        };\n    }\n    async function asCodeAction(item, token) {\n        let result = proto.CodeAction.create(item.title);\n        if (item instanceof protocolCodeAction_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = await asDiagnostics(item.diagnostics, token);\n        }\n        if (item.edit !== undefined) {\n            throw new Error(`VS Code code actions can only be converted to a protocol code action without an edit.`);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    function asCodeActionSync(item) {\n        let result = proto.CodeAction.create(item.title);\n        if (item instanceof protocolCodeAction_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = asDiagnosticsSync(item.diagnostics);\n        }\n        if (item.edit !== undefined) {\n            throw new Error(`VS Code code actions can only be converted to a protocol code action without an edit.`);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    async function asCodeActionContext(context, token) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        let only;\n        if (context.only && Is.string(context.only.value)) {\n            only = [context.only.value];\n        }\n        return proto.CodeActionContext.create(await asDiagnostics(context.diagnostics, token), only, asCodeActionTriggerKind(context.triggerKind));\n    }\n    function asCodeActionContextSync(context) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        let only;\n        if (context.only && Is.string(context.only.value)) {\n            only = [context.only.value];\n        }\n        return proto.CodeActionContext.create(asDiagnosticsSync(context.diagnostics), only, asCodeActionTriggerKind(context.triggerKind));\n    }\n    function asCodeActionTriggerKind(kind) {\n        switch (kind) {\n            case code.CodeActionTriggerKind.Invoke:\n                return proto.CodeActionTriggerKind.Invoked;\n            case code.CodeActionTriggerKind.Automatic:\n                return proto.CodeActionTriggerKind.Automatic;\n            default:\n                return undefined;\n        }\n    }\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        return item.value;\n    }\n    function asInlineValueContext(context) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        return proto.InlineValueContext.create(context.frameId, asRange(context.stoppedLocation));\n    }\n    function asInlineCompletionParams(document, position, context) {\n        return { context: proto.InlineCompletionContext.create(context.triggerKind, context.selectedCompletionInfo),\n            textDocument: asTextDocumentIdentifier(document), position: asPosition(position) };\n    }\n    function asCommand(item) {\n        let result = proto.Command.create(item.title, item.command);\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    function asCodeLens(item) {\n        let result = proto.CodeLens.create(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item instanceof protocolCodeLens_1.default) {\n            if (item.data) {\n                result.data = item.data;\n            }\n        }\n        return result;\n    }\n    function asFormattingOptions(options, fileOptions) {\n        const result = { tabSize: options.tabSize, insertSpaces: options.insertSpaces };\n        if (fileOptions.trimTrailingWhitespace) {\n            result.trimTrailingWhitespace = true;\n        }\n        if (fileOptions.trimFinalNewlines) {\n            result.trimFinalNewlines = true;\n        }\n        if (fileOptions.insertFinalNewline) {\n            result.insertFinalNewline = true;\n        }\n        return result;\n    }\n    function asDocumentSymbolParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCodeLensParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asDocumentLink(item) {\n        let result = proto.DocumentLink.create(asRange(item.range));\n        if (item.target) {\n            result.target = asUri(item.target);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = item.tooltip;\n        }\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\n        if (protocolItem && protocolItem.data) {\n            result.data = protocolItem.data;\n        }\n        return result;\n    }\n    function asDocumentLinkParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCallHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange)\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolCallHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asTypeHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange),\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolTypeHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asWorkspaceSymbol(item) {\n        const result = item instanceof protocolWorkspaceSymbol_1.default\n            ? { name: item.name, kind: asSymbolKind(item.kind), location: item.hasRange ? asLocation(item.location) : { uri: _uriConverter(item.location.uri) }, data: item.data }\n            : { name: item.name, kind: asSymbolKind(item.kind), location: asLocation(item.location) };\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        if (item.containerName !== '') {\n            result.containerName = item.containerName;\n        }\n        return result;\n    }\n    function asInlayHint(item) {\n        const label = typeof item.label === 'string'\n            ? item.label\n            : item.label.map(asInlayHintLabelPart);\n        const result = proto.InlayHint.create(asPosition(item.position), label);\n        if (item.kind !== undefined) {\n            result.kind = item.kind;\n        }\n        if (item.textEdits !== undefined) {\n            result.textEdits = asTextEdits(item.textEdits);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = asTooltip(item.tooltip);\n        }\n        if (item.paddingLeft !== undefined) {\n            result.paddingLeft = item.paddingLeft;\n        }\n        if (item.paddingRight !== undefined) {\n            result.paddingRight = item.paddingRight;\n        }\n        if (item instanceof protocolInlayHint_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    function asInlayHintLabelPart(item) {\n        const result = proto.InlayHintLabelPart.create(item.value);\n        if (item.location !== undefined) {\n            result.location = asLocation(item.location);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = asTooltip(item.tooltip);\n        }\n        return result;\n    }\n    function asTooltip(value) {\n        if (typeof value === 'string') {\n            return value;\n        }\n        const result = {\n            kind: proto.MarkupKind.Markdown,\n            value: value.value\n        };\n        return result;\n    }\n    return {\n        asUri,\n        asTextDocumentIdentifier,\n        asTextDocumentItem,\n        asVersionedTextDocumentIdentifier,\n        asOpenTextDocumentParams,\n        asChangeTextDocumentParams,\n        asCloseTextDocumentParams,\n        asSaveTextDocumentParams,\n        asWillSaveTextDocumentParams,\n        asDidCreateFilesParams,\n        asDidRenameFilesParams,\n        asDidDeleteFilesParams,\n        asWillCreateFilesParams,\n        asWillRenameFilesParams,\n        asWillDeleteFilesParams,\n        asTextDocumentPositionParams,\n        asCompletionParams,\n        asSignatureHelpParams,\n        asWorkerPosition,\n        asRange,\n        asRanges,\n        asPosition,\n        asPositions,\n        asPositionsSync,\n        asLocation,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asDiagnostic,\n        asDiagnostics,\n        asDiagnosticsSync,\n        asCompletionItem,\n        asTextEdit,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asReferenceParams,\n        asCodeAction,\n        asCodeActionSync,\n        asCodeActionContext,\n        asCodeActionContextSync,\n        asInlineValueContext,\n        asCommand,\n        asCodeLens,\n        asFormattingOptions,\n        asDocumentSymbolParams,\n        asCodeLensParams,\n        asDocumentLink,\n        asDocumentLinkParams,\n        asCallHierarchyItem,\n        asTypeHierarchyItem,\n        asInlayHint,\n        asWorkspaceSymbol,\n        asInlineCompletionParams\n    };\n}\nexports.createConverter = createConverter;\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(7807);\n"],"names":["Object","defineProperty","exports","value","WorkDoneProgressCancelNotification","WorkDoneProgressCreateRequest","WorkDoneProgress","vscode_jsonrpc_1","messages_1","type","ProgressType","is","method","messageDirection","MessageDirection","serverToClient","ProtocolRequestType","clientToServer","ProtocolNotificationType","identity","stringify","stringifyComment","stringifyDocument","doc","options","lines","hasDirectives","directives","dir","toString","push","docStart","ctx","createStringifyContext","commentString","commentBefore","length","unshift","cs","indentComment","chompKeep","contentComment","contents","isNode","spaceBefore","forceBlockIndent","comment","onChompKeep","undefined","body","lineComment","docEnd","includes","dc","replace","join","InlayHintRefreshRequest","InlayHintResolveRequest","InlayHintRequest","ProtocolRequestType0","ProgressToken","createMessageConnection","NullLogger","ConnectionOptions","ConnectionStrategy","AbstractMessageBuffer","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","SharedArrayReceiverStrategy","SharedArraySenderStrategy","CancellationToken","CancellationTokenSource","Emitter","Event","Disposable","LRUCache","Touch","LinkedMap","ParameterStructures","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","NotificationType0","NotificationType","ErrorCodes","ResponseError","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RequestType0","RequestType","Message","RAL","MessageStrategy","CancellationStrategy","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","TraceFormat","TraceValues","Trace","enumerable","get","linkedMap_1","disposable_1","events_1","cancellation_1","sharedArrayCancellation_1","messageReader_1","messageWriter_1","messageBuffer_1","connection_1","ral_1","default","TypeDefinitionFeature","vscode_1","vscode_languageserver_protocol_1","features_1","TextDocumentLanguageFeature","constructor","client","super","TypeDefinitionRequest","fillClientCapabilities","capabilities","ensure","dynamicRegistration","typeDefinitionSupport","linkSupport","initialize","documentSelector","id","this","getRegistration","typeDefinitionProvider","register","registerOptions","registerLanguageProvider","selector","provider","provideTypeDefinition","document","position","token","_client","sendRequest","code2ProtocolConverter","asTextDocumentPositionParams","then","result","isCancellationRequested","protocol2CodeConverter","asDefinitionResult","error","handleFailedRequest","middleware","registerProvider","languages","registerTypeDefinitionProvider","asDocumentSelector","createProtocolConnection","input","output","logger","connectionStrategy","module","require","ImplementationRequest","LineCounter","lineStarts","addNewLine","offset","linePos","low","high","mid","line","col","composer","Document","Schema","errors","Alias","Pair","Scalar","YAMLMap","YAMLSeq","cst","lexer","lineCounter","parser","publicApi","visit","Composer","YAMLError","YAMLParseError","YAMLWarning","isAlias","isCollection","isDocument","isMap","isPair","isScalar","isSeq","CST","Lexer","Parser","parse","parseAllDocuments","parseDocument","visitAsync","resolveBlockScalar","resolveFlowScalar","stringifyString","addEndtoBlockProps","props","end","st","setFlowScalarValue","source","slice","oa","tok","assign","nl","indent","items","Array","isArray","filter","key","keys","createScalarToken","context","implicitKey","inFlow","repeat","blockQuote","lineWidth","he","indexOf","head","substring","resolveAsScalar","strict","onError","_onError","pos","code","message","setScalarValue","afterKey","header","Error","setBlockScalarValue","anchorNames","root","anchors","Set","Value","_key","node","anchor","add","findNewAnchor","prefix","exclude","i","name","has","anchorIsValid","test","sa","JSON","createNodeAnchors","aliasObjects","sourceObjects","Map","prevAnchors","onAnchor","setAnchors","ref","generateUuid","isUUID","v4","empty","ValueUUID","_value","asHex","equals","other","V4UUID","_oneOf","array","Math","floor","random","_randomHex","_chars","_timeHighBits","_UUIDPattern","WorkspaceSymbol","SymbolInformation","kind","containerName","locationOrUri","data","hasRange","Uri","Location","Range","util_1","api_1","MessageBuffer","encoding","emptyBuffer","fromString","Buffer","from","TextDecoder","decode","asNative","buffer","allocNative","allocUnsafe","ReadableStreamWrapper","stream","onClose","listener","on","create","off","onEnd","onData","WritableStreamWrapper","write","Promise","resolve","reject","callback","_ril","freeze","messageBuffer","applicationJson","encoder","encode","msg","charset","err","decoder","asReadableStream","asWritableStream","console","timer","setTimeout","ms","args","handle","dispose","clearTimeout","setImmediate","clearImmediate","setInterval","clearInterval","RIL","install","DidSaveTextDocumentFeature","WillSaveWaitUntilFeature","WillSaveFeature","DidChangeTextDocumentFeature","DidCloseTextDocumentFeature","DidOpenTextDocumentFeature","UUID","TextDocumentEventFeature","syncedDocuments","workspace","onDidOpenTextDocument","DidOpenTextDocumentNotification","didOpen","textDocument","asOpenTextDocumentParams","textDocumentFilter","_syncedDocuments","openDocuments","values","textDocumentSyncOptions","resolvedTextDocumentSync","openClose","registrationType","textDocuments","forEach","uri","match","hasDedicatedTextSynchronizationFeature","sendNotification","_type","_createParams","catch","set","getTextDocument","notificationSent","params","pendingTextDocumentChanges","onDidCloseTextDocument","DidCloseTextDocumentNotification","didClose","asCloseTextDocumentParams","_pendingTextDocumentChanges","delete","unregister","_selectors","selectors","_selectorFilter","DynamicDocumentFeature","_changeData","_onNotificationSent","EventEmitter","_onPendingChangeAdded","_syncKind","TextDocumentSyncKind","None","onNotificationSent","event","onPendingChangeAdded","syncKind","DidChangeTextDocumentNotification","change","_listener","onDidChangeTextDocument","updateSyncKind","getDocumentSelectors","contentChanges","version","promises","changeData","Incremental","didChange","async","asChangeTextDocumentParams","Full","eventUri","fire","all","size","clear","getPendingDocumentChanges","excludes","entry","getProvider","send","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","asWillSaveTextDocumentParams","WillSaveTextDocumentWaitUntilRequest","willSaveWaitUntil","edits","vEdits","asTextEdits","waitUntil","onDidSaveTextDocument","DidSaveTextDocumentNotification","didSave","asSaveTextDocumentParams","_includeText","save","saveOptions","includeText","InlineValueRefreshRequest","InlineValueRequest","DidCloseNotebookDocumentNotification","DidSaveNotebookDocumentNotification","DidChangeNotebookDocumentNotification","NotebookCellArrayChange","DidOpenNotebookDocumentNotification","NotebookDocumentSyncRegistrationType","NotebookDocument","NotebookCell","ExecutionSummary","NotebookCellKind","vscode_languageserver_types_1","Is","Markup","Code","executionOrder","success","candidate","objectLiteral","uinteger","boolean","one","equalsMetadata","oneArray","otherArray","oneKeys","otherKeys","sort","prop","DocumentUri","metadata","diff","two","executionSummary","notebookType","cells","string","integer","typedArray","RegistrationType","registrationMethod","start","deleteCount","WorkspaceSymbolRequest","CodeActionResolveRequest","CodeActionRequest","DocumentSymbolRequest","DocumentHighlightRequest","ReferencesRequest","DefinitionRequest","SignatureHelpRequest","SignatureHelpTriggerKind","HoverRequest","CompletionResolveRequest","CompletionRequest","CompletionTriggerKind","PublishDiagnosticsNotification","WatchKind","RelativePattern","FileChangeType","DidChangeWatchedFilesNotification","TextDocumentSaveReason","TextDocumentContentChangeEvent","TelemetryEventNotification","LogMessageNotification","ShowMessageRequest","ShowMessageNotification","MessageType","DidChangeConfigurationNotification","ExitNotification","ShutdownRequest","InitializedNotification","InitializeErrorCodes","InitializeRequest","WorkDoneProgressOptions","TextDocumentRegistrationOptions","StaticRegistrationOptions","PositionEncodingKind","FailureHandlingKind","ResourceOperationKind","UnregistrationRequest","RegistrationRequest","DocumentSelector","NotebookCellTextDocumentFilter","NotebookDocumentFilter","TextDocumentFilter","MonikerRequest","MonikerKind","UniquenessLevel","WillDeleteFilesRequest","DidDeleteFilesNotification","WillRenameFilesRequest","DidRenameFilesNotification","WillCreateFilesRequest","DidCreateFilesNotification","FileOperationPatternKind","LinkedEditingRangeRequest","ShowDocumentRequest","SemanticTokensRegistrationType","SemanticTokensRefreshRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","SemanticTokensRequest","TokenFormat","CallHierarchyPrepareRequest","CallHierarchyOutgoingCallsRequest","CallHierarchyIncomingCallsRequest","SelectionRangeRequest","DeclarationRequest","FoldingRangeRefreshRequest","FoldingRangeRequest","ColorPresentationRequest","DocumentColorRequest","ConfigurationRequest","DidChangeWorkspaceFoldersNotification","WorkspaceFoldersRequest","ApplyWorkspaceEditRequest","ExecuteCommandRequest","PrepareRenameRequest","RenameRequest","PrepareSupportDefaultBehavior","DocumentOnTypeFormattingRequest","DocumentRangesFormattingRequest","DocumentRangeFormattingRequest","DocumentFormattingRequest","DocumentLinkResolveRequest","DocumentLinkRequest","CodeLensRefreshRequest","CodeLensResolveRequest","CodeLensRequest","WorkspaceSymbolResolveRequest","InlineCompletionRequest","DiagnosticRefreshRequest","WorkspaceDiagnosticRequest","DocumentDiagnosticRequest","DocumentDiagnosticReportKind","DiagnosticServerCancellationData","TypeHierarchySupertypesRequest","TypeHierarchySubtypesRequest","TypeHierarchyPrepareRequest","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","protocol_inlineCompletion_1","language","scheme","pattern","notebook","elem","Create","Rename","Delete","Abort","Transactional","TextOnlyTransactional","Undo","UTF8","UTF16","UTF32","hasId","workDoneProgress","hasWorkDoneProgress","unknownProtocolVersion","ProtocolNotificationType0","Warning","Info","Log","Debug","isIncremental","text","range","rangeLength","isFull","Manual","AfterDelay","FocusOut","Created","Changed","Deleted","URI","baseUri","WorkspaceFolder","Change","Invoked","TriggerCharacter","TriggerForIncompleteCompletions","ContentChange","Identifier","ANY","Symbol","Comparator","comp","parseOptions","loose","trim","split","debug","semver","operator","r","re","t","COMPARATORLOOSE","COMPARATOR","m","TypeError","SemVer","er","cmp","intersects","includePrerelease","startsWith","safeRe","node_process","logLevel","messages","log","warn","warning","emitWarning","seq","collection","nodeClass","tag","createNode","schema","obj","toJS","arg","map","v","String","toJSON","hasAnchor","aliasCount","count","res","onCreate","keep","Number","compare","a","b","max","firstKey","next","Node","NodeBase","SCALAR","BLOCK_FOLDED","BLOCK_LITERAL","PLAIN","QUOTE_DOUBLE","QUOTE_SINGLE","isScalarValue","stringifyPair","onComment","allNullValues","indentStep","indentSeq","simpleKeys","keyComment","explicitKey","vsb","vcb","valueComment","keyCommentDone","str","indentAtStart","flow","valueCommentDone","valueStr","ws","vs0","nl0","hasNewline","hasPropsLine","sp0","merge","addPairToJSMap","addToJSMap","isMergeKey","addMergeToJSMap","jsKey","stringKey","strCtx","inStringifyKey","strKey","mapKeyWarned","jsonStr","stringifyKey","jsValue","writable","configurable","ProtocolDocumentLink","DocumentLink","target","__createBinding","o","k","k2","desc","getOwnPropertyDescriptor","__esModule","__exportStar","p","prototype","hasOwnProperty","call","node_1","resolveProps","utilFlowIndentCheck","resolveBlockSeq","composeNode","composeEmptyNode","bs","atRoot","atKey","commentEnd","indicator","parentIndent","startOnNewline","found","compat","flowIndentCheck","stringifyNumber","parseSexagesimal","asBigInt","sign","parts","num","n","BigInt","reduce","stringifySexagesimal","isNaN","isFinite","_60","padStart","intTime","identify","isInteger","format","intAsBigInt","floatTime","timestamp","Date","RegExp","year","month","day","hour","minute","second","millisec","substr","date","UTC","tz","d","abs","toISOString","intIdentify","stringifyJSON","jsonScalars","parseInt","parseFloat","jsonError","concat","composeCollection","composeScalar","resolveEnd","utilEmptyScalarPosition","CN","isSrcToken","alias","endsWith","valueEnd","composeAlias","stringKeys","keepSourceTokens","srcToken","before","emptyScalarPosition","WorkspaceFoldersFeature","arrayDiff","access","left","right","element","_listeners","getState","registrations","fillInitializeParams","folders","workspaceFolders","initializeWithFolders","folder","asProtocol","currentWorkspaceFolders","_initialFolders","onRequest","sendInitialEvent","promise","removed","added","doSendEvent","addedFolders","removedFolders","disposable","onDidChangeWorkspaceFolders","didChangeWorkspaceFolders","workspaceFolder","asUri","onCancellationRequested","Cancelled","shortcutEvent","bind","MutableToken","_isCancelled","cancel","_emitter","_token","file","resolveBlockMap","resolveFlowCollection","resolveCollection","tagName","coll","Coll","tagToken","newlineAfterProp","lastProp","expType","tags","find","kt","knownTags","includesToken","list","findNonEmptyIndex","isFlowToken","getPrevProps","parent","it","sep","getFirstKeyStartProps","prev","loop","splice","fixFlowSeqItems","fc","apply","onNewLine","atNewLine","atScalar","onKeyLine","stack","incomplete","lexeme","lex","env","LOG_TOKENS","prettyToken","step","tokenType","pop","sourceToken","top","peek","scalar","blockScalar","blockMap","blockSequence","flowCollection","documentEnd","last","every","lineEnd","bv","startBlockValue","atIndentedComment","atMapIndent","atNextItem","fs","flowScalar","DependencyAnalyzer","analyze","spec","independentTasks","findIndependentTasks","tasks","parallelGroups","findParallelGroups","criticalPath","findCriticalPath","task","dependsOn","groups","levelMap","level","calculateTaskLevel","taskIds","entries","allTasks","taskMap","depId","depTask","longestPath","findPath","taskId","currentPath","longest","path","reverse","ProtocolCodeLens","CodeLens","utilContainsNewline","utilMapIncludes","blockMsg","isBlock","fcName","collItem","comma","containsNewline","prevItemComment","keyStart","keyNode","valueProps","valueNode","pair","mapIncludes","endRange","expectedEnd","ce","ee","cePos","toUpperCase","WorkspaceSymbolFeature","documentSymbol_1","WorkspaceFeature","symbolCapabilities","symbolKind","valueSet","SupportedSymbolKinds","tagSupport","SupportedSymbolTags","resolveSupport","properties","workspaceSymbolProvider","provideWorkspaceSymbols","query","asSymbolInformations","resolveWorkspaceSymbol","resolveProvider","item","asWorkspaceSymbol","asSymbolInformation","registerWorkspaceSymbolProvider","numeric","compareIdentifiers","anum","bnum","rcompareIdentifiers","ProtocolTypeHierarchyItem","TypeHierarchyItem","detail","selectionRange","HoverFeature","hoverCapability","contentFormat","MarkupKind","Markdown","PlainText","getRegistrationOptions","hoverProvider","provideHover","asHover","registerHoverProvider","DiagnosticFeature","DiagnosticPullMode","vsdiag","minimatch","uuid_1","RequestStateKind","PullState","DocumentOrUri","Tabs","open","_onOpen","_onClose","fillTabResources","window","tabGroups","onDidChangeTabs","closed","opened","oldTabs","currentTabs","tab","toFire","onOpen","isActive","activeTextEditor","isVisible","getTabResources","strings","uris","seen","group","tabs","TabInputText","TabInputTextDiff","modified","TabInputCustom","asKey","DocumentPullStateTracker","documentPullStates","workspacePullStates","track","arg1","states","state","pulledVersion","resultId","update","arg2","unTrack","tracks","getResultId","getAllResultIds","DiagnosticRequestor","isDisposed","onDidChangeDiagnosticsEmitter","createProvider","diagnostics","createDiagnosticCollection","identifier","openRequests","documentStates","workspaceErrorCounter","knows","forget","pull","cb","pullAsync","isUri","currentRequestState","documentState","tokenSource","report","afterState","active","provideDiagnostics","full","LSPCancellationError","retriggerRequest","outDated","CancellationError","reschedule","forgetDocument","request","workspaceDiagnostics","pullWorkspace","pullWorkspaceAsync","workspaceTimeout","provideWorkspaceDiagnostics","workspaceCancellation","previousResultIds","chunk","onDidChangeDiagnostics","previousResultId","isRunning","asDiagnostics","unChanged","resultIds","resultReporter","convertReport","convertPreviousResultIds","converted","partialResultToken","onProgress","partialResult","BackgroundScheduler","diagnosticRequestor","documents","Last","trigger","remove","stop","endDocumentKey","endDocument","intervalHandle","first","DiagnosticFeatureProviderImpl","diagnosticPullOptions","clientOptions","onChange","onSave","disposables","matches","resource","matcher","Minimatch","noext","makeRe","fsPath","matchResource","isActiveDocument","activeTextDocument","backgroundScheduler","addToBackgroundIfNeeded","interFileDependencies","onDidChangeActiveTextEditor","editor","oldActive","openFeature","getFeature","uriStr","pulledTextDocuments","onTabs","changeFeature","onType","saveFeature","closeFeature","cleanUpDocument","capability","relatedDocumentSupport","refreshSupport","getAllProviders","diagnosticProvider","intResolve","radix","intStringify","intOct","opt","int","intHex","ALIAS","nodes","aliasResolveCache","_arg","maxAliasCount","ReferenceError","getAliasCount","_onComment","_onChompKeep","src","verifyAliasOrder","c","kc","vc","prettyErrors","parser$1","composer$1","_doc","compose","prettifyError","warnings","reviver","_reviver","docs","streamInfo","replacer","_replacer","round","keepUndefined","balanced","expand","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","unescapeBraces","charCodeAt","parseCommaParts","pre","post","postParts","shift","embrace","isPadded","el","lte","y","gte","isTop","expansions","expansion","N","isNumericSequence","isAlphaSequence","isSequence","isOptions","x","width","incr","pad","some","fromCharCode","need","z","j","mapAsync","clearTestMode","setTestMode","Semaphore","Delayer","defaultDelay","timeout","completionPromise","onSuccess","delay","cancelTimeout","forceDelivery","isTriggered","capacity","_capacity","_active","_waiting","lock","thunk","runNext","doRunNext","$test","Timer","yieldAfter","startTime","now","counter","total","counterInterval","shouldYield","timeTaken","timeLeft","func","convertBatch","yieldCallback","index","runBatch","boolTag","trueStr","falseStr","_disposable","CallbackList","bucket","_callbacks","_contexts","foundCallbackWithDifferentContext","len","invoke","ret","callbacks","contexts","e","isEmpty","_options","_event","thisArgs","onFirstListenerAdd","_noop","onLastListenerRemove","process","NODE_DEBUG","DocumentLinkFeature","documentLinkCapabilities","tooltipSupport","documentLinkProvider","provideDocumentLinks","asDocumentLinkParams","asDocumentLinks","resolveDocumentLink","link","asDocumentLink","registerDocumentLinkProvider","YAMLSet","findPair","keepPair","_","hasAllNullValues","iterable","iterator","createPair","composeDoc","opts","_directives","contentEnd","collectionFromPath","aliasDuplicateObjects","isEmptyPath","done","Collection","clone","copy","getPrototypeOf","getOwnPropertyDescriptors","addIn","rest","deleteIn","getIn","keepScalar","allowScalar","hasIn","setIn","assertValidPattern","nocomment","charAt","GLOBSTAR","plTypes","close","qmark","star","charSet","s","reSpecials","addPatternStartSet","slashSplit","ext","defaults","def","orig","braceExpand","nobrace","SUBPARSE","mm","f","nonull","charUnescape","braExpEscape","windowsPathsNoEscape","allowWindowsEscape","regexp","negate","partial","make","parseNegate","globSet","globParts","si","nonegate","negateOffset","matchOne","fi","pi","fl","pl","hit","fr","pr","dot","swallowee","isSub","noglobstar","hasMagic","escaping","patternListStack","negativeLists","stateChar","sp","inClass","reClassStart","classStart","dotTravAllowed","dotFileAllowed","subPatternStart","clearStateChar","plEntry","reStart","reEnd","tail","$1","$2","addPatternStart","nlBefore","nlFirst","nlAfter","nlLast","closeParensBefore","openParensBefore","cleanAfter","nocase","toLowerCase","flags","_glob","_src","twoStar","ex","filename","matchBase","flipNegate","maybeMatch","reg","begs","beg","ai","bi","tokens","atNewline","hasSpace","commentSep","reqSpace","stringifyToken","stringifyItem","RequestCancellationReceiverStrategy","IdCancellationReceiverStrategy","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","info","Off","Messages","Compact","Verbose","Text","setPrototypeOf","cancelUndispatched","createCancellationTokenSource","sendCancellation","conn","cleanup","receiver","sender","handleMessage","cancellationStrategy","messageStrategy","messageReader","messageWriter","_logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","tracer","messageQueue","responsePromises","knownCanceledRequests","requestTokens","trace","traceFormat","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","_message","isListening","Listening","isClosed","Closed","Disposed","closeHandler","triggerMessageQueue","processMessageQueue","isRequest","requestMessage","reply","resultOrError","jsonrpc","toJson","traceSendingResponse","replyError","stringifyTrace","logLSPMessage","traceReceivedRequest","requestHandler","handler","tokenKey","cancellationSource","handlerResult","numberOfParams","InvalidParams","parameterStructures","byName","byPosition","InternalError","replySuccess","MethodNotFound","handleRequest","isNotification","notificationHandler","cancelId","traceReceivedNotification","handleNotification","isResponse","responseMessage","responsePromise","timerStart","traceReceivedResponse","handleResponse","number","responseHandler","handleInvalidMessage","toCancel","strategy","response","cancellationToken","queue","addMessageToQueue","lspMessage","isLSPMessage","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","connection","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onNotification","sendProgress","onUnhandledProgress","throwIfNotListening","traceSendingRequest","enableCancellation","MessageWriteError","hasPendingResponse","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","PendingResponseRejected","listen","AlreadyListening","throwIfListening","inspect","verbose","getErrorPos","parsePrelude","prelude","atComment","afterEmptyLine","atDirectives","Directives","decorate","afterDoc","forceDoc","endOffset","LOG_STREAM","depth","SignatureHelpFeature","config","signatureInformation","documentationFormat","parameterInformation","labelOffsetSupport","activeParameterSupport","contextSupport","signatureHelpProvider","provideSignatureHelp","providerSignatureHelp","asSignatureHelpParams","asSignatureHelp","retriggerCharacters","triggerCharacters","registerSignatureHelpProvider","metaData","diagnostic_1","factory","Position","LocationLink","Color","ColorInformation","ColorPresentation","FoldingRangeKind","FoldingRange","DiagnosticRelatedInformation","DiagnosticSeverity","DiagnosticTag","CodeDescription","Diagnostic","Command","TextEdit","ChangeAnnotation","ChangeAnnotationIdentifier","AnnotatedTextEdit","TextDocumentEdit","CreateFile","RenameFile","DeleteFile","WorkspaceEdit","TextDocument","EOL","InlineCompletionContext","SelectedCompletionInfo","InlineCompletionTriggerKind","InlineCompletionList","InlineCompletionItem","StringValue","InlayHint","InlayHintLabelPart","InlayHintKind","InlineValueContext","InlineValueEvaluatableExpression","InlineValueVariableLookup","InlineValueText","SemanticTokens","SemanticTokenModifiers","SemanticTokenTypes","SelectionRange","FormattingOptions","CodeAction","CodeActionContext","CodeActionTriggerKind","CodeActionKind","DocumentSymbol","SymbolTag","SymbolKind","DocumentHighlight","DocumentHighlightKind","SignatureInformation","ParameterInformation","Hover","MarkedString","CompletionList","CompletionItem","CompletionItemLabelDetails","InsertTextMode","InsertReplaceEdit","CompletionItemTag","InsertTextFormat","CompletionItemKind","MarkupContent","TextDocumentItem","OptionalVersionedTextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentIdentifier","WorkspaceChange","MIN_VALUE","MAX_VALUE","character","three","four","targetUri","targetRange","targetSelectionRange","originSelectionRange","red","green","blue","alpha","numberRange","color","label","textEdit","additionalTextEdits","Comment","Imports","Region","startLine","endLine","startCharacter","endCharacter","collapsedText","defined","location","Information","Hint","Unnecessary","Deprecated","href","severity","relatedInformation","_a","codeDescription","title","command","_i","arguments","newText","insert","del","needsConfirmation","description","annotation","annotationId","overwrite","ignoreIfExists","oldUri","newUri","recursive","ignoreIfNotExists","changes","documentChanges","TextEditChangeImpl","changeAnnotations","edit","assertChangeAnnotations","manage","ChangeAnnotations","annotations","_annotations","_counter","_size","idOrAnnotation","nextId","workspaceEdit","_this","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","createFile","optionsOrAnnotation","operation","renameFile","deleteFile","languageId","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Property","Unit","Enum","Keyword","Snippet","File","Reference","Folder","EnumMember","Constant","Struct","Operator","TypeParameter","asIs","adjustIndentation","isIncomplete","fromPlainText","plainText","documentation","parameters","Read","Write","Namespace","Package","Boolean","Key","Null","children","deprecated","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","SourceFixAll","Automatic","only","triggerKind","kindOrCommandOrEdit","checkKind","isPreferred","tabSize","insertSpaces","variableName","caseSensitiveLookup","expression","frameId","stoppedLocation","Type","Parameter","tooltip","textEdits","paddingLeft","paddingRight","createSnippet","insertText","filterText","selectedCompletionInfo","mergeSort","leftIdx","rightIdx","content","FullTextDocument","lineCount","getText","positionAt","offsetAt","applyEdits","sortedEdits","lastModifiedOffset","startOffset","_uri","_languageId","_version","_content","_lineOffsets","getLineOffsets","lineOffsets","isLineStart","ch","min","lineOffset","nextLineOffset","check","ProtocolCallHierarchyItem","CallHierarchyItem","NODE_TYPE","PAIR","mapAsMap","DefinitionFeature","definitionSupport","definitionProvider","provideDefinition","registerDefinitionProvider","floatNaN","NaN","NEGATIVE_INFINITY","POSITIVE_INFINITY","floatExp","toExponential","float","minFractionDigits","createConverter","ls","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","protocolCodeAction_1","protocolDiagnostic_1","protocolCallHierarchyItem_1","protocolTypeHierarchyItem_1","protocolWorkspaceSymbol_1","protocolInlayHint_1","CodeBlock","uriConverter","trustMarkdown","supportHtml","_uriConverter","asDiagnostic","diagnostic","ProtocolDiagnostic","asRange","asDiagnosticSeverity","DiagnosticCode","hasDiagnosticCode","diagnosticCode","asLocation","asRelatedInformation","asDiagnosticTag","asDiagnosticTags","asPosition","asRanges","asDocumentation","asMarkdownString","MarkdownString","appendText","isTrusted","asCompletionItemTag","asCompletionItem","defaultCommitCharacters","defaultRange","defaultInsertTextMode","defaultInsertTextFormat","defaultData","asCompletionItemTags","labelDetails","asCompletionItemLabel","insertTextFormat","inserting","replacing","textEditText","SnippetString","fromEdit","asCompletionInsertText","itemKind","original","originalItemKind","sortText","asTextEditsSync","commitCharacters","stringArray","asCommand","preselect","insertTextMode","keepWhitespace","asTextEdit","asSignatureInformations","asSignatureInformation","asParameterInformations","activeParameter","asParameterInformation","asLocationLink","asLocationResult","links","locations","asDocumentHighlight","asDocumentHighlightKind","asSymbolKind","asSymbolTag","asSymbolTags","fillTags","asDocumentSymbol","child","kindMapping","asCodeActionKind","part","append","asCodeAction","asDiagnosticsSync","asWorkspaceEdit","disabled","reason","asCodeLens","sharedMetadata","asWorkspaceEditEntryMetadata","asMetadata","asColor","asColorInformation","ci","asColorPresentation","cp","presentation","asFoldingRangeKind","asFoldingRange","asSelectionRange","asInlineValue","inlineValue","asInlayHint","asInlayHintLabelPart","asTooltip","asCallHierarchyItem","asCallHierarchyIncomingCall","CallHierarchyIncomingCall","fromRanges","asCallHierarchyOutgoingCall","CallHierarchyOutgoingCall","to","asSemanticTokensEdit","SemanticTokensEdit","Uint32Array","asTypeHierarchyItem","asInlineCompletionItem","inlineCompletionItem","hover","appendCodeblock","appendMarkdown","asHoverContent","asCompletionResult","allCommitCharacters","rangeDefaults","itemDefaults","editRange","getCompletionItemDefaults","SignatureHelp","activeSignature","signatures","asDeclarationResult","asReferences","asDocumentHighlights","asDocumentSymbols","asCommands","asCodeActionKinds","asCodeActionResult","asCodeLenses","asFoldingRanges","foldingRanges","asColorInformations","colorInformation","asColorPresentations","colorPresentations","asSelectionRanges","selectionRanges","asInlineValues","inlineValues","asInlayHints","asSemanticTokensLegend","asSemanticTokens","asSemanticTokensEdits","SemanticTokensEdits","asCallHierarchyItems","asCallHierarchyIncomingCalls","asCallHierarchyOutgoingCalls","asLinkedEditingRanges","LinkedEditingRanges","ranges","asRegularExpression","wordPattern","asTypeHierarchyItems","asGlobPattern","getWorkspaceFolder","asInlineCompletionResult","CompletionItemFeature","SupportedCompletionItemKinds","labelDetailsSupport","completion","completionItem","snippetSupport","commitCharactersSupport","deprecatedSupport","preselectSupport","insertReplaceSupport","insertTextModeSupport","completionItemKind","completionList","completionProvider","provideCompletionItems","asCompletionParams","provideCompletionItem","resolveCompletionItem","registerCompletionItemProvider","applyReviver","node_buffer","binary","Uint8Array","atob","buf","btoa","minContentWidth","ceil","ProgressPart","_reported","_infinite","_lspProgressDisposable","begin","percentage","withProgress","ProgressLocation","Window","cancellable","progress","_progress","_cancellationToken","_tokenDisposable","_resolve","_reject","delta","increment","MAX_SAFE_COMPONENT_LENGTH","MAX_SAFE_BUILD_LENGTH","MAX_LENGTH","safeSrc","R","LETTERDASHNUMBER","safeRegexReplacements","createToken","isGlobal","safe","makeSafeRegex","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","COERCEPLAIN","COERCE","COERCEFULL","LONETILDE","tildeTrimReplace","LONECARET","caretTrimReplace","comparatorTrimReplace","thenable","asPromise","resolved","RenameFeature","rename","prepareSupport","prepareSupportDefaultBehavior","honorsChangeAnnotations","renameProvider","prepareProvider","provideRenameEdits","newName","asTextDocumentIdentifier","prepareRename","isDefaultBehavior","defaultBehavior","placeholder","registerRenameProvider","Unchanged","_ral","ral","InlineCompletionItemFeature","inlineCompletionProvider","provideInlineCompletionItems","asInlineCompletionParams","registerInlineCompletionItemProvider","escapeChars","escapeTagName","tn","yaml","defaultYaml","defaultTags","atDocument","atNextDocument","explicit","verbatim","suffix","decodeURIComponent","tagString","tagEntries","tagNames","DocumentSymbolFeature","hierarchicalDocumentSymbolSupport","labelSupport","documentSymbolProvider","provideDocumentSymbols","_provideDocumentSymbols","asDocumentSymbolParams","registerDocumentSymbolProvider","WorkflowGraphPanel","createOrShow","extensionUri","workflowYaml","column","vscode","viewColumn","currentPanel","_panel","reveal","_update","panel","createWebviewPanel","ViewColumn","Two","enableScripts","localResourceRoots","joinPath","_disposables","_extensionUri","webview","html","_getHtmlForWebview","onDidReceiveMessage","onDidDispose","workflow","YAML","postMessage","executionGraph","ExecutionGraphBuilder","build","graph","taskRef","edges","edge","scriptUri","asWebviewUri","nonce","possible","getNonce","cspSource","ReferencesFeature","referencesProvider","provideReferences","_providerReferences","asReferenceParams","registerReferenceProvider","throwErrors","NotebookDocumentSyncFeature","proto","Converter","$NotebookCell","$NotebookDocumentFilter","$NotebookDocumentSyncOptions","SyncInfo","c2p","asNotebookCells","base","cell","asNotebookCell","deepCopy","asNotebookCellKind","asVersionedNotebookDocumentIdentifier","notebookDocument","asNotebookDocument","asTextContentChange","asNotebookDocumentChangeEvent","changedCells","structure","textContent","compareMetaData","endTime","equalsTiming","timing","equalsExecution","isObjectLiteral","computeDiff","originalCells","modifiedCells","compareMetadata","originalLength","modifiedLength","startIndex","originalEndIndex","modifiedEndIndex","newCells","matchNotebook","asDocumentFilter","notebookSelector","NotebookDocumentSyncFeatureProvider","notebookSyncInfo","notebookDidOpen","onDidOpenNotebookDocument","notebookDocuments","onDidChangeNotebookDocument","didChangeNotebookDocument","onDidSaveNotebookDocument","onDidCloseNotebookDocument","getMatchingCells","mode","handles","didOpenNotebookCellTextDocument","syncInfo","cellMatches","cellIsSynced","matchingCells","doSendChange","doSendOpen","didChangeNotebookCellTextDocument","didCloseNotebookCellTextDocument","cellUri","findIndex","doSendClose","deleted","newEvent","doSendSave","syncedCells","getCells","sendDidOpenNotebookDocument","nb","cellDocuments","asTextDocumentItem","cellTextDocuments","notebooks","sendDidChangeNotebookDocument","sendDidSaveNotebookDocument","sendDidCloseNotebookDocument","matchingCellsSet","cellChanges","cellChange","oldCells","addedCells","removedCells","filtered","filterCells","cellSelector","cellLanguage","notebookDocumentOptions","CellScheme","notebookCell","findNotebookDocumentAndCell","synchronization","executionSummarySupport","preInitialize","notebookDocumentSync","dedicatedChannel","lc","lineStr","trimStart","pointer","MERGE_KEY","mergeValue","srcMap","_encoding","_chunks","_totalLength","toAppend","byteLength","tryReadHeaders","lowerCaseKeys","chunkIndex","chunkBytesRead","row","_read","headers","tryReadBody","numberOfBytes","byteCount","resultOffset","chunkPart","LSPErrorCodes","lspReservedErrorRangeStart","RequestFailed","ServerCancelled","ContentModified","RequestCancelled","lspReservedErrorRangeEnd","nullTag","nullStr","CancellationState","Continue","buffers","SharedArrayBuffer","Int32Array","$cancellationData","_conn","Atomics","store","SharedArrayBufferCancellationToken","load","SharedArrayBufferCancellationTokenSource","ImplementationFeature","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","eq","neq","gt","lt","op","ExecuteCommandFeature","_commands","executeCommandProvider","executeCommand","commands","registerCommand","First","AsOld","AsNew","_map","_head","_tail","_state","touch","previous","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","current","toStringTag","trimOld","newSize","currentSize","fromJSON","limit","ratio","_limit","_ratio","checkTrim","foldLines","exec","lastIndex","foldNewline","fold","escapeCodes","L","P","parseCharCode","cc","raw","fromCodePoint","rel","badChar","plainValue","singleQuotedValue","u","U","wsStart","doubleQuotedValue","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","PortMessageWriter","PortMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","os","crypto_1","net_1","eventEmitter","fireError","fireClose","errorCount","handleError","port","socket","destroy","readable","XDG_RUNTIME_DIR","safeIpcPathLengths","randomSuffix","randomBytes","platform","tmpdir","pipeName","connectResolve","connected","server","createServer","removeListener","onConnected","createConnection","reader","read","addListener","isReadableStream","writer","isWritableStream","FOLD_BLOCK","FOLD_QUOTED","consumeMoreIndentedLines","FOLD_FLOW","foldFlowLines","onFold","onOverflow","endStep","folds","escapedFolds","overflow","escStart","escEnd","pairs","YAMLOMap","pairs$1","createPairs","omap","resolvePairs","seenKeys","search","uniqueKeys","isEqual","chomp","ts","parseBlockScalarHeader","splitLines","chompStart","trimIndent","contentStart","prevMoreIndented","crlf","ProtocolCompletionItem","DynamicFeature","StaticFeature","createParams","selectorFilter","_middleware","_textDocument","getStateInfo","doSend","_registrationType","_registrations","registration","getProviders","SemanticTokensFeature","tokenTypes","namespace","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","function","macro","keyword","modifier","decorator","tokenModifiers","declaration","definition","readonly","static","abstract","modification","defaultLibrary","formats","Relative","requests","multilineTokenSupport","overlappingTokenSupport","serverCancelSupport","augmentsSyntaxTokens","onDidChangeSemanticTokensEmitter","semanticTokensProvider","fullProvider","hasEditProvider","documentProvider","onDidChangeSemanticTokens","provideDocumentSemanticTokens","provideDocumentSemanticTokensEdits","rangeProvider","provideDocumentRangeSemanticTokens","legend","registerDocumentSemanticTokensProvider","registerDocumentRangeSemanticTokensProvider","intBin","hexDigits","tagChars","flowIndicatorChars","invalidAnchorChars","isNotAnchorChar","atEnd","blockScalarIndent","blockScalarKeep","flowKey","flowLevel","indentNext","indentValue","lineEndPos","hasChars","parseNext","atLineEnd","continueScalar","dt","getLine","setNext","parseStream","parseLineStart","parseBlockStart","parseFlowCollection","parseQuotedScalar","parseBlockScalar","parsePlainScalar","BOM","pushCount","dirEnd","pushSpaces","pushNewline","DOCUMENT","ch0","ch1","pushIndicators","pushUntil","FLOW_END","quote","qb","pushToIndex","lastChar","allowEmpty","pushTag","allowTabs","cn","TypeHierarchyFeature","TypeHierarchyProvider","prepareTypeHierarchy","provideTypeHierarchySupertypes","provideTypeHierarchySubtypes","typeHierarchyProvider","registerTypeHierarchyProvider","matchWithTest","findScalarTagByName","findScalarTagByTest","CodeActionFeature","cap","isPreferredSupport","disabledSupport","dataSupport","codeActionLiteralSupport","codeActionKind","codeActionProvider","provideCodeActions","_provideCodeActions","asCodeActionContextSync","resolveCodeAction","asCodeActionSync","registerCodeActionsProvider","codeActionKinds","providedCodeActionKinds","getFoldOptions","containsDocumentMarker","doubleQuotedString","json","doubleQuotedAsJSON","minMultiLineLength","doubleQuotedMinMultiLineLength","singleQuotedString","singleQuote","quotedString","qs","hasDouble","hasSingle","blockEndNewlines","blockString","literal","indentLength","strLen","lineLengthOverLimit","endStart","endNlPos","startEnd","startWithSpace","startNlPos","foldedValue","literalFallback","foldOptions","ss","_stringify","actualString","plainString","defaultKeyType","defaultStringType","ProgressFeature","progressPart_1","activeParts","deleteHandler","_null","bool","LinkedEditingFeature","linkedEditingRangeProvider","provideLinkedEditingRanges","provideLinkedEditing","provideLinkedEditingRange","registerLinkedEditingRangeProvider","SelectionRangeFeature","selectionRangeProvider","provideSelectionRanges","positions","requestParams","asPositionsSync","registerSelectionRangeProvider","cstScalar","cstStringify","cstVisit","InlayHintsFeature","inlayHint","onDidChangeInlayHints","inlayHintProvider","provideInlayHints","viewPort","resolveInlayHint","hint","registerInlayHintsProvider","executionGraphBuilder_1","dependencyAnalyzer_1","for","DOC","MAP","SEQ","webpackEmptyContext","req","InlineValueFeature","onDidChangeInlineValues","inlineValueProvider","provideInlineValues","asInlineValueContext","registerInlineValuesProvider","val","v0","v1","showGraphCommand","showErrorMessage","fileName","subscriptions","serverModule","asAbsolutePath","serverOptions","run","transport","TransportKind","ipc","execArgv","synchronize","fileEvents","createFileSystemWatcher","LanguageClient","ProtocolCodeAction","setSchema","assertCollection","createAlias","keyToStr","asStr","anchorPrefix","onTagObj","resolveKnownTags","sv","jsonArg","flowCollectionPadding","toStringOptions","collectionStyle","resolvedAliases","tagObj","testMatch","getTagObject","anchors$1","stringifyProps","isWindows","trueTag","falseTag","FileSystemWatcherFeature","notifyFileEvent","_notifyFileEvent","_watchers","relativePatternSupport","_capabilities","_documentSelector","watchers","watcher","globPattern","watchCreate","watchChange","watchDelete","fileSystemWatcher","hookListeners","registerRaw","fileSystemWatchers","listeners","onDidCreate","onDidChange","onDidDelete","CodeLensFeature","onDidChangeCodeLensEmitter","codeLensProvider","onDidChangeCodeLenses","provideCodeLenses","asCodeLensParams","resolveCodeLens","codeLens","registerCodeLensProvider","DocumentOnTypeFormattingFeature","DocumentRangeFormattingFeature","DocumentFormattingFeature","FileFormattingOptions","fromConfiguration","filesConfig","getConfiguration","trimTrailingWhitespace","trimFinalNewlines","insertFinalNewline","documentFormattingProvider","provideDocumentFormattingEdits","asFormattingOptions","registerDocumentFormattingEditProvider","rangesSupport","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","provideDocumentRangesFormattingEdits","registerDocumentRangeFormattingEditProvider","documentOnTypeFormattingProvider","provideOnTypeFormattingEdits","moreTriggerCharacter","registerOnTypeFormattingEditProvider","firstTriggerCharacter","stringifyBlockCollection","blockItemPrefix","flowChars","itemIndent","itemCtx","addCommentBefore","ik","stringifyFlowCollection","fcPadding","reqNewline","linesAtValue","iv","sum","ic","stringifyCollection","SyncConfigurationFeature","toJSONObject","ConfigurationFeature","configuration","scopeUri","section","lastIndexOf","isCleared","configurationSection","onDidChangeConfiguration","sections","affectsConfiguration","didChangeConfiguration","settings","extractSettingsInformation","ensurePath","BREAK","SKIP","REMOVE","visitor","visitor_","initVisitor","visit_","ctrl","callVisitor","replaceNode","ck","cv","visitAsync_","Seq","pt","sortMapEntriesByKey","customTags","sortMapEntries","toStringDefaults","getTags","coreKnownTags","hasCycles","cycles","analyzeGraph","levels","calculateLevels","dependencies","visited","recStack","dfs","cycleStart","maxDepLevel","project","global","$import","$export","local","startColMsg","bm","keyProps","_pair","sortEntries","DocumentHighlightFeature","documentHighlightProvider","provideDocumentHighlights","_provideDocumentHighlights","registerDocumentHighlightProvider","FoldingRangeFeature","rangeLimit","lineFoldingOnly","foldingRangeKind","foldingRange","onDidChangeFoldingRange","foldingRangeProvider","onDidChangeFoldingRanges","provideFoldingRanges","registerFoldingRangeProvider","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ConnectionInactive","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","_parameterStructures","SPACE_CHARACTERS","formatted","parseRange","isNullSet","isAny","comps","memoKey","FLAG_INCLUDE_PRERELEASE","FLAG_LOOSE","cached","cache","hr","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","TILDETRIM","CARETTRIM","rangeList","parseComparator","replaceGTE0","rangeMap","comparators","thisComparators","isSatisfiable","rangeComparators","thisComparator","rangeComparator","testSet","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","TILDELOOSE","TILDE","M","replaceCaret","CARETLOOSE","CARET","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","fM","fm","fp","fpr","fb","tM","tm","tp","tpr","prerelease","allowed","major","minor","patch","WillDeleteFilesFeature","WillRenameFilesFeature","WillCreateFilesFeature","DidDeleteFilesFeature","DidRenameFilesFeature","DidCreateFilesFeature","FileOperationFeature","clientCapability","serverCapability","_clientCapability","_serverCapability","_filters","filterSize","fileOperations","filters","minimatchFilter","glob","asMinimatchOptions","getFileType","fileMatches","files","fileType","FileType","Directory","stat","ignoreCase","NotificationFileOperationFeature","notificationType","accessUri","_notificationType","_accessUri","originalEvent","filteredEvent","CachingNotificationFileOperationFeature","_fsPathFileTypes","cacheFileTypes","clearFileTypeCache","_willListener","onDidCreateFiles","asDidCreateFilesParams","didCreateFiles","onDidRenameFiles","asDidRenameFilesParams","onWillRenameFiles","willRename","didRenameFiles","onDidDeleteFiles","asDidDeleteFilesParams","onWillDeleteFiles","willDelete","didDeleteFiles","RequestFileOperationFeature","requestType","_requestType","onWillCreateFiles","asWillCreateFilesParams","willCreateFiles","asWillRenameFilesParams","willRenameFiles","asWillDeleteFilesParams","willDeleteFiles","MAX_SAFE_INTEGER","RELEASE_TYPES","SEMVER_SPEC_VERSION","valueOf","findTagObject","idx","asItemIndex","DeclarationFeature","declarationSupport","declarationProvider","provideDeclaration","registerDeclarationProvider","SettingMonitor","client_1","processes_1","semverParse","semverSatisfies","REQUIRED_VSCODE_VERSION","Transport","Executable","NodeModule","StreamInfo","ChildProcessInfo","isSocket","detached","BaseLanguageClient","arg3","arg4","arg5","forceDebug","_serverOptions","_forceDebug","_isInDebugMode","checkVersion","outputChannel","appendLine","codeVersion","isInDebugMode","restart","finally","_serverProcess","toCheck","_isDetached","checkProcessDied","childProcess","pid","kill","terminate","handleConnectionClosed","processId","createMessageTransports","getEnvironment","fork","debugStartWith","debugEquals","assertStdio","stdin","stdout","stderr","MessageTransports","runDebug","startedInDebugMode","_getServerWorkingDir","serverWorkingDir","stdio","runtime","pipe","cwd","silent","protocol","execOptions","_getRuntimePath","serverProcess","spawn","handleChildProcessStartError","signal","serverWorkingDirectory","isAbsolute","mainRootPath","_mainGetRootPath","existsSync","lstat","stats","isDirectory","_setting","needsStop","primary","enabled","needsStart","path_1","isMacintosh","isLinux","execFileSync","cmd","__dirname","spawnSync","ColorProviderFeature","colorProvider","provideColorPresentations","provideDocumentColors","registerColorProvider","ProposedFeatures","SuspendMode","State","CloseAction","ErrorAction","RevealOutputChannelOn","p2c","async_1","notebook_1","configuration_1","textSynchronization_1","completion_1","hover_1","definition_1","signatureHelp_1","documentHighlight_1","workspaceSymbol_1","reference_1","codeAction_1","codeLens_1","formatting_1","rename_1","documentLink_1","executeCommand_1","fileSystemWatcher_1","colorProvider_1","implementation_1","typeDefinition_1","workspaceFolder_1","foldingRange_1","declaration_1","selectionRange_1","progress_1","callHierarchy_1","semanticTokens_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","inlayHint_1","inlineCompletion_1","ResolvedClientOptions","ClientState","sanitizeIsTrusted","enabledCommands","DefaultErrorHandler","maxRestartCount","restarts","_error","action","Shutdown","Restart","DoNotRestart","_diagnosticQueue","_diagnosticQueueState","_features","_dynamicFeatures","workspaceEditLock","_id","_name","markdown","_clientOptions","diagnosticCollectionName","outputChannelName","revealOutputChannelOn","stdioEncoding","initializationOptions","initializationFailedHandler","progressOnInitialization","errorHandler","createDefaultErrorHandler","connectionOptions","uriConverters","Initial","_ignoredRegistrations","_notificationHandlers","_pendingNotificationHandlers","_notificationDisposables","_requestHandlers","_pendingRequestHandlers","_requestDisposables","_progressHandlers","_pendingProgressHandlers","_progressDisposables","_connection","_initializeResult","_outputChannel","_disposeOutputChannel","_traceOutputChannel","traceOutputChannel","_diagnostics","_pendingOpenNotifications","_pendingChangeSemaphore","_pendingChangeDelayer","_fileEvents","_fileEventDelayer","_onStop","_telemetryEmitter","_stateChangeEmitter","_trace","messageOrDataObject","logTrace","logObjectTrace","_c2p","code2Protocol","_p2c","protocol2Code","registerBuiltinFeatures","onTelemetry","onDidChangeState","createOutputChannel","getPublicState","$state","oldState","newState","Starting","Running","Stopped","initializeResult","StartFailed","Stopping","$start","_didChangeTextDocumentFeature","sendPendingFullTextDocumentChanges","_sendRequest","activeConnection","needsPendingFullTextDocumentSync","openNotification","handleWorkDoneProgress","realHandler","setTrace","data2String","responseError","showNotification","logOutputMessage","Warn","padEnd","toLocaleTimeString","showNotificationMessage","showWarningMessage","showInformationMessage","selection","show","_disposed","_onStart","createOnStartPromise","messageFunc","actions","showDocument","external","openExternal","takeFocus","preserveFocus","showTextDocument","refreshTrace","initOption","rootPath","_clientGetRootPath","initParams","clientInfo","appName","locale","getLocale","rootUri","computeClientCapabilities","doInitialize","workDoneToken","positionEncoding","textDocumentSync","handleDiagnostics","handleRegistrationRequest","handleUnregistrationRequest","handleApplyWorkspaceEdit","hookFileEvents","hookConfigurationChanged","initializeFeatures","retry","shutdown","cleanUp","exit","race","cleanUpChannel","feature","_idleInterval","didChangeWatchedFile","workSpaceMiddleware","triggerPendingChangeDelivery","triggerDiagnosticQueue","workDiagnosticQueue","setDiagnostics","transports","ConsoleLogger","defaultTraceOptions","handleConnectionError","handled","traceConfig","registerFeatures","features","registerFeature","pendingFullTextDocumentChanges","CallHierarchyFeature","registerProposedFeatures","createAll","applyEdit","resourceOperations","failureHandling","normalizesLineEndings","changeAnnotationSupport","groupsOnLabel","versionSupport","codeDescriptionSupport","windowCapabilities","messageActionItem","additionalPropertiesSupport","support","generalCapabilities","staleRequestSupport","retryOnContentModified","RequestsToCancelOnContentModified","regularExpressions","engine","positionEncodings","allowedTags","handleRegisterCapability","nextParams","doRegisterCapability","handleUnregisterCapability","doUnregisterCapability","unregistration","unregisterations","openTextDocuments","versionMismatch","changeUri","applied","defaultValue","CancellableResolveCalls","looseOption","emptyOpts","CallHierarchyProvider","prepareCallHierarchy","provideCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","callHierarchyProvider","registerCallHierarchyProvider","semaphore_1","ResolvedMessageWriterOptions","asError","fromOptions","contentTypeEncoder","contentEncoder","writeSemaphore","doWrite","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","firePartialMessage","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","_partialMessageTimeout","nextMessageLength","messageToken","readSemaphore","partialMessageTimeout","partialMessageTimer","contentLength","fromEntries","setPartialMessageTimer","clearPartialMessageTimer","bytes","waitingTime","boolStringify","schema$1","schema$2","schemas","tagsByName","null","schemaName","addMergeTag","schemaTags","ProtocolInlayHint","_visit","field","itemAtPath","parentCollection","LOOSE","FULL","compareMain","comparePre","compareBuild","inc","release","identifierBase","InsertReplaceRange","asTextDocumentSaveReason","asCompletionTriggerKind","asSignatureHelpTriggerKind","Invoke","asWorkerPosition","protocolDiagnostic","asDiagnosticCode","asCodeActionTriggerKind","asVersionedTextDocumentIdentifier","arg0","isTextDocument","isTextDocumentChangeEvent","includeContent","fileUri","triggerCharacter","isRetrigger","activeSignatureHelp","asPositions","protocolItem","asCompletionTextEdit","fillPrimaryInsertText","includeDeclaration","asCodeActionContext","fileOptions","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","__webpack_exports__"],"ignoreList":[],"sourceRoot":""}