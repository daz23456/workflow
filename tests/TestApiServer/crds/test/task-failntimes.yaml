apiVersion: workflow.example.com/v1
kind: WorkflowTask
metadata:
  name: failntimes
  namespace: test
  labels:
    workflow.io/generated-from: openapi
    workflow.io/operation-id: FailNTimes
  annotations:
    workflow.io/source-path: /api/retry/fail-n-times
spec:
  type: http
  http:
    url: "http://localhost:5100/api/retry/fail-n-times"
    method: POST
  inputSchema:
    type: object
    properties:
      failCount:
        type: integer
        description: "Number of times to fail before succeeding"
      key:
        type: string
        description: "Unique key for this retry sequence"
    required:
      - failCount
  outputSchema:
    type: object
    properties:
      success:
        type: boolean
      attempts:
        type: integer
      configuredFailures:
        type: integer
      message:
        type: string
